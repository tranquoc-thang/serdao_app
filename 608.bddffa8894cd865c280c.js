"use strict";(self.webpackChunkcom_skyfiresolution_tokunabi_admin=self.webpackChunkcom_skyfiresolution_tokunabi_admin||[]).push([[608],{1608:(on,et,s)=>{s.r(et),s.d(et,{CampaignModule:()=>an});var y=s(8583),d=s(4655),U=s(8239),A=s(2587),L=s(5758),G=s(1289),N=s(1841),o=s(3679),t=s(7716),P=s(9075),M=s(2238),x=s(272),D=s(4003),O=s(9344),l=s(9451),q=s(9790),I=s(8022),Z=s(3013),J=s(103),W=s(7258),R=s(4080),w=s(6543),S=s(8122),E=s(4207);let pt=(()=>{class r extends A.H{constructor(e,n,i,a,c,g,u,m,h,_,f,C,v,T){super(e,n,i,a,c,g,u,h,m),this.campaignService=_,this.formBuilder=f,this._ref=C,this.primeConfig=v,this.config=T,this.activationEmailStatus=!1}ngOnInit(){this.campaignsTypeList=[{campaignNo:1,campaignType:"Chi\u1ebfn D\u1ecbch 1"},{campaignNo:2,campaignType:"Chi\u1ebfn D\u1ecbch 2"},{campaignNo:3,campaignType:"Chi\u1ebfn D\u1ecbch 3"}],this._translateService.get("primeng").subscribe(e=>this.primeConfig.setTranslation(e)),this.campaignAddForm=this.formBuilder.group({campaignStartDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],campaignEndDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],campaignRedemptionEndDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],campaignTitle:["",{validators:[o.kI.maxLength(500),o.kI.required],asyncValidators:[],updateOn:"change"}],campaignGiftsLimit:["",{validators:[o.kI.maxLength(50),o.kI.required],asyncValidators:[],updateOn:"change"}],campaignRedemptionMethodDescription:["",{validators:[o.kI.maxLength(500),o.kI.required],asyncValidators:[],updateOn:"change"}],campaignDescription:["",{validators:[o.kI.maxLength(500),o.kI.required],asyncValidators:[],updateOn:"change"}],campaignGeneralRulesDescription:["",{validators:[o.kI.maxLength(500),o.kI.required],asyncValidators:[],updateOn:"change"}]})}onCreateNewCampaign(){var e;const n=new FormData;n.append("campaignStartDate",this.campaignAddForm.value.campaignStartDate),n.append("campaignEndDate",this.campaignAddForm.value.campaignEndDate),n.append("campaignRedemptionEndDate",this.campaignAddForm.value.campaignRedemptionEndDate),n.append("campaignType",this.campaignType),n.append("campaignGroupId",this.currentGroup),n.append("campaignTitle",this.campaignAddForm.value.campaignTitle),n.append("campaignGiftsLimit",this.campaignAddForm.value.campaignGiftsLimit),n.append("campaignDescription",this.campaignAddForm.value.campaignDescription),n.append("campaignRedemptionMethodDescription",this.campaignAddForm.value.campaignRedemptionMethodDescription),n.append("campaignGeneralRulesDescription",this.campaignAddForm.value.campaignGeneralRulesDescription),n.append("campaignBanner",this.currentFileBanner),n.append("campaignThumbnail",this.currentFileThumbnail),null===(e=this.campaignService.createCampaign(n))||void 0===e||e.subscribe(i=>{if(i.type!==N.dt.UploadProgress&&i instanceof N.Zn){let a=i.body;console.log(a),200===a.responseStatus?this.presentToast("success",this._translateService.instant(a.content.message)):417===a.responseStatus?this.presentToast("warning",this._translateService.instant(a.content.message)):(console.log(a),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error")))}},i=>{console.log(i),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error"))})}get email(){return this.campaignAddForm.get("email")}getDate(e){let n=new Date(Date.parse(e));this.currentBirthday=`${n.getFullYear()}/${n.getMonth()+1}/${n.getDate()}`}getGroup(e){this.currentGroup=e.groupId,console.log(this.currentGroup)}getSex(e){this.currentSex=e}getProvince(e){this.currentProvince=e}isDisable(){return this.campaignAddForm.valid}getCampaignType(e){this.campaignType=e.value}onSelectEvent(e){console.log(e),this.currentFile=e}onSelectBanner(e){this.currentFileBanner=e.files[0],console.log(this.currentFileBanner)}onSelectThumbnail(e){this.currentFileThumbnail=e.files[0],console.log(this.currentFileThumbnail)}onRemoveBanner(e){this.currentFileBanner=this.fileUndefined,console.log(this.currentFileBanner)}onRemoveThumbnail(e){this.currentFileThumbnail=this.fileUndefined,console.log(this.currentFileThumbnail)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(d.gz),t.Y36(P.Dx),t.Y36(d.F0),t.Y36(M.uw),t.Y36(x.v),t.Y36(D.w),t.Y36(O._W),t.Y36(l.xA),t.Y36(q.sK),t.Y36(I.U),t.Y36(o.qu),t.Y36(l.E7),t.Y36(Z.b4),t.Y36(l.S))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-dialog-add-campaign"]],features:[t.qOj],decls:66,vars:11,consts:[[3,"formGroup"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["for","campaignType",1,"form-control-label"],["optionLabel","campaignType","optionValue","campaignNo","placeholder","Ch\u1ecdn lo\u1ea1i chi\u1ebfn d\u1ecbch",1,"common-dropdown","p-inputtext-sm","w-full",3,"options","onChange"],[3,"currentGroup"],["for","startDate",1,"form-control-label"],["type","date","id","dateStart","formControlName","campaignStartDate",1,"form-control"],["for","endDate",1,"form-control-label"],["type","date","id","dateEnd","formControlName","campaignEndDate",1,"form-control"],["for","campaignRedemptionEndDate",1,"form-control-label"],["type","date","id","dateEndExchange","formControlName","campaignRedemptionEndDate",1,"form-control"],["for","campaignTitle",1,"form-control-label"],["type","text","id","campaignTitle","formControlName","campaignTitle","placeholder","Ti\xeau \u0110\u1ec1 Chi\u1ebfn D\u1ecbch",1,"form-control"],["controllerName","txtCampaignTitle","controllerType","textbox","controllerTitle","CampaignTitle",3,"mainForm"],[1,"label"],["rows","5","cols","30","pInputTextarea","","id","campaignDescription","formControlName","campaignDescription",3,"autoResize"],["rows","15","cols","30","pInputTextarea","","id","campaignGeneralRulesDescription","formControlName","campaignGeneralRulesDescription",3,"autoResize"],[1,"p-float-label"],["rows","15","cols","30","pInputTextarea","","id","campaignGiftRule","formControlName","campaignRedemptionMethodDescription",1,"form-control",3,"autoResize"],["for","campaignMaxGift",1,"form-control-label"],["type","text","id","campaignMaxGift","formControlName","campaignGiftsLimit","placeholder","S\u1ed1 L\u01b0\u1ee3ng Qu\xe0 T\u1ed1i \u0110a",1,"form-control"],["controllerName","txtMaxGift","controllerType","textbox","controllerTitle","MaxGift",3,"mainForm"],["for","customerIdentificationFront",1,"form-control-label"],["name","docs[]","accept","image/*","chooseLabel","Ch\u1ecdn \u1ea3nh","uploadLabel","T\u1ea3i l\xean","cancelLabel","H\u1ee7y","invalidFileSizeMessageSummary","{0}: K\xedch th\u01b0\u1edbc t\u1ec7p kh\xf4ng h\u1ee3p l\u1ec7","invalidFileSizeMessageDetail","K\xedch th\u01b0\u1edbc t\u1ec7p t\u1ea3i l\xean t\u1ed1i \u0111a l\xe0 {0}.",3,"multiple","maxFileSize","customUpload","onSelect","onRemove"],[1,"p-dialog-footer","button-create","col-md-12"],["label","Th\xeam Chi\u1ebfn D\u1ecbch","styleClass","p-button-text p-button-primary",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"form",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"label",4),t._uU(5,"Lo\u1ea1i Chi\u1ebfn D\u1ecbch:"),t.qZA(),t.TgZ(6,"p-dropdown",5),t.NdJ("onChange",function(a){return n.getCampaignType(a)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",2),t.TgZ(8,"div",3),t.TgZ(9,"app-common-group",6),t.NdJ("currentGroup",function(a){return n.getGroup(a)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",2),t.TgZ(11,"div",3),t.TgZ(12,"label",7),t._uU(13,"Ng\xe0y B\u1eaft \u0110\u1ea7u:"),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.qZA(),t.TgZ(15,"div",2),t.TgZ(16,"div",3),t.TgZ(17,"label",9),t._uU(18,"Ng\xe0y K\u1ebft Th\xfac:"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.qZA(),t.TgZ(20,"div",2),t.TgZ(21,"div",3),t.TgZ(22,"label",11),t._uU(23,"Ng\xe0y K\u1ebft Th\xfac \u0110\u1ed5i Th\u01b0\u1edfng:"),t.qZA(),t._UZ(24,"input",12),t.qZA(),t.qZA(),t.TgZ(25,"div",2),t.TgZ(26,"div",3),t.TgZ(27,"label",13),t._uU(28,"Ti\xeau \u0110\u1ec1 Chi\u1ebfn D\u1ecbch:"),t.qZA(),t._UZ(29,"input",14),t.TgZ(30,"div"),t._UZ(31,"common-validation-message",15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",2),t.TgZ(33,"div",3),t.TgZ(34,"h5",16),t._uU(35,"M\xf4 T\u1ea3 Chi\u1ebfn D\u1ecbch:"),t.qZA(),t._UZ(36,"textarea",17),t.qZA(),t.qZA(),t.TgZ(37,"div",2),t.TgZ(38,"div",3),t.TgZ(39,"h5",16),t._uU(40,"Quy \u0110\u1ecbnh Chung:"),t.qZA(),t._UZ(41,"textarea",18),t.qZA(),t.qZA(),t.TgZ(42,"div",2),t.TgZ(43,"span",19),t.TgZ(44,"h5",16),t._uU(45,"Quy \u0110\u1ecbnh Tr\u1ea3 Th\u01b0\u1edfng:"),t.qZA(),t._UZ(46,"textarea",20),t.qZA(),t.qZA(),t.TgZ(47,"div",2),t.TgZ(48,"div",3),t.TgZ(49,"label",21),t._uU(50,"S\u1ed1 L\u01b0\u1ee3ng Qu\xe0 T\u1ed1i \u0110a:"),t.qZA(),t._UZ(51,"input",22),t.TgZ(52,"div"),t._UZ(53,"common-validation-message",23),t.qZA(),t.qZA(),t.qZA(),t.TgZ(54,"div",2),t.TgZ(55,"div",3),t.TgZ(56,"label",24),t._uU(57,"Thumbnail:"),t.qZA(),t.TgZ(58,"p-fileUpload",25),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)})("onSelect",function(a){return n.onSelectThumbnail(a)})("onRemove",function(a){return n.onRemoveThumbnail(a)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(59,"div",2),t.TgZ(60,"div",3),t.TgZ(61,"label",24),t._uU(62,"Banner:"),t.qZA(),t.TgZ(63,"p-fileUpload",25),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)})("onSelect",function(a){return n.onSelectBanner(a)})("onRemove",function(a){return n.onRemoveBanner(a)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(64,"div",26),t.TgZ(65,"p-button",27),t.NdJ("click",function(){return n.onCreateNewCampaign()}),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("formGroup",n.campaignAddForm),t.xp6(6),t.Q6J("options",n.campaignsTypeList),t.xp6(25),t.Q6J("mainForm",n.campaignAddForm),t.xp6(5),t.Q6J("autoResize",!0),t.xp6(5),t.Q6J("autoResize",!0),t.xp6(5),t.Q6J("autoResize",!0),t.xp6(7),t.Q6J("mainForm",n.campaignAddForm),t.xp6(5),t.Q6J("multiple",!1)("maxFileSize",2e6),t.xp6(5),t.Q6J("multiple",!1)("maxFileSize",2e6))},directives:[o._Y,o.JL,o.sg,J.Lt,W.Z,o.Fj,o.JJ,o.u,R.C,w.g,S.p,E.zx],styles:["span[_ngcontent-%COMP%]{color:#dc3545}.badge[_ngcontent-%COMP%]{height:35px;padding-top:10px;background-color:#d7edff;border:1px solid #51acf6}.badge-secondary[_ngcontent-%COMP%]{color:#008cff}.row[_ngcontent-%COMP%]{margin-top:15px}.group-button[_ngcontent-%COMP%]{text-align:right}.button-create[_ngcontent-%COMP%]{padding:1rem 0 0}.label[_ngcontent-%COMP%]{font-size:13px;width:100%}.w-full[_ngcontent-%COMP%]{width:100%}.activation-email[_ngcontent-%COMP%]{padding-top:1.5rem}[_nghost-%COMP%]     .p-inputmask{width:100%;height:40px;border-radius:8px}[_nghost-%COMP%]     .p-dropdown{width:100%}[_nghost-%COMP%]     .p-calendar{width:100%;height:38px;border-radius:3px}[_nghost-%COMP%]     .p-button-text{background-color:#008cff;color:#fff;border-color:#0000}[_nghost-%COMP%]     .p-datepicker td>span{display:initial;font-size:15px}[_nghost-%COMP%]     .ui-datepicker .ui-widget{font-size:20px}[_nghost-%COMP%]     .p-datepicker{z-index:1003!important;transform-origin:center top!important;left:-1px!important;top:-90px!important}[_nghost-%COMP%]     .p-inputtextarea{width:100%;border-radius:3px}"]}),r})();var k=s(2541);let ct=(()=>{class r extends A.H{constructor(e,n,i,a,c,g,u,m,h,_,f,C,v,T,b){super(e,n,i,a,c,g,u,h,m),this.customerService=_,this.formBuilder=f,this._ref=C,this.primeConfig=v,this.commonService=T,this.config=b,this.activationEmailStatus=!1}ngOnInit(){this.ruleList=[{productNo:20002022,productName:"T\u1ea5m ACB",productPoint:1.5},{productNo:20002023,productName:"T\u1ea5m ACB",productPoint:3.5},{productNo:20002024,productName:"T\u1ea5m ACB",productPoint:2.5},{productNo:20002025,productName:"T\u1ea5m ACB",productPoint:5.5}],this.giftList=[{icon:"https://apis.zeitgypsum.com/public/assets/images/default_avatar.png",giftName:"T\u1ea5m ACB",productPoint:1.5,dateStarExchange:new Date,dateEndExchange:new Date},{icon:"https://apis.zeitgypsum.com/public/assets/images/default_avatar.png",giftName:"T\u1ea5m ACB",productPoint:1.5,dateStarExchange:new Date,dateEndExchange:new Date},{icon:"https://apis.zeitgypsum.com/public/assets/images/default_avatar.png",giftName:"T\u1ea5m ACB",productPoint:1.5,dateStarExchange:new Date,dateEndExchange:new Date}],this._translateService.get("primeng").subscribe(e=>this.primeConfig.setTranslation(e)),this.campaignEditTabForm=this.formBuilder.group({txtStartDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDateGift:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtCampaignTitle:["",{validators:[o.kI.maxLength(500),o.kI.required],asyncValidators:[],updateOn:"change"}],txtMaxGift:["",{validators:[o.kI.maxLength(50),o.kI.required],asyncValidators:[],updateOn:"change"}]}),this.campaignEditTabForm2=this.formBuilder.group({txtStartDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDateGift:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtCampaignTitle:["",{validators:[o.kI.maxLength(500),o.kI.required],asyncValidators:[],updateOn:"change"}],txtMaxGift:["",{validators:[o.kI.maxLength(50),o.kI.required],asyncValidators:[],updateOn:"change"}]}),this.accumulatePointsRuleForm=this.formBuilder.group({txtStartDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDateGift:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtpointProduct:["",{validators:[o.kI.maxLength(500),o.kI.required],asyncValidators:[],updateOn:"change"}],txtMaxGift:["",{validators:[o.kI.maxLength(50),o.kI.required],asyncValidators:[],updateOn:"change"}]}),this.accumulatePointsRuleForm2=this.formBuilder.group({txtStartDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDateGift:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtpointProduct:["",{validators:[o.kI.maxLength(500),o.kI.required],asyncValidators:[],updateOn:"change"}],txtMaxGift:["",{validators:[o.kI.maxLength(50),o.kI.required],asyncValidators:[],updateOn:"change"}]}),this.commonService.provinceSelection.subscribe(e=>{this.provinceList=e,this.provinceListS=this.getProvinceSouth(e),this.provinceListC=this.getProvinceCennter(e),this.provinceListN=this.getProvinceNorth(e)})}get email(){return this.campaignEditTabForm.get("email")}getProvinceSouth(e){let n=[];for(let i of e)"S"==i.provinceNameOptional&&n.push(i);return n}getProvinceCennter(e){let n=[];for(let i of e)"C"==i.provinceNameOptional&&n.push(i);return n}getProvinceNorth(e){let n=[];for(let i of e)"N"==i.provinceNameOptional&&n.push(i);return n}getDate(e){let n=new Date(Date.parse(e));this.currentBirthday=`${n.getFullYear()}/${n.getMonth()+1}/${n.getDate()}`}getGroup(e){this.currentGroup=e}getSex(e){this.currentSex=e}getProvince(e){this.currentProvince=e}isDisable(){return this.campaignEditTabForm.valid}onSelectEvent(e){console.log(e),this.currentFile=e}checkAll(){$("group1").addClass("checked")}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(d.gz),t.Y36(P.Dx),t.Y36(d.F0),t.Y36(M.uw),t.Y36(x.v),t.Y36(D.w),t.Y36(O._W),t.Y36(l.xA),t.Y36(q.sK),t.Y36(k.v),t.Y36(o.qu),t.Y36(l.E7),t.Y36(Z.b4),t.Y36(x.v),t.Y36(l.S))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-dialog-add-quarterly-gift"]],features:[t._Bn([l.xA]),t.qOj],decls:47,vars:10,consts:[[1,"campaigns-edit-wrapper"],[1,"gift-monthly-edit"],[1,"row","input-field"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["for","pointExchangeMonthly",1,"form-control-label"],["type","text","id","pointExchangeMonthly","formControlName","pointExchangeMonthly",1,"form-control"],["for","giftExchangeMonthly",1,"form-control-label"],["type","text","id","giftExchangeMonthly","formControlName","giftExchangeMonthly",1,"form-control"],["for","quantityExchangeMonthly",1,"form-control-label"],["type","text","id","quantityExchangeMonthly","formControlName","quantityExchangeMonthly",1,"form-control"],["for","description",1,"form-control-label"],["rows","5","cols","30","pInputTextarea","","id","description",3,"autoResize"],["for","customerIdentificationFront",1,"form-control-label"],["name","docs[]","accept","image/*",1,"w-full",3,"multiple","maxFileSize","showUploadButton","customUpload"],[1,"group-button"],["label","C\u1eadp Nh\u1eadt Qu\xe0 T\u1eb7ng",1,"save-button"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"label",6),t._uU(7,"\u0110i\u1ec3m quy \u0111\u1ed5i trong qu\xfd: "),t.qZA(),t._UZ(8,"input",7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",3),t.TgZ(10,"div",4),t.TgZ(11,"div",5),t.TgZ(12,"label",8),t._uU(13,"S\u1ea3n ph\u1ea9m quy \u0111\u1ed5i: "),t.qZA(),t._UZ(14,"input",9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",3),t.TgZ(16,"div",4),t.TgZ(17,"div",5),t.TgZ(18,"label",10),t._uU(19,"S\u1ed1 l\u01b0\u1ee3ng quy \u0111\u1ed5i: "),t.qZA(),t._UZ(20,"input",11),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",3),t.TgZ(22,"div",4),t.TgZ(23,"div",5),t.TgZ(24,"label",12),t._uU(25,"M\xf4 t\u1ea3: "),t.qZA(),t._UZ(26,"textarea",13),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"div",3),t.TgZ(28,"div",4),t.TgZ(29,"div",5),t.TgZ(30,"label",14),t._uU(31,"Thumbnail:"),t.qZA(),t.TgZ(32,"p-fileUpload",15),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"div",3),t.TgZ(34,"div",4),t.TgZ(35,"div",5),t.TgZ(36,"label",14),t._uU(37,"Icon:"),t.qZA(),t.TgZ(38,"p-fileUpload",15),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(39,"div",3),t.TgZ(40,"div",4),t.TgZ(41,"div",5),t.TgZ(42,"label",14),t._uU(43,"Banner:"),t.qZA(),t.TgZ(44,"p-fileUpload",15),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(45,"div",16),t._UZ(46,"p-button",17),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(26),t.Q6J("autoResize",!0),t.xp6(6),t.Q6J("multiple",!0)("maxFileSize",2e6)("showUploadButton",!0),t.xp6(6),t.Q6J("multiple",!0)("maxFileSize",2e6)("showUploadButton",!0),t.xp6(6),t.Q6J("multiple",!0)("maxFileSize",2e6)("showUploadButton",!0))},directives:[o.Fj,o.JJ,o.u,w.g,S.p,E.zx],styles:[".campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]{margin-top:10px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{display:inline-block;text-align:center;white-space:nowrap;min-width:170px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .mr-12[_ngcontent-%COMP%]{margin-right:12px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .ml-12[_ngcontent-%COMP%]{margin-left:12px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .mb-0[_ngcontent-%COMP%]{margin-bottom:0}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .d-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .justify-center[_ngcontent-%COMP%]{justify-content:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{display:flex;align-items:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .d-flex-top[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .w-full[_ngcontent-%COMP%]{width:100%}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .field-checkbox[_ngcontent-%COMP%]{margin:12px 0}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .btn-search[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:28px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .text-left-min-width[_ngcontent-%COMP%]{white-space:nowrap;text-align:left;min-width:120px}span[_ngcontent-%COMP%]{color:#dc3545}.badge[_ngcontent-%COMP%]{height:35px;padding-top:10px;background-color:#d7edff;border:1px solid #51acf6}.img-icon[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.badge-secondary[_ngcontent-%COMP%]{color:#008cff}.row[_ngcontent-%COMP%]{margin-top:15px}.group-button[_ngcontent-%COMP%]{text-align:right}.button-create[_ngcontent-%COMP%]{padding:1rem 0 0}.d-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.field-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.label[_ngcontent-%COMP%]{font-size:13px}.w-full[_ngcontent-%COMP%]{width:100%}.mr-20[_ngcontent-%COMP%]{margin-right:20px}.activation-email[_ngcontent-%COMP%]{padding-top:1.5rem}[_nghost-%COMP%]     .p-inputmask{width:100%;height:40px;border-radius:8px}[_nghost-%COMP%]     .p-dropdown{width:100%}[_nghost-%COMP%]     .p-calendar-w-btn .p-inputtext{border-radius:8px 0 0 8px}[_nghost-%COMP%]     .p-calendar-w-btn .p-datepicker-trigger{border-radius:0 8px 8px 0}[_nghost-%COMP%]     .p-calendar{width:100%;height:38px;border-radius:8px}[_nghost-%COMP%]     .save-button .p-button{display:inline-block;padding-left:60px;padding-right:60px}[_nghost-%COMP%]     .p-button-text{background-color:#008cff;color:#fff;border-color:#0000}[_nghost-%COMP%]     .p-datepicker td>span{display:initial;font-size:15px}[_nghost-%COMP%]     .ui-datepicker .ui-widget{font-size:20px}[_nghost-%COMP%]     .p-datepicker{z-index:1003!important;transform-origin:center top!important;left:-1px!important;top:-90px!important}[_nghost-%COMP%]     .p-inputtextarea{width:100%}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link{border:2px solid #dedede;border-top-right-radius:8px;border-top-left-radius:8px}"]}),r})();function lt(r,p){if(1&r&&(t.TgZ(0,"div"),t._UZ(1,"img",20),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("src",e.gift.giftThumbnail,t.LSH)}}function gt(r,p){if(1&r&&(t.TgZ(0,"div"),t._UZ(1,"img",20),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("src",e.gift.giftIcon,t.LSH)}}function st(r,p){if(1&r&&(t.TgZ(0,"div"),t._UZ(1,"img",20),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("src",e.gift.giftBanner,t.LSH)}}let dt=(()=>{class r extends A.H{constructor(e,n,i,a,c,g,u,m,h,_,f,C,v,T,b){super(e,n,i,a,c,g,u,h,m),this.customerService=_,this.formBuilder=f,this._ref=C,this.primeConfig=v,this.commonService=T,this.config=b,this.activationEmailStatus=!1}ngOnInit(){this.gift=this.config.data.gift,this._translateService.get("primeng").subscribe(e=>this.primeConfig.setTranslation(e)),this.campaignQuarterlyGift=this.formBuilder.group({pointExchangeQuarterly:["",{validators:[],asyncValidators:[],updateOn:"change"}],giftExchangeTitle:["",{validators:[],asyncValidators:[],updateOn:"change"}],quantityExchangeLimit:["",{validators:[],asyncValidators:[],updateOn:"change"}],description:["",{validators:[],asyncValidators:[],updateOn:"change"}]}),this.campaignEditTabForm2=this.formBuilder.group({txtStartDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDateGift:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtCampaignTitle:["",{validators:[o.kI.maxLength(500),o.kI.required],asyncValidators:[],updateOn:"change"}],txtMaxGift:["",{validators:[o.kI.maxLength(50),o.kI.required],asyncValidators:[],updateOn:"change"}]}),this.accumulatePointsRuleForm=this.formBuilder.group({txtStartDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDateGift:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtpointProduct:["",{validators:[o.kI.maxLength(500),o.kI.required],asyncValidators:[],updateOn:"change"}],txtMaxGift:["",{validators:[o.kI.maxLength(50),o.kI.required],asyncValidators:[],updateOn:"change"}]}),this.accumulatePointsRuleForm2=this.formBuilder.group({txtStartDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDateGift:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtpointProduct:["",{validators:[o.kI.maxLength(500),o.kI.required],asyncValidators:[],updateOn:"change"}],txtMaxGift:["",{validators:[o.kI.maxLength(50),o.kI.required],asyncValidators:[],updateOn:"change"}]})}getDate(e){let n=new Date(Date.parse(e));this.currentBirthday=`${n.getFullYear()}/${n.getMonth()+1}/${n.getDate()}`}getGroup(e){this.currentGroup=e}getSex(e){this.currentSex=e}getProvince(e){this.currentProvince=e}onSelectEvent(e){console.log(e),this.currentFile=e}checkAll(){$("group1").addClass("checked")}onSelectFront(e){this.currentFileFront=e.currentFiles[0]}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(d.gz),t.Y36(P.Dx),t.Y36(d.F0),t.Y36(M.uw),t.Y36(x.v),t.Y36(D.w),t.Y36(O._W),t.Y36(l.xA),t.Y36(q.sK),t.Y36(k.v),t.Y36(o.qu),t.Y36(l.E7),t.Y36(Z.b4),t.Y36(x.v),t.Y36(l.S))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-dialog-edit-quarterly-gift"]],features:[t._Bn([l.xA]),t.qOj],decls:51,vars:15,consts:[[1,"campaigns-edit-wrapper"],[1,"gift-monthly-edit"],[3,"formGroup"],[1,"row","input-field"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["for","pointExchangeMonthly",1,"form-control-label"],["type","text","id","pointExchangeMonthly","formControlName","pointExchangeQuarterly",1,"form-control",3,"ngModel","ngModelChange"],["for","giftExchangeMonthly",1,"form-control-label"],["type","text","id","giftExchangeMonthly","formControlName","giftExchangeTitle",1,"form-control",3,"ngModel","ngModelChange"],["for","quantityExchangeMonthly",1,"form-control-label"],["type","text","id","quantityExchangeMonthly","formControlName","quantityExchangeLimit",1,"form-control",3,"ngModel","ngModelChange"],["for","description",1,"form-control-label"],["rows","5","cols","30","pInputTextarea","","id","description","formControlName","description",3,"autoResize","ngModel","ngModelChange"],["for","customerIdentificationFront",1,"form-control-label"],["name","docs[]","accept","image/*","invalidFileSizeMessageSummary","{0}: K\xedch th\u01b0\u1edbc t\u1ec7p kh\xf4ng h\u1ee3p l\u1ec7","invalidFileSizeMessageDetail","K\xedch th\u01b0\u1edbc t\u1ec7p t\u1ea3i l\xean t\u1ed1i \u0111a l\xe0 {0}.","chooseLabel","C\u1eadp nh\u1eadt \u1ea3nh","uploadLabel","T\u1ea3i l\xean","cancelLabel","H\u1ee7y",1,"w-full",3,"multiple","maxFileSize","showUploadButton","customUpload","onSelect"],["pTemplate","content"],[1,"group-button"],["label","C\u1eadp Nh\u1eadt Qu\xe0 T\u1eb7ng",1,"save-button"],["alt","Image",1,"img-update",3,"src"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"form",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"label",7),t._uU(8,"\u0110i\u1ec3m quy \u0111\u1ed5i trong qu\xfd: "),t.qZA(),t.TgZ(9,"input",8),t.NdJ("ngModelChange",function(a){return n.gift.giftRequiredPoint=a}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",4),t.TgZ(11,"div",5),t.TgZ(12,"div",6),t.TgZ(13,"label",9),t._uU(14,"S\u1ea3n ph\u1ea9m quy \u0111\u1ed5i: "),t.qZA(),t.TgZ(15,"input",10),t.NdJ("ngModelChange",function(a){return n.gift.giftTitle=a}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",4),t.TgZ(17,"div",5),t.TgZ(18,"div",6),t.TgZ(19,"label",11),t._uU(20,"S\u1ed1 l\u01b0\u1ee3ng quy \u0111\u1ed5i: "),t.qZA(),t.TgZ(21,"input",12),t.NdJ("ngModelChange",function(a){return n.gift.giftLimit=a}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",4),t.TgZ(23,"div",5),t.TgZ(24,"div",6),t.TgZ(25,"label",13),t._uU(26,"M\xf4 t\u1ea3: "),t.qZA(),t.TgZ(27,"textarea",14),t.NdJ("ngModelChange",function(a){return n.gift.giftDescription=a}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"div",4),t.TgZ(29,"div",5),t.TgZ(30,"div",6),t.TgZ(31,"label",15),t._uU(32,"Thumbnail:"),t.qZA(),t.TgZ(33,"p-fileUpload",16),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)})("onSelect",function(a){return n.onSelectFront(a)}),t.YNc(34,lt,2,1,"ng-template",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",4),t.TgZ(36,"div",5),t.TgZ(37,"div",6),t.TgZ(38,"label",15),t._uU(39,"Icon:"),t.qZA(),t.TgZ(40,"p-fileUpload",16),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)})("onSelect",function(a){return n.onSelectFront(a)}),t.YNc(41,gt,2,1,"ng-template",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"div",4),t.TgZ(43,"div",5),t.TgZ(44,"div",6),t.TgZ(45,"label",15),t._uU(46,"Banner:"),t.qZA(),t.TgZ(47,"p-fileUpload",16),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)})("onSelect",function(a){return n.onSelectFront(a)}),t.YNc(48,st,2,1,"ng-template",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(49,"div",18),t._UZ(50,"p-button",19),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("formGroup",n.campaignQuarterlyGift),t.xp6(7),t.Q6J("ngModel",n.gift.giftRequiredPoint),t.xp6(6),t.Q6J("ngModel",n.gift.giftTitle),t.xp6(6),t.Q6J("ngModel",n.gift.giftLimit),t.xp6(6),t.Q6J("autoResize",!0)("ngModel",n.gift.giftDescription),t.xp6(6),t.Q6J("multiple",!1)("maxFileSize",2e6)("showUploadButton",!0),t.xp6(7),t.Q6J("multiple",!1)("maxFileSize",2e6)("showUploadButton",!0),t.xp6(7),t.Q6J("multiple",!1)("maxFileSize",2e6)("showUploadButton",!0))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,w.g,S.p,Z.jx,E.zx],styles:[".campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]{margin-top:10px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{display:inline-block;text-align:center;white-space:nowrap;min-width:170px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .mr-12[_ngcontent-%COMP%]{margin-right:12px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .ml-12[_ngcontent-%COMP%]{margin-left:12px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .mb-0[_ngcontent-%COMP%]{margin-bottom:0}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .d-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .justify-center[_ngcontent-%COMP%]{justify-content:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{display:flex;align-items:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .d-flex-top[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .w-full[_ngcontent-%COMP%]{width:100%}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .field-checkbox[_ngcontent-%COMP%]{margin:12px 0}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .btn-search[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:28px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .text-left-min-width[_ngcontent-%COMP%]{white-space:nowrap;text-align:left;min-width:120px}span[_ngcontent-%COMP%]{color:#dc3545}.badge[_ngcontent-%COMP%]{height:35px;padding-top:10px;background-color:#d7edff;border:1px solid #51acf6}.img-update[_ngcontent-%COMP%]{max-width:100%;height:auto}.badge-secondary[_ngcontent-%COMP%]{color:#008cff}.row[_ngcontent-%COMP%]{margin-top:15px}.group-button[_ngcontent-%COMP%]{text-align:right}.button-create[_ngcontent-%COMP%]{padding:1rem 0 0}.d-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.field-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.label[_ngcontent-%COMP%]{font-size:13px}.w-full[_ngcontent-%COMP%]{width:100%}.mr-20[_ngcontent-%COMP%]{margin-right:20px}.activation-email[_ngcontent-%COMP%]{padding-top:1.5rem}[_nghost-%COMP%]     .p-inputmask{width:100%;height:40px;border-radius:8px}[_nghost-%COMP%]     .p-dropdown{width:100%}[_nghost-%COMP%]     .p-calendar-w-btn .p-inputtext{border-radius:8px 0 0 8px}[_nghost-%COMP%]     .p-calendar-w-btn .p-datepicker-trigger{border-radius:0 8px 8px 0}[_nghost-%COMP%]     .p-calendar{width:100%;height:38px;border-radius:8px}[_nghost-%COMP%]     .save-button .p-button{display:inline-block;padding-left:60px;padding-right:60px}[_nghost-%COMP%]     .p-button-text{background-color:#008cff;color:#fff;border-color:#0000}[_nghost-%COMP%]     .p-datepicker td>span{display:initial;font-size:15px}[_nghost-%COMP%]     .ui-datepicker .ui-widget{font-size:20px}[_nghost-%COMP%]     .p-datepicker{z-index:1003!important;transform-origin:center top!important;left:-1px!important;top:-90px!important}[_nghost-%COMP%]     .p-inputtextarea{width:100%}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link{border:2px solid #dedede;border-top-right-radius:8px;border-top-left-radius:8px}"]}),r})();function ut(r,p){if(1&r&&(t.TgZ(0,"div"),t._UZ(1,"img",20),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("src",e.gift.giftThumbnail,t.LSH)}}function mt(r,p){if(1&r&&(t.TgZ(0,"div"),t._UZ(1,"img",20),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("src",e.gift.giftIcon,t.LSH)}}function ht(r,p){if(1&r&&(t.TgZ(0,"div"),t._UZ(1,"img",20),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("src",e.gift.giftBanner,t.LSH)}}let _t=(()=>{class r extends A.H{constructor(e,n,i,a,c,g,u,m,h,_,f,C,v,T,b){super(e,n,i,a,c,g,u,h,m),this.customerService=_,this.formBuilder=f,this._ref=C,this.primeConfig=v,this.commonService=T,this.config=b,this.activationEmailStatus=!1}ngOnInit(){this.gift=this.config.data.gift,this._translateService.get("primeng").subscribe(e=>this.primeConfig.setTranslation(e)),this.campaignMonthlyGift=this.formBuilder.group({pointExchangeMonthly:["",{validators:[],asyncValidators:[],updateOn:"change"}],giftExchangeTitle:["",{validators:[],asyncValidators:[],updateOn:"change"}],quantityExchangeLimit:["",{validators:[],asyncValidators:[],updateOn:"change"}],description:["",{validators:[],asyncValidators:[],updateOn:"change"}]})}getProvinceCennter(e){let n=[];for(let i of e)"C"==i.provinceNameOptional&&n.push(i);return n}getProvinceNorth(e){let n=[];for(let i of e)"N"==i.provinceNameOptional&&n.push(i);return n}getDate(e){let n=new Date(Date.parse(e));this.currentBirthday=`${n.getFullYear()}/${n.getMonth()+1}/${n.getDate()}`}getGroup(e){this.currentGroup=e}getSex(e){this.currentSex=e}getProvince(e){this.currentProvince=e}onSelectEvent(e){console.log(e),this.currentFile=e}checkAll(){$("group1").addClass("checked")}onSelectFront(e){this.currentFileFront=e.currentFiles[0]}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(d.gz),t.Y36(P.Dx),t.Y36(d.F0),t.Y36(M.uw),t.Y36(x.v),t.Y36(D.w),t.Y36(O._W),t.Y36(l.xA),t.Y36(q.sK),t.Y36(k.v),t.Y36(o.qu),t.Y36(l.E7),t.Y36(Z.b4),t.Y36(x.v),t.Y36(l.S))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-dialog-edit-monthly-gift"]],features:[t._Bn([l.xA]),t.qOj],decls:51,vars:15,consts:[[1,"campaigns-edit-wrapper"],[1,"gift-monthly-edit"],[3,"formGroup"],[1,"row","input-field"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["for","pointExchangeMonthly",1,"form-control-label"],["type","text","id","pointExchangeMonthly","formControlName","pointExchangeMonthly",1,"form-control",3,"ngModel","ngModelChange"],["for","giftExchangeMonthly",1,"form-control-label"],["type","text","id","giftExchangeMonthly","formControlName","giftExchangeTitle",1,"form-control",3,"ngModel","ngModelChange"],["for","quantityExchangeMonthly",1,"form-control-label"],["type","text","id","quantityExchangeMonthly","formControlName","quantityExchangeLimit",1,"form-control",3,"ngModel","ngModelChange"],["for","description",1,"form-control-label"],["rows","5","cols","30","pInputTextarea","","id","description","formControlName","description",3,"autoResize","ngModel","ngModelChange"],["for","customerIdentificationFront",1,"form-control-label"],["name","docs[]","accept","image/*","invalidFileSizeMessageSummary","{0}: K\xedch th\u01b0\u1edbc t\u1ec7p kh\xf4ng h\u1ee3p l\u1ec7","invalidFileSizeMessageDetail","K\xedch th\u01b0\u1edbc t\u1ec7p t\u1ea3i l\xean t\u1ed1i \u0111a l\xe0 {0}.","chooseLabel","C\u1eadp nh\u1eadt \u1ea3nh","uploadLabel","T\u1ea3i l\xean","cancelLabel","H\u1ee7y",1,"w-full",3,"multiple","maxFileSize","showUploadButton","customUpload","onSelect"],["pTemplate","content"],[1,"group-button"],["label","C\u1eadp Nh\u1eadt Qu\xe0 T\u1eb7ng",1,"save-button"],["alt","Image",1,"img-update",3,"src"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"form",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"label",7),t._uU(8,"\u0110i\u1ec3m quy \u0111\u1ed5i trong th\xe1ng: "),t.qZA(),t.TgZ(9,"input",8),t.NdJ("ngModelChange",function(a){return n.gift.giftRequiredPoint=a}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",4),t.TgZ(11,"div",5),t.TgZ(12,"div",6),t.TgZ(13,"label",9),t._uU(14,"S\u1ea3n ph\u1ea9m quy \u0111\u1ed5i: "),t.qZA(),t.TgZ(15,"input",10),t.NdJ("ngModelChange",function(a){return n.gift.giftTitle=a}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",4),t.TgZ(17,"div",5),t.TgZ(18,"div",6),t.TgZ(19,"label",11),t._uU(20,"S\u1ed1 l\u01b0\u1ee3ng quy \u0111\u1ed5i: "),t.qZA(),t.TgZ(21,"input",12),t.NdJ("ngModelChange",function(a){return n.gift.giftLimit=a}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",4),t.TgZ(23,"div",5),t.TgZ(24,"div",6),t.TgZ(25,"label",13),t._uU(26,"M\xf4 t\u1ea3: "),t.qZA(),t.TgZ(27,"textarea",14),t.NdJ("ngModelChange",function(a){return n.gift.giftDescription=a}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"div",4),t.TgZ(29,"div",5),t.TgZ(30,"div",6),t.TgZ(31,"label",15),t._uU(32,"Thumbnail:"),t.qZA(),t.TgZ(33,"p-fileUpload",16),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)})("onSelect",function(a){return n.onSelectFront(a)}),t.YNc(34,ut,2,1,"ng-template",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",4),t.TgZ(36,"div",5),t.TgZ(37,"div",6),t.TgZ(38,"label",15),t._uU(39,"Icon:"),t.qZA(),t.TgZ(40,"p-fileUpload",16),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)})("onSelect",function(a){return n.onSelectFront(a)}),t.YNc(41,mt,2,1,"ng-template",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"div",4),t.TgZ(43,"div",5),t.TgZ(44,"div",6),t.TgZ(45,"label",15),t._uU(46,"Banner:"),t.qZA(),t.TgZ(47,"p-fileUpload",16),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)})("onSelect",function(a){return n.onSelectFront(a)}),t.YNc(48,ht,2,1,"ng-template",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(49,"div",18),t._UZ(50,"p-button",19),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("formGroup",n.campaignMonthlyGift),t.xp6(7),t.Q6J("ngModel",n.gift.giftRequiredPoint),t.xp6(6),t.Q6J("ngModel",n.gift.giftTitle),t.xp6(6),t.Q6J("ngModel",n.gift.giftLimit),t.xp6(6),t.Q6J("autoResize",!0)("ngModel",n.gift.giftDescription),t.xp6(6),t.Q6J("multiple",!1)("maxFileSize",2e6)("showUploadButton",!0),t.xp6(7),t.Q6J("multiple",!1)("maxFileSize",2e6)("showUploadButton",!0),t.xp6(7),t.Q6J("multiple",!1)("maxFileSize",2e6)("showUploadButton",!0))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,w.g,S.p,Z.jx,E.zx],styles:[".campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]{margin-top:10px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{display:inline-block;text-align:center;white-space:nowrap;min-width:170px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .mr-12[_ngcontent-%COMP%]{margin-right:12px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .ml-12[_ngcontent-%COMP%]{margin-left:12px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .mb-0[_ngcontent-%COMP%]{margin-bottom:0}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .d-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .justify-center[_ngcontent-%COMP%]{justify-content:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{display:flex;align-items:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .d-flex-top[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .w-full[_ngcontent-%COMP%]{width:100%}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .field-checkbox[_ngcontent-%COMP%]{margin:12px 0}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .btn-search[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:28px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .text-left-min-width[_ngcontent-%COMP%]{white-space:nowrap;text-align:left;min-width:120px}span[_ngcontent-%COMP%]{color:#dc3545}.badge[_ngcontent-%COMP%]{height:35px;padding-top:10px;background-color:#d7edff;border:1px solid #51acf6}.img-update[_ngcontent-%COMP%]{max-width:100%;height:auto}.badge-secondary[_ngcontent-%COMP%]{color:#008cff}.row[_ngcontent-%COMP%]{margin-top:15px}.group-button[_ngcontent-%COMP%]{text-align:right}.button-create[_ngcontent-%COMP%]{padding:1rem 0 0}.d-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.field-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.label[_ngcontent-%COMP%]{font-size:13px}.w-full[_ngcontent-%COMP%]{width:100%}.mr-20[_ngcontent-%COMP%]{margin-right:20px}.activation-email[_ngcontent-%COMP%]{padding-top:1.5rem}[_nghost-%COMP%]     .p-inputmask{width:100%;height:40px;border-radius:8px}[_nghost-%COMP%]     .p-dropdown{width:100%}[_nghost-%COMP%]     .p-calendar-w-btn .p-inputtext{border-radius:8px 0 0 8px}[_nghost-%COMP%]     .p-calendar-w-btn .p-datepicker-trigger{border-radius:0 8px 8px 0}[_nghost-%COMP%]     .p-calendar{width:100%;height:38px;border-radius:8px}[_nghost-%COMP%]     .save-button .p-button{display:inline-block;padding-left:60px;padding-right:60px}[_nghost-%COMP%]     .p-button-text{background-color:#008cff;color:#fff;border-color:#0000}[_nghost-%COMP%]     .p-datepicker td>span{display:initial;font-size:15px}[_nghost-%COMP%]     .ui-datepicker .ui-widget{font-size:20px}[_nghost-%COMP%]     .p-datepicker{z-index:1003!important;transform-origin:center top!important;left:-1px!important;top:-90px!important}[_nghost-%COMP%]     .p-inputtextarea{width:100%}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link{border:2px solid #dedede;border-top-right-radius:8px;border-top-left-radius:8px}"]}),r})();var B=s(7624);function ft(r,p){if(1&r&&(t.TgZ(0,"div"),t._UZ(1,"img",20),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("src",e.gift.giftThumbnail,t.LSH)}}function Ct(r,p){if(1&r&&(t.TgZ(0,"div"),t._UZ(1,"img",20),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("src",e.gift.giftIcon,t.LSH)}}function Tt(r,p){if(1&r&&(t.TgZ(0,"div"),t._UZ(1,"img",20),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("src",e.gift.giftBanner,t.LSH)}}let Zt=(()=>{class r extends A.H{constructor(e,n,i,a,c,g,u,m,h,_,f,C,v,T,b){super(e,n,i,a,c,g,u,h,m),this.customerService=_,this.formBuilder=f,this._ref=C,this.primeConfig=v,this.commonService=T,this.config=b,this.activationEmailStatus=!1}ngOnInit(){this.gift=this.config.data.gift,this._translateService.get("primeng").subscribe(e=>this.primeConfig.setTranslation(e)),this.campaignSpecialGift=this.formBuilder.group({pointExchangeSpecial:["",{validators:[],asyncValidators:[],updateOn:"change"}],giftExchangeTitle:["",{validators:[],asyncValidators:[],updateOn:"change"}],quantityExchangeLimit:["",{validators:[],asyncValidators:[],updateOn:"change"}],description:["",{validators:[],asyncValidators:[],updateOn:"change"}]})}getDate(e){let n=new Date(Date.parse(e));this.currentBirthday=`${n.getFullYear()}/${n.getMonth()+1}/${n.getDate()}`}getGroup(e){this.currentGroup=e}getSex(e){this.currentSex=e}onSelectEvent(e){console.log(e),this.currentFile=e}checkAll(){$("group1").addClass("checked")}onSelectFront(e){this.currentFileFront=e.currentFiles[0]}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(d.gz),t.Y36(P.Dx),t.Y36(d.F0),t.Y36(M.uw),t.Y36(x.v),t.Y36(D.w),t.Y36(O._W),t.Y36(l.xA),t.Y36(q.sK),t.Y36(k.v),t.Y36(o.qu),t.Y36(l.E7),t.Y36(Z.b4),t.Y36(x.v),t.Y36(l.S))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-dialog-edit-special-gift"]],features:[t._Bn([l.xA]),t.qOj],decls:51,vars:15,consts:[[1,"campaigns-edit-wrapper"],[1,"gift-monthly-edit"],[3,"formGroup"],[1,"row","input-field"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["for","pointExchangeMonthly",1,"form-control-label"],["type","text","id","pointExchangeMonthly","formControlName","pointExchangeSpecial",1,"form-control",3,"ngModel","ngModelChange"],["for","giftExchangeMonthly",1,"form-control-label"],["type","text","id","giftExchangeMonthly","formControlName","giftExchangeTitle",1,"form-control",3,"ngModel","ngModelChange"],["for","quantityExchangeMonthly",1,"form-control-label"],["type","text","id","quantityExchangeMonthly","formControlName","quantityExchangeLimit",1,"form-control",3,"ngModel","ngModelChange"],["for","description",1,"form-control-label"],["rows","5","cols","30","pInputTextarea","","id","description","formControlName","description",3,"autoResize","ngModel","ngModelChange"],["for","customerIdentificationFront",1,"form-control-label"],["name","docs[]","accept","image/*","invalidFileSizeMessageSummary","{0}: K\xedch th\u01b0\u1edbc t\u1ec7p kh\xf4ng h\u1ee3p l\u1ec7","invalidFileSizeMessageDetail","K\xedch th\u01b0\u1edbc t\u1ec7p t\u1ea3i l\xean t\u1ed1i \u0111a l\xe0 {0}.","chooseLabel","C\u1eadp nh\u1eadt \u1ea3nh","uploadLabel","T\u1ea3i l\xean","cancelLabel","H\u1ee7y",1,"w-full",3,"multiple","maxFileSize","showUploadButton","customUpload","onSelect"],["pTemplate","content"],[1,"group-button"],["label","C\u1eadp Nh\u1eadt Qu\xe0 T\u1eb7ng",1,"save-button"],["alt","Image",1,"img-update",3,"src"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"form",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"label",7),t._uU(8,"\u0110i\u1ec3m quy \u0111\u1ed5i cu\u1ed1i ch\u01b0\u01a1ng tr\xecnh: "),t.qZA(),t.TgZ(9,"input",8),t.NdJ("ngModelChange",function(a){return n.gift.giftRequiredPoint=a}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",4),t.TgZ(11,"div",5),t.TgZ(12,"div",6),t.TgZ(13,"label",9),t._uU(14,"S\u1ea3n ph\u1ea9m quy \u0111\u1ed5i: "),t.qZA(),t.TgZ(15,"input",10),t.NdJ("ngModelChange",function(a){return n.gift.giftTitle=a}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",4),t.TgZ(17,"div",5),t.TgZ(18,"div",6),t.TgZ(19,"label",11),t._uU(20,"S\u1ed1 l\u01b0\u1ee3ng quy \u0111\u1ed5i: "),t.qZA(),t.TgZ(21,"input",12),t.NdJ("ngModelChange",function(a){return n.gift.giftLimit=a}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",4),t.TgZ(23,"div",5),t.TgZ(24,"div",6),t.TgZ(25,"label",13),t._uU(26,"M\xf4 t\u1ea3: "),t.qZA(),t.TgZ(27,"textarea",14),t.NdJ("ngModelChange",function(a){return n.gift.giftDescription=a}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"div",4),t.TgZ(29,"div",5),t.TgZ(30,"div",6),t.TgZ(31,"label",15),t._uU(32,"Thumbnail:"),t.qZA(),t.TgZ(33,"p-fileUpload",16),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)})("onSelect",function(a){return n.onSelectFront(a)}),t.YNc(34,ft,2,1,"ng-template",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",4),t.TgZ(36,"div",5),t.TgZ(37,"div",6),t.TgZ(38,"label",15),t._uU(39,"Icon:"),t.qZA(),t.TgZ(40,"p-fileUpload",16),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)})("onSelect",function(a){return n.onSelectFront(a)}),t.YNc(41,Ct,2,1,"ng-template",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"div",4),t.TgZ(43,"div",5),t.TgZ(44,"div",6),t.TgZ(45,"label",15),t._uU(46,"Banner:"),t.qZA(),t.TgZ(47,"p-fileUpload",16),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)})("onSelect",function(a){return n.onSelectFront(a)}),t.YNc(48,Tt,2,1,"ng-template",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(49,"div",18),t._UZ(50,"p-button",19),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("formGroup",n.campaignSpecialGift),t.xp6(7),t.Q6J("ngModel",n.gift.giftRequiredPoint),t.xp6(6),t.Q6J("ngModel",n.gift.giftTitle),t.xp6(6),t.Q6J("ngModel",n.gift.giftLimit),t.xp6(6),t.Q6J("autoResize",!0)("ngModel",n.gift.giftDescription),t.xp6(6),t.Q6J("multiple",!1)("maxFileSize",2e6)("showUploadButton",!0),t.xp6(7),t.Q6J("multiple",!1)("maxFileSize",2e6)("showUploadButton",!0),t.xp6(7),t.Q6J("multiple",!1)("maxFileSize",2e6)("showUploadButton",!0))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,w.g,S.p,Z.jx,E.zx],styles:[".campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]{margin-top:10px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{display:inline-block;text-align:center;white-space:nowrap;min-width:170px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .mr-12[_ngcontent-%COMP%]{margin-right:12px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .ml-12[_ngcontent-%COMP%]{margin-left:12px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .mb-0[_ngcontent-%COMP%]{margin-bottom:0}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .d-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .justify-center[_ngcontent-%COMP%]{justify-content:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{display:flex;align-items:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .d-flex-top[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .w-full[_ngcontent-%COMP%]{width:100%}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .field-checkbox[_ngcontent-%COMP%]{margin:12px 0}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .btn-search[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:28px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .text-left-min-width[_ngcontent-%COMP%]{white-space:nowrap;text-align:left;min-width:120px}span[_ngcontent-%COMP%]{color:#dc3545}.badge[_ngcontent-%COMP%]{height:35px;padding-top:10px;background-color:#d7edff;border:1px solid #51acf6}.img-update[_ngcontent-%COMP%]{max-width:100%;height:auto}.badge-secondary[_ngcontent-%COMP%]{color:#008cff}.row[_ngcontent-%COMP%]{margin-top:15px}.group-button[_ngcontent-%COMP%]{text-align:right}.button-create[_ngcontent-%COMP%]{padding:1rem 0 0}.d-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.field-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.label[_ngcontent-%COMP%]{font-size:13px}.w-full[_ngcontent-%COMP%]{width:100%}.mr-20[_ngcontent-%COMP%]{margin-right:20px}.activation-email[_ngcontent-%COMP%]{padding-top:1.5rem}[_nghost-%COMP%]     .p-inputmask{width:100%;height:40px;border-radius:8px}[_nghost-%COMP%]     .p-dropdown{width:100%}[_nghost-%COMP%]     .p-calendar-w-btn .p-inputtext{border-radius:8px 0 0 8px}[_nghost-%COMP%]     .p-calendar-w-btn .p-datepicker-trigger{border-radius:0 8px 8px 0}[_nghost-%COMP%]     .p-calendar{width:100%;height:38px;border-radius:8px}[_nghost-%COMP%]     .save-button .p-button{display:inline-block;padding-left:60px;padding-right:60px}[_nghost-%COMP%]     .p-button-text{background-color:#008cff;color:#fff;border-color:#0000}[_nghost-%COMP%]     .p-datepicker td>span{display:initial;font-size:15px}[_nghost-%COMP%]     .ui-datepicker .ui-widget{font-size:20px}[_nghost-%COMP%]     .p-datepicker{z-index:1003!important;transform-origin:center top!important;left:-1px!important;top:-90px!important}[_nghost-%COMP%]     .p-inputtextarea{width:100%}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link{border:2px solid #dedede;border-top-right-radius:8px;border-top-left-radius:8px}"]}),r})(),vt=(()=>{class r extends A.H{constructor(e,n,i,a,c,g,u,m,h,_,f,C,v,T,b){super(e,n,i,a,c,g,u,h,m),this.customerService=_,this.formBuilder=f,this._ref=C,this.primeConfig=v,this.commonService=T,this.config=b,this.activationEmailStatus=!1}ngOnInit(){this.ruleList=[{productNo:20002022,productName:"T\u1ea5m ACB",productPoint:1.5},{productNo:20002023,productName:"T\u1ea5m ACB",productPoint:3.5},{productNo:20002024,productName:"T\u1ea5m ACB",productPoint:2.5},{productNo:20002025,productName:"T\u1ea5m ACB",productPoint:5.5}],this.giftList=[{icon:"https://apis.zeitgypsum.com/public/assets/images/default_avatar.png",giftName:"T\u1ea5m ACB",productPoint:1.5,dateStarExchange:new Date,dateEndExchange:new Date},{icon:"https://apis.zeitgypsum.com/public/assets/images/default_avatar.png",giftName:"T\u1ea5m ACB",productPoint:1.5,dateStarExchange:new Date,dateEndExchange:new Date},{icon:"https://apis.zeitgypsum.com/public/assets/images/default_avatar.png",giftName:"T\u1ea5m ACB",productPoint:1.5,dateStarExchange:new Date,dateEndExchange:new Date}],this._translateService.get("primeng").subscribe(e=>this.primeConfig.setTranslation(e)),this.campaignEditTabForm=this.formBuilder.group({txtStartDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDateGift:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtCampaignTitle:["",{validators:[o.kI.maxLength(500),o.kI.required],asyncValidators:[],updateOn:"change"}],txtMaxGift:["",{validators:[o.kI.maxLength(50),o.kI.required],asyncValidators:[],updateOn:"change"}]}),this.campaignEditTabForm2=this.formBuilder.group({txtStartDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDateGift:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtCampaignTitle:["",{validators:[o.kI.maxLength(500),o.kI.required],asyncValidators:[],updateOn:"change"}],txtMaxGift:["",{validators:[o.kI.maxLength(50),o.kI.required],asyncValidators:[],updateOn:"change"}]}),this.accumulatePointsRuleForm=this.formBuilder.group({txtStartDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDateGift:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtpointProduct:["",{validators:[o.kI.maxLength(500),o.kI.required],asyncValidators:[],updateOn:"change"}],txtMaxGift:["",{validators:[o.kI.maxLength(50),o.kI.required],asyncValidators:[],updateOn:"change"}]}),this.accumulatePointsRuleForm2=this.formBuilder.group({txtStartDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDateGift:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtpointProduct:["",{validators:[o.kI.maxLength(500),o.kI.required],asyncValidators:[],updateOn:"change"}],txtMaxGift:["",{validators:[o.kI.maxLength(50),o.kI.required],asyncValidators:[],updateOn:"change"}]}),this.commonService.provinceSelection.subscribe(e=>{this.provinceList=e,this.provinceListS=this.getProvinceSouth(e),this.provinceListC=this.getProvinceCennter(e),this.provinceListN=this.getProvinceNorth(e)})}get email(){return this.campaignEditTabForm.get("email")}getProvinceSouth(e){let n=[];for(let i of e)"S"==i.provinceNameOptional&&n.push(i);return n}getProvinceCennter(e){let n=[];for(let i of e)"C"==i.provinceNameOptional&&n.push(i);return n}getProvinceNorth(e){let n=[];for(let i of e)"N"==i.provinceNameOptional&&n.push(i);return n}getDate(e){let n=new Date(Date.parse(e));this.currentBirthday=`${n.getFullYear()}/${n.getMonth()+1}/${n.getDate()}`}getGroup(e){this.currentGroup=e}getSex(e){this.currentSex=e}getProvince(e){this.currentProvince=e}isDisable(){return this.campaignEditTabForm.valid}onSelectEvent(e){console.log(e),this.currentFile=e}checkAll(){$("group1").addClass("checked")}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(d.gz),t.Y36(P.Dx),t.Y36(d.F0),t.Y36(M.uw),t.Y36(x.v),t.Y36(D.w),t.Y36(O._W),t.Y36(l.xA),t.Y36(q.sK),t.Y36(k.v),t.Y36(o.qu),t.Y36(l.E7),t.Y36(Z.b4),t.Y36(x.v),t.Y36(l.S))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-dialog-add-monthly-gift"]],features:[t._Bn([l.xA]),t.qOj],decls:47,vars:10,consts:[[1,"campaigns-edit-wrapper"],[1,"gift-monthly-edit"],[1,"row","input-field"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["for","pointExchangeMonthly",1,"form-control-label"],["type","text","id","pointExchangeMonthly","formControlName","pointExchangeMonthly",1,"form-control"],["for","giftExchangeMonthly",1,"form-control-label"],["type","text","id","giftExchangeMonthly","formControlName","giftExchangeMonthly",1,"form-control"],["for","quantityExchangeMonthly",1,"form-control-label"],["type","text","id","quantityExchangeMonthly","formControlName","quantityExchangeMonthly",1,"form-control"],["for","description",1,"form-control-label"],["rows","5","cols","30","pInputTextarea","","id","description",3,"autoResize"],["for","customerIdentificationFront",1,"form-control-label"],["name","docs[]","accept","image/*",1,"w-full",3,"multiple","maxFileSize","showUploadButton","customUpload"],[1,"group-button"],["label","C\u1eadp Nh\u1eadt Qu\xe0 T\u1eb7ng",1,"save-button"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"label",6),t._uU(7,"\u0110i\u1ec3m quy \u0111\u1ed5i cu\u1ed1i ch\u01b0\u01a1ng tr\xecnh: "),t.qZA(),t._UZ(8,"input",7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",3),t.TgZ(10,"div",4),t.TgZ(11,"div",5),t.TgZ(12,"label",8),t._uU(13,"S\u1ea3n ph\u1ea9m quy \u0111\u1ed5i: "),t.qZA(),t._UZ(14,"input",9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",3),t.TgZ(16,"div",4),t.TgZ(17,"div",5),t.TgZ(18,"label",10),t._uU(19,"S\u1ed1 l\u01b0\u1ee3ng quy \u0111\u1ed5i: "),t.qZA(),t._UZ(20,"input",11),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",3),t.TgZ(22,"div",4),t.TgZ(23,"div",5),t.TgZ(24,"label",12),t._uU(25,"M\xf4 t\u1ea3: "),t.qZA(),t._UZ(26,"textarea",13),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"div",3),t.TgZ(28,"div",4),t.TgZ(29,"div",5),t.TgZ(30,"label",14),t._uU(31,"Thumbnail:"),t.qZA(),t.TgZ(32,"p-fileUpload",15),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"div",3),t.TgZ(34,"div",4),t.TgZ(35,"div",5),t.TgZ(36,"label",14),t._uU(37,"Icon:"),t.qZA(),t.TgZ(38,"p-fileUpload",15),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(39,"div",3),t.TgZ(40,"div",4),t.TgZ(41,"div",5),t.TgZ(42,"label",14),t._uU(43,"Banner:"),t.qZA(),t.TgZ(44,"p-fileUpload",15),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(45,"div",16),t._UZ(46,"p-button",17),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(26),t.Q6J("autoResize",!0),t.xp6(6),t.Q6J("multiple",!0)("maxFileSize",2e6)("showUploadButton",!0),t.xp6(6),t.Q6J("multiple",!0)("maxFileSize",2e6)("showUploadButton",!0),t.xp6(6),t.Q6J("multiple",!0)("maxFileSize",2e6)("showUploadButton",!0))},directives:[o.Fj,o.JJ,o.u,w.g,S.p,E.zx],styles:[".campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]{margin-top:10px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{display:inline-block;text-align:center;white-space:nowrap;min-width:170px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .mr-12[_ngcontent-%COMP%]{margin-right:12px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .ml-12[_ngcontent-%COMP%]{margin-left:12px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .mb-0[_ngcontent-%COMP%]{margin-bottom:0}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .d-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .justify-center[_ngcontent-%COMP%]{justify-content:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{display:flex;align-items:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .d-flex-top[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .w-full[_ngcontent-%COMP%]{width:100%}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .field-checkbox[_ngcontent-%COMP%]{margin:12px 0}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .btn-search[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:28px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .text-left-min-width[_ngcontent-%COMP%]{white-space:nowrap;text-align:left;min-width:120px}span[_ngcontent-%COMP%]{color:#dc3545}.badge[_ngcontent-%COMP%]{height:35px;padding-top:10px;background-color:#d7edff;border:1px solid #51acf6}.img-icon[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.badge-secondary[_ngcontent-%COMP%]{color:#008cff}.row[_ngcontent-%COMP%]{margin-top:15px}.group-button[_ngcontent-%COMP%]{text-align:right}.button-create[_ngcontent-%COMP%]{padding:1rem 0 0}.d-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.field-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.label[_ngcontent-%COMP%]{font-size:13px}.w-full[_ngcontent-%COMP%]{width:100%}.mr-20[_ngcontent-%COMP%]{margin-right:20px}.activation-email[_ngcontent-%COMP%]{padding-top:1.5rem}[_nghost-%COMP%]     .p-inputmask{width:100%;height:40px;border-radius:8px}[_nghost-%COMP%]     .p-dropdown{width:100%}[_nghost-%COMP%]     .p-calendar-w-btn .p-inputtext{border-radius:8px 0 0 8px}[_nghost-%COMP%]     .p-calendar-w-btn .p-datepicker-trigger{border-radius:0 8px 8px 0}[_nghost-%COMP%]     .p-calendar{width:100%;height:38px;border-radius:8px}[_nghost-%COMP%]     .save-button .p-button{display:inline-block;padding-left:60px;padding-right:60px}[_nghost-%COMP%]     .p-button-text{background-color:#008cff;color:#fff;border-color:#0000}[_nghost-%COMP%]     .p-datepicker td>span{display:initial;font-size:15px}[_nghost-%COMP%]     .ui-datepicker .ui-widget{font-size:20px}[_nghost-%COMP%]     .p-datepicker{z-index:1003!important;transform-origin:center top!important;left:-1px!important;top:-90px!important}[_nghost-%COMP%]     .p-inputtextarea{width:100%}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link{border:2px solid #dedede;border-top-right-radius:8px;border-top-left-radius:8px}"]}),r})();var Y=s(6711),nt=s(3473),V=s(4748),K=s(8598),z=s(3928),at=s(2332);function xt(r,p){if(1&r){const e=t.EpF();t.TgZ(0,"div",12),t.TgZ(1,"div",3),t.TgZ(2,"p-checkbox",13),t.NdJ("ngModelChange",function(i){const c=t.CHM(e).index;return t.oxw().isCheckS[c]=i}),t.qZA(),t.TgZ(3,"label",14),t._uU(4),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=p.$implicit,n=p.index,i=t.oxw();t.xp6(2),t.s9C("value",e.provinceId),t.Q6J("ngModel",i.isCheckS[n])("binary",!0),t.xp6(2),t.Oqu(e.provinceName)}}function bt(r,p){if(1&r){const e=t.EpF();t.TgZ(0,"div",12),t.TgZ(1,"div",3),t.TgZ(2,"p-checkbox",15),t.NdJ("ngModelChange",function(i){const c=t.CHM(e).index;return t.oxw().isCheckC[c]=i}),t.qZA(),t.TgZ(3,"label",14),t._uU(4),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=p.$implicit,n=p.index,i=t.oxw();t.xp6(2),t.s9C("value",e.provinceId),t.Q6J("ngModel",i.isCheckC[n])("binary",!0),t.xp6(2),t.Oqu(e.provinceName)}}function Et(r,p){if(1&r){const e=t.EpF();t.TgZ(0,"div",12),t.TgZ(1,"div",3),t.TgZ(2,"p-checkbox",16),t.NdJ("ngModelChange",function(i){const c=t.CHM(e).index;return t.oxw().isCheckN[c]=i}),t.qZA(),t.TgZ(3,"label",14),t._uU(4),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=p.$implicit,n=p.index,i=t.oxw();t.xp6(2),t.s9C("value",e.provinceId),t.Q6J("ngModel",i.isCheckN[n])("binary",!0),t.xp6(2),t.Oqu(e.provinceName)}}let tt=(()=>{class r extends A.H{constructor(e,n,i,a,c,g,u,m,h,_,f,C,v,T,b,F,Q){super(e,n,i,a,c,g,u,h,m),this.customerService=_,this.formBuilder=f,this._ref=C,this.primeConfig=v,this.commonService=T,this.config=b,this.campaignService=F,this.qrcodeService=Q,this.isCheckSouth=!1,this.isCheckCenter=!1,this.isCheckNorth=!1,this.isCheckS=[],this.isCheckC=[],this.isCheckN=[],this.provincesSouth="provincesSouth"}ngOnInit(){this.commonService.provinceSelection.subscribe(e=>{this.provinceList=e,this.provinceListS=this.getProvinceSouth(e),this.provinceListC=this.getProvinceCennter(e),this.provinceListN=this.getProvinceNorth(e)}),this.provincesS=this.formBuilder.group({"T\u1ec9nh Kh\xe1nh H\xf2a":["",{validators:[],asyncValidators:[],updateOn:"change"}],"T\u1ec9nh Ninh Thu\u1eadn":["",{validators:[],asyncValidators:[],updateOn:"change"}],"T\u1ec9nh B\xecnh Thu\u1eadn":["",{validators:[],asyncValidators:[],updateOn:"change"}],"T\u1ec9nh \u0110\u1eafk L\u1eafk":["",{validators:[],asyncValidators:[],updateOn:"change"}],"T\u1ec9nh \u0110\u1eafk N\xf4ng":["",{validators:[],asyncValidators:[],updateOn:"change"}],"T\u1ec9nh L\xe2m \u0110\u1ed3ng":["",{validators:[],asyncValidators:[],updateOn:"change"}],"T\u1ec9nh B\xecnh Ph\u01b0\u1edbc":["",{validators:[],asyncValidators:[],updateOn:"change"}],"T\u1ec9nh T\xe2y Ninh":["",{validators:[],asyncValidators:[],updateOn:"change"}],"T\u1ec9nh B\xecnh D\u01b0\u01a1ng":["",{validators:[],asyncValidators:[],updateOn:"change"}],"T\u1ec9nh \u0110\u1ed3ng Nai":["",{validators:[],asyncValidators:[],updateOn:"change"}],"T\u1ec9nh B\xe0 R\u1ecba - V\u0169ng T\xe0u":["",{validators:[],asyncValidators:[],updateOn:"change"}],"Th\xe0nh ph\u1ed1 H\u1ed3 Ch\xed Minh":["",{validators:[],asyncValidators:[],updateOn:"change"}],"T\u1ec9nh Long An":["",{validators:[],asyncValidators:[],updateOn:"change"}],"T\u1ec9nh Ti\u1ec1n Giang":["",{validators:[],asyncValidators:[],updateOn:"change"}],"T\u1ec9nh B\u1ebfn Tre":["",{validators:[],asyncValidators:[],updateOn:"change"}],"T\u1ec9nh Tr\xe0 Vinh":["",{validators:[],asyncValidators:[],updateOn:"change"}],"T\u1ec9nh V\u0129nh Long":["",{validators:[],asyncValidators:[],updateOn:"change"}],"T\u1ec9nh \u0110\u1ed3ng Th\xe1p":["",{validators:[],asyncValidators:[],updateOn:"change"}],"T\u1ec9nh An Giang":["",{validators:[],asyncValidators:[],updateOn:"change"}],"T\u1ec9nh Ki\xean Giang":["",{validators:[],asyncValidators:[],updateOn:"change"}],"Th\xe0nh ph\u1ed1 C\u1ea7n Th\u01a1":["",{validators:[],asyncValidators:[],updateOn:"change"}],"T\u1ec9nh S\xf3c Tr\u0103ng":["",{validators:[],asyncValidators:[],updateOn:"change"}],"T\u1ec9nh B\u1ea1c Li\xeau":["",{validators:[],asyncValidators:[],updateOn:"change"}],"T\u1ec9nh C\xe0 Mau":["",{validators:[],asyncValidators:[],updateOn:"change"}]})}handleUpdateProvinces(e){var n;const i=document.querySelectorAll("input#ny"),a=[];for(let g=0;g<i.length;g++)!0===i[g].checked&&a.push(i[g].value);const c={provincesList:a.join(",")};null===(n=this.campaignService.updateProvincesCampaing(c,e))||void 0===n||n.subscribe(g=>{this.presentToast(200===g.responseStatus?"success":417===g.responseStatus?"warning":"error",this._translateService.instant(g.content.message))},g=>{console.error(g),this.presentToast("error",this._translateService.instant(g))})}getProvinceSouth(e){let n=[];for(let i of e)"S"==i.provinceNameOptional&&n.push(i);return n.forEach(i=>{for(let a=0;a<this.currentProvinces.length;a++){if(this.currentProvinces[a].provinceId===i.provinceId)return void this.isCheckS.push(!0);if(a===this.currentProvinces.length-1)return void this.isCheckS.push(!1)}}),n}getProvinceCennter(e){let n=[];for(let i of e)"C"==i.provinceNameOptional&&n.push(i);return n.forEach(i=>{for(let a=0;a<this.currentProvinces.length;a++){if(this.currentProvinces[a].provinceId===i.provinceId)return void this.isCheckC.push(!0);if(a===this.currentProvinces.length-1)return void this.isCheckC.push(!1)}}),n}getProvinceNorth(e){let n=[];for(let i of e)"N"==i.provinceNameOptional&&n.push(i);return n.forEach(i=>{for(let a=0;a<this.currentProvinces.length;a++){if(this.currentProvinces[a].provinceId===i.provinceId)return void this.isCheckN.push(!0);if(a===this.currentProvinces.length-1)return void this.isCheckN.push(!1)}}),n}selectAllNorth(){if(0==this.isCheckNorth)for(let e=0;e<this.isCheckN.length;e++)this.isCheckN[e]=!1;else for(let e=0;e<this.isCheckN.length;e++)this.isCheckN[e]=!0}selectAllCenter(){if(0==this.isCheckCenter)for(let e=0;e<this.isCheckC.length;e++)this.isCheckC[e]=!1;else for(let e=0;e<this.isCheckC.length;e++)this.isCheckC[e]=!0}selectAllSouth(){if(0==this.isCheckSouth)for(let e=0;e<this.isCheckS.length;e++)this.isCheckS[e]=!1;else for(let e=0;e<this.isCheckS.length;e++)this.isCheckS[e]=!0}logAll(){console.log(this.isCheckC),console.log(this.isCheckN),console.log(this.isCheckS)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(d.gz),t.Y36(P.Dx),t.Y36(d.F0),t.Y36(M.uw),t.Y36(x.v),t.Y36(D.w),t.Y36(O._W),t.Y36(l.xA),t.Y36(q.sK),t.Y36(k.v),t.Y36(o.qu),t.Y36(l.E7),t.Y36(Z.b4),t.Y36(x.v),t.Y36(l.S),t.Y36(I.U),t.Y36(Y.D))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-province-tab"]],inputs:{currentProvinces:"currentProvinces",campaignId:"campaignId"},features:[t.qOj],decls:28,vars:9,consts:[[1,"group-button"],["label","L\u01b0u",1,"save-button",3,"click"],[1,"row","input-field"],[1,"form-group","d-flex"],[1,"mb-0"],["name","grS","inputId","grS",3,"ngModel","binary","ngModelChange","onChange"],["for","grS",1,"d-flex","justify-content-center","align-items-center"],["class","col-md-3",4,"ngFor","ngForOf"],["name","grC","inputId","grC",3,"binary","ngModel","ngModelChange","onChange"],["for","grC",1,"d-flex","justify-content-center","align-items-center"],["name","grN","inputId","grN",3,"binary","ngModel","ngModelChange","onChange"],["for","grN",1,"d-flex","justify-content-center","align-items-center"],[1,"col-md-3"],["name","group1","inputId","ny",3,"value","ngModel","binary","ngModelChange"],[1,""],["name","group2","inputId","ny",3,"value","ngModel","binary","ngModelChange"],["name","group3","inputId","ny",3,"value","ngModel","binary","ngModelChange"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"p-button",1),t.NdJ("click",function(){return n.handleUpdateProvinces(n.campaignId)}),t.qZA(),t.qZA(),t.TgZ(2,"h4"),t._uU(3,"Ch\u1ecdn v\xf9ng mi\u1ec1n \xe1p d\u1ee5ng chi\u1ebfn d\u1ecbch"),t.qZA(),t.TgZ(4,"div",2),t.TgZ(5,"div",3),t.TgZ(6,"h6",4),t._uU(7,"Mi\u1ec1n Nam:"),t.qZA(),t.TgZ(8,"p-checkbox",5),t.NdJ("ngModelChange",function(a){return n.isCheckSouth=a})("onChange",function(){return n.selectAllSouth()}),t.qZA(),t.TgZ(9,"label",6),t._uU(10,"Ch\u1ecdn t\u1ea5t c\u1ea3"),t.qZA(),t.qZA(),t.YNc(11,xt,5,4,"div",7),t.qZA(),t.TgZ(12,"div",2),t.TgZ(13,"div",3),t.TgZ(14,"h6",4),t._uU(15,"Mi\u1ec1n Trung:"),t.qZA(),t.TgZ(16,"p-checkbox",8),t.NdJ("ngModelChange",function(a){return n.isCheckCenter=a})("onChange",function(){return n.selectAllCenter()}),t.qZA(),t.TgZ(17,"label",9),t._uU(18,"Ch\u1ecdn t\u1ea5t c\u1ea3"),t.qZA(),t.qZA(),t.YNc(19,bt,5,4,"div",7),t.qZA(),t.TgZ(20,"div",2),t.TgZ(21,"div",3),t.TgZ(22,"h6",4),t._uU(23,"Mi\u1ec1n B\u1eafc:"),t.qZA(),t.TgZ(24,"p-checkbox",10),t.NdJ("ngModelChange",function(a){return n.isCheckNorth=a})("onChange",function(){return n.selectAllNorth()}),t.qZA(),t.TgZ(25,"label",11),t._uU(26,"Ch\u1ecdn t\u1ea5t c\u1ea3"),t.qZA(),t.qZA(),t.YNc(27,Et,5,4,"div",7),t.qZA()),2&e&&(t.xp6(8),t.Q6J("ngModel",n.isCheckSouth)("binary",!0),t.xp6(3),t.Q6J("ngForOf",n.provinceListS),t.xp6(5),t.Q6J("binary",!0)("ngModel",n.isCheckCenter),t.xp6(3),t.Q6J("ngForOf",n.provinceListC),t.xp6(5),t.Q6J("binary",!0)("ngModel",n.isCheckNorth),t.xp6(3),t.Q6J("ngForOf",n.provinceListN))},directives:[E.zx,at.XZ,o.JJ,o.On,y.sg],styles:[".campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]{margin-top:5px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{display:inline-block;text-align:center;white-space:nowrap;min-width:170px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .ml-170[_ngcontent-%COMP%]{margin-left:170px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .mr-12[_ngcontent-%COMP%]{margin-right:12px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .ml-12[_ngcontent-%COMP%]{margin-left:12px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .mb-0[_ngcontent-%COMP%]{margin-bottom:0}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .d-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .justify-center[_ngcontent-%COMP%]{justify-content:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{display:flex;align-items:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .d-flex-top[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .w-full[_ngcontent-%COMP%]{width:100%}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .field-checkbox[_ngcontent-%COMP%]{margin:12px 0}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .btn-search[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:28px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .text-left-min-width[_ngcontent-%COMP%]{white-space:nowrap;text-align:left;min-width:120px}.app-table[_ngcontent-%COMP%]{width:100%;height:auto;box-shadow:#959da533 0 8px 24px!important;background-color:#fff!important;margin-top:2rem;padding:5px}.app-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .app-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{justify-content:center}.app-table[_ngcontent-%COMP%]   .column-1[_ngcontent-%COMP%]{min-width:190px}.app-table[_ngcontent-%COMP%]   .column-2[_ngcontent-%COMP%]{min-width:150px}.app-table[_ngcontent-%COMP%]   .column-3[_ngcontent-%COMP%]{min-width:220px}.app-table[_ngcontent-%COMP%]   .column-4[_ngcontent-%COMP%]{min-width:90px}.app-table[_ngcontent-%COMP%]   .column-5[_ngcontent-%COMP%]{min-width:170px}.app-table[_ngcontent-%COMP%]   .column-6[_ngcontent-%COMP%]{min-width:170px}span[_ngcontent-%COMP%]{color:#dc3545}.img-update[_ngcontent-%COMP%]{max-width:150px;height:auto}.badge[_ngcontent-%COMP%]{height:35px;padding-top:10px;background-color:#d7edff;border:1px solid #51acf6}.img-icon[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.badge-secondary[_ngcontent-%COMP%]{color:#008cff}.row[_ngcontent-%COMP%]{margin-top:15px}.group-button[_ngcontent-%COMP%]{text-align:right}.button-create[_ngcontent-%COMP%]{padding:1rem 0 0}.d-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.field-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.label[_ngcontent-%COMP%]{font-size:13px}.w-full[_ngcontent-%COMP%]{width:100%}.mr-20[_ngcontent-%COMP%]{margin-right:20px}.activation-email[_ngcontent-%COMP%]{padding-top:1.5rem}[_nghost-%COMP%]     .p-inputmask{width:100%;height:40px;border-radius:8px}[_nghost-%COMP%]     .p-dropdown{width:100%}[_nghost-%COMP%]     .p-calendar-w-btn .p-inputtext{border-radius:8px 0 0 8px}[_nghost-%COMP%]     .p-calendar-w-btn .p-datepicker-trigger{border-radius:0 8px 8px 0}[_nghost-%COMP%]     .p-calendar{width:100%;height:38px;border-radius:8px}[_nghost-%COMP%]     .save-button .p-button{display:inline-block;padding-left:60px;padding-right:60px}[_nghost-%COMP%]     .save-button-gift .p-button{display:inline-block;padding-left:60px;padding-right:60px;float:left}[_nghost-%COMP%]     .p-button-text{background-color:#008cff;color:#fff;border-color:#0000}[_nghost-%COMP%]     .p-datepicker td>span{display:initial;font-size:15px}[_nghost-%COMP%]     .ui-datepicker .ui-widget{font-size:20px}[_nghost-%COMP%]     .p-datepicker{z-index:1003!important;transform-origin:center top!important;left:-1px!important;top:-90px!important}[_nghost-%COMP%]     .p-inputtextarea{width:100%}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link{border:2px solid #dedede;border-top-right-radius:8px;border-top-left-radius:8px}.-size-img[_ngcontent-%COMP%]{display:inline-block;width:50px;height:inherit}.-size-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:auto;object-fit:cover}.form-label[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{margin-bottom:0}"]}),r})();var j=s(464);function Mt(r,p){if(1&r){const e=t.EpF();t.TgZ(0,"div",60),t.TgZ(1,"div",61),t.TgZ(2,"div",62),t._UZ(3,"img",63),t.qZA(),t.TgZ(4,"div"),t.TgZ(5,"button",64),t.NdJ("click",function(i){return t.CHM(e),t.oxw(2).handleShowThumbnail(i)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=t.oxw(2);t.xp6(3),t.Q6J("src",e.campaignDetail.campaignThumbnail,t.LSH)}}function At(r,p){if(1&r&&t.YNc(0,Mt,6,1,"div",59),2&r){const e=t.oxw();t.Q6J("ngIf",!e.currentFileThumbnail)}}function Pt(r,p){if(1&r){const e=t.EpF();t.TgZ(0,"div",60),t.TgZ(1,"div",61),t.TgZ(2,"div",62),t._UZ(3,"img",63),t.qZA(),t.TgZ(4,"div"),t.TgZ(5,"button",64),t.NdJ("click",function(i){return t.CHM(e),t.oxw(2).handleShowBanner(i)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=t.oxw(2);t.xp6(3),t.Q6J("src",e.campaignDetail.campaignBanner,t.LSH)}}function Dt(r,p){if(1&r&&t.YNc(0,Pt,6,1,"div",59),2&r){const e=t.oxw();t.Q6J("ngIf",!e.currentFileBanner)}}function Ot(r,p){1&r&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2,"H\xe0nh \u0111\u1ed9ng"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"M\xe3 S\u1ea3n Ph\u1ea9m"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"T\xean S\u1ea3n Ph\u1ea9m"),t.qZA(),t.qZA())}function qt(r,p){if(1&r){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",69),t.TgZ(2,"button",70),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).doDeleteCampaignRule(a.campaignId,a.productId,"B\u1ea1n mu\u1ed1n x\xf3a Lu\u1eadt t\xedch \u0111i\u1ec3m n\xe0y?")}),t.qZA(),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.qZA()}if(2&r){const e=p.$implicit;t.xp6(4),t.hij(" ",e.productId," "),t.xp6(2),t.hij(" ",e.productName," ")}}function yt(r,p){if(1&r&&(t.TgZ(0,"div",65),t.TgZ(1,"p-table",66),t.YNc(2,Ot,7,0,"ng-template",67),t.YNc(3,qt,7,2,"ng-template",68),t.qZA(),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("value",e.campaignRules)}}function wt(r,p){1&r&&(t.TgZ(0,"tr"),t.TgZ(1,"th",71),t._uU(2,"H\xe0nh \u0111\u1ed9ng"),t.qZA(),t.TgZ(3,"th",72),t._uU(4,"Icon"),t.qZA(),t.TgZ(5,"th",73),t._uU(6,"T\xean qu\xe0"),t.qZA(),t.TgZ(7,"th",74),t._uU(8,"\u0110i\u1ec3m quy \u0111\u1ed5i"),t.qZA(),t.TgZ(9,"th",75),t._uU(10,"Ng\xe0y b\u1eaft \u0111\u1ea7u \u0111\u1ed5i qu\xe0"),t.qZA(),t.TgZ(11,"th",76),t._uU(12,"Ng\xe0y k\u1ebft th\xfac \u0111\u1ed5i qu\xe0"),t.qZA(),t.qZA())}function St(r,p){if(1&r){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",77),t.TgZ(2,"button",78),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).showModalDialogEditMonthlyGift(a)}),t.qZA(),t._uU(3," | "),t._UZ(4,"button",79),t.qZA(),t.TgZ(5,"td",72),t._UZ(6,"img",80),t.qZA(),t._UZ(7,"td",73),t._UZ(8,"td",74),t._UZ(9,"td",75),t._UZ(10,"td",76),t.qZA()}}function kt(r,p){if(1&r&&(t.TgZ(0,"div",65),t.TgZ(1,"p-table",66),t.YNc(2,wt,13,0,"ng-template",67),t.YNc(3,St,11,0,"ng-template",68),t.qZA(),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("value",e.campaignMonthlyGift)}}function Ft(r,p){1&r&&(t.TgZ(0,"tr"),t.TgZ(1,"th",71),t._uU(2,"H\xe0nh \u0111\u1ed9ng"),t.qZA(),t.TgZ(3,"th",72),t._uU(4,"Icon"),t.qZA(),t.TgZ(5,"th",73),t._uU(6,"T\xean qu\xe0"),t.qZA(),t.TgZ(7,"th",74),t._uU(8,"\u0110i\u1ec3m quy \u0111\u1ed5i"),t.qZA(),t.TgZ(9,"th",75),t._uU(10,"Ng\xe0y b\u1eaft \u0111\u1ea7u \u0111\u1ed5i qu\xe0"),t.qZA(),t.TgZ(11,"th",76),t._uU(12,"Ng\xe0y k\u1ebft th\xfac \u0111\u1ed5i qu\xe0"),t.qZA(),t.qZA())}function Ut(r,p){if(1&r){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",77),t.TgZ(2,"button",78),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).showModalDialogEditQuarterlyGift(a)}),t.qZA(),t._uU(3," | "),t._UZ(4,"button",79),t.qZA(),t.TgZ(5,"td",72),t._UZ(6,"img",80),t.qZA(),t._UZ(7,"td",73),t._UZ(8,"td",74),t._UZ(9,"td",75),t._UZ(10,"td",76),t.qZA()}}function Nt(r,p){if(1&r&&(t.TgZ(0,"div",65),t.TgZ(1,"p-table",66),t.YNc(2,Ft,13,0,"ng-template",67),t.YNc(3,Ut,11,0,"ng-template",68),t.qZA(),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("value",e.campaignSessionGift)}}function It(r,p){1&r&&(t.TgZ(0,"tr"),t.TgZ(1,"th",71),t._uU(2,"H\xe0nh \u0111\u1ed9ng"),t.qZA(),t.TgZ(3,"th",72),t._uU(4,"Icon"),t.qZA(),t.TgZ(5,"th",73),t._uU(6,"T\xean qu\xe0"),t.qZA(),t.TgZ(7,"th",74),t._uU(8,"\u0110i\u1ec3m quy \u0111\u1ed5i"),t.qZA(),t.TgZ(9,"th",75),t._uU(10,"Ng\xe0y b\u1eaft \u0111\u1ea7u \u0111\u1ed5i qu\xe0"),t.qZA(),t.TgZ(11,"th",76),t._uU(12,"Ng\xe0y k\u1ebft th\xfac \u0111\u1ed5i qu\xe0"),t.qZA(),t.qZA())}function Bt(r,p){if(1&r){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",77),t.TgZ(2,"button",78),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).showModalDialogEditSpecialGift(a)}),t.qZA(),t._uU(3," | "),t._UZ(4,"button",79),t.qZA(),t.TgZ(5,"td",72),t._UZ(6,"img",80),t.qZA(),t._UZ(7,"td",73),t._UZ(8,"td",74),t._UZ(9,"td",75),t._UZ(10,"td",76),t.qZA()}}function Lt(r,p){if(1&r&&(t.TgZ(0,"div",65),t.TgZ(1,"p-table",66),t.YNc(2,It,13,0,"ng-template",67),t.YNc(3,Bt,11,0,"ng-template",68),t.qZA(),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("value",e.campaignEndGift)}}const Gt=function(){return["/campaign/packing-qr-history-list"]},Jt=function(r,p,e){return{rootLabel:r,listLabel:p,campaignId:e}};let Yt=(()=>{class r extends A.H{constructor(e,n,i,a,c,g,u,m,h,_,f,C,v,T,b,F,Q,H){super(e,n,i,a,c,g,u,h,m),this.customerService=_,this.formBuilder=f,this._ref=C,this.primeConfig=v,this.commonService=T,this.config=b,this.campaignService=F,this.qrcodeService=Q,this._confirmationService=H,this.activationEmailStatus=!1}ngOnInit(){this.campaignID=this.config.data.campaignID,this.campaignType=this.config.data.campaignType,this.doGetCampaignDetail(this.campaignID,this.campaignType),this.initializePage(),this.subjectList=[{groupId:0,groupName:"\u0110\u1ea1i L\xfd | Th\u1ea7u Th\u1ee3"},{groupId:1,groupName:"\u0110\u1ea1i L\xfd"},{groupId:2,groupName:"Th\u1ea7u Th\u1ee3"}],this._translateService.get("primeng").subscribe(e=>this.primeConfig.setTranslation(e)),this.campaignEditTabForm=this.formBuilder.group({txtStartDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDateGift:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtCampaignTitle:["",{validators:[o.kI.maxLength(150),o.kI.required],asyncValidators:[],updateOn:"change"}],txtCampaignDescription:["",{validators:[o.kI.maxLength(2e3),o.kI.required],asyncValidators:[],updateOn:"change"}],txtCampaignGeneralRulesDescription:["",{validators:[o.kI.maxLength(2e3),o.kI.required],asyncValidators:[],updateOn:"change"}],txtCampaignRedemptionMethodDescription:["",{validators:[o.kI.maxLength(2e3),o.kI.required],asyncValidators:[],updateOn:"change"}],txtAmountGiftChanged:["",{validators:[o.kI.maxLength(20),o.kI.required],asyncValidators:[],updateOn:"change"}],txtMaxGiftCampaign:["",{validators:[o.kI.maxLength(20),o.kI.required],asyncValidators:[],updateOn:"change"}],txtCampaignType:["",{validators:[o.kI.maxLength(20),o.kI.required],asyncValidators:[],updateOn:"change"}],campaignGroupId:["",{validators:[o.kI.maxLength(20),o.kI.required],asyncValidators:[],updateOn:"change"}],txtMaxGift:["",{validators:[o.kI.maxLength(20),o.kI.required],asyncValidators:[],updateOn:"change"}]}),this.campaignEditTabForm2=this.formBuilder.group({txtStartDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDateGift:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],campaignGroupId:["",{validators:[o.kI.maxLength(500),o.kI.required],asyncValidators:[],updateOn:"change"}],txtMaxGiftCampaign:["",{validators:[o.kI.maxLength(50),o.kI.required],asyncValidators:[],updateOn:"change"}],txtCampaignTitle:["",{validators:[o.kI.maxLength(500),o.kI.required],asyncValidators:[],updateOn:"change"}],txtMaxGift:["",{validators:[o.kI.maxLength(50),o.kI.required],asyncValidators:[],updateOn:"change"}]}),this.accumulatePointsRuleForm=this.formBuilder.group({txtChooseProduct:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtStartDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDateGift:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtPointProduct:["",{validators:[o.kI.required,o.kI.pattern(B.q.validators.patterns.onlyNumeric)],asyncValidators:[],updateOn:"change"}]}),this.accumulatePointsRuleForm2=this.formBuilder.group({txtStartDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDateGift:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtpointProduct:["",{validators:[o.kI.maxLength(20),o.kI.required],asyncValidators:[],updateOn:"change"}],txtMaxGift:["",{validators:[o.kI.maxLength(50),o.kI.required],asyncValidators:[],updateOn:"change"}]}),this.commonService.provinceSelection.subscribe(e=>{this.provinceList=e,this.provinceListS=this.getProvinceSouth(e),this.provinceListC=this.getProvinceCennter(e),this.provinceListN=this.getProvinceNorth(e)})}doGetCampaignDetail(e,n){var i;null===(i=this.campaignService.getCampaignDetail(e,n))||void 0===i||i.subscribe(a=>{200===a.responseStatus?(this.presentToast("success",this._translateService.instant(a.content.message)),this.campaignDetail=a.content.datas.campaignDetail,this.campaignRules=a.content.datas.campaignRules,this.campaignMonthlyGift=a.content.datas.campaignMonthlyGifts,this.campaignSessionGift=a.content.datas.campaignSessionGifts,this.campaignEndGift=a.content.datas.campaignEndGifts,this.campaignProvinces=a.content.datas.campaignProvinces,this.campaignStartDate=new Date(this.campaignDetail.campaignStartDate.toString()),this.campaignEndDate=new Date(this.campaignDetail.campaignEndDate.toString()),this.campaignRedemptionEndDate=new Date(this.campaignDetail.campaignRedemptionEndDate.toString()),this.campaignImgThumbnail=this.campaignDetail.campaignThumbnail,this.campaignImgBanner=this.campaignDetail.campaignBanner,console.log(this.campaignDetail)):417===a.responseStatus?this.presentToast("warning",this._translateService.instant(a.content.message)):(console.log(a),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error")))})}get email(){return this.campaignEditTabForm.get("email")}initializePage(){this.getPackingList()}getPackingList(){var e=this;return(0,U.Z)(function*(){(0,L.D)({productList:e.qrcodeService.getProductList()}).pipe((0,G.g)(e.loadingTime)).subscribe(n=>{200===n.productList.responseStatus?(e.productList=n.productList.content.datas.producstList,e.presentToast("success",e._translateService.instant(n.productList.content.message))):e.presentToast(417===n.productList.responseStatus?"warning":"error",e._translateService.instant(n.productList.content.message))},n=>{console.log(n),e.presentToast("error",e._translateService.instant("common.errors-message.common-server-error"))})})()}getProvinceSouth(e){let n=[];for(let i of e)"S"==i.provinceNameOptional&&n.push(i);return n}getProvinceCennter(e){let n=[];for(let i of e)"C"==i.provinceNameOptional&&n.push(i);return n}getProvinceNorth(e){let n=[];for(let i of e)"N"==i.provinceNameOptional&&n.push(i);return n}getGroup(e){this.currentGroup=e}getSex(e){this.currentSex=e}getProvince(e){this.currentProvince=e}isDisable(){return this.campaignEditTabForm.valid}onSelectEvent(e){console.log(e),this.currentFile=e}showModalDialogEditMonthlyGift(e){this._dialog.open(_t,{header:"Ch\u1ec9nh S\u1eeda Qu\xe0 T\u1eb7ng Theo Th\xe1ng",width:"40%",closable:!0,data:{isEdit:!0,gift:e}})}showModalDialogEditQuarterlyGift(e){this._dialog.open(dt,{header:"Ch\u1ec9nh S\u1eeda Qu\xe0 T\u1eb7ng Theo Qu\xfd",width:"40%",closable:!0,data:{isEdit:!0,gift:e}})}showModalDialogEditSpecialGift(e){this._dialog.open(Zt,{header:"Ch\u1ec9nh S\u1eeda Qu\xe0 T\u1eb7ng \u0110\u1eb7c Bi\u1ec7t",width:"40%",closable:!0,data:{isEdit:!0,gift:e}})}showModalDialogAddSpecialGift(){this._dialog.open(vt,{header:"Th\xeam Qu\xe0 T\u1eb7ng \u0110\u1eb7c Bi\u1ec7t",width:"40%",closable:!0})}showModalDialogAddQuarterlyGift(){this._dialog.open(ct,{header:"Th\xeam Qu\xe0 T\u1eb7ng Theo Qu\xfd",width:"40%",closable:!0})}doAddRuleCampaign(e){var n;const i={productId:this.productId,productPoint:1};console.log("ruledata",i),null===(n=this.campaignService.addRuleCampaign(i,e))||void 0===n||n.subscribe(a=>{console.log(a),this.presentToast(200===a.responseStatus?"success":417===a.responseStatus?"warning":"error",this._translateService.instant(a.content.message))},a=>{this.presentToast("error",this._translateService.instant(a))})}doDeleteCampaignRule(e,n,i){this._confirmationService.confirm({message:i,accept:()=>{var a;null===(a=this.campaignService.deleteRuleCampaign(e,n))||void 0===a||a.subscribe(c=>{this.presentToast(200===c.responseStatus?"success":417==c.responseStatus?"warning":"error",this._translateService.instant(c.content.message))},c=>{console.error(c),this.presentToast("error",this._translateService.instant(c))})}})}onSelectFront(e){this.currentFileFront=e.currentFiles[0]}onSelectBack(e){this.currentFileBack=e.currentFiles[0]}doActiveCampaign(e,n,i){this._confirmationService.confirm({message:i,accept:()=>{var a;this._common.attachSpinner(),null===(a=this.campaignService.doActiveCampaign(e,n))||void 0===a||a.subscribe(c=>{200===c.responseStatus?(this._common.detachSpinner(),this.presentToast("success",this._translateService.instant(c.content.message))):417===c.responseStatus?(this.presentToast("warning",this._translateService.instant(c.content.message)),this._common.detachSpinner()):(this.presentToast("error",this._translateService.instant(c.content.message)),this._common.detachSpinner())},c=>{console.log(c),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error")),this._common.detachSpinner()})}})}doDeactiveCampaign(e,n,i){this._confirmationService.confirm({message:i,accept:()=>{var a;this._common.attachSpinner(),null===(a=this.campaignService.doDeactiveCampaign(e,n))||void 0===a||a.subscribe(c=>{200===c.responseStatus?(this._common.detachSpinner(),this.presentToast("success",this._translateService.instant(c.content.message))):417===c.responseStatus?(this.presentToast("warning",this._translateService.instant(c.content.message)),this._common.detachSpinner()):(this.presentToast("error",this._translateService.instant(c.content.message)),this._common.detachSpinner())},c=>{console.log(c),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error")),this._common.detachSpinner()})}})}doUpdateCampaignInfo(){var e;let n=new FormData;this.currentStartDate=`${this.campaignStartDate.getFullYear()}-${this.campaignStartDate.getMonth()+1}-${this.campaignStartDate.getDate()}`,this.currentEndDate=`${this.campaignEndDate.getFullYear()}-${this.campaignEndDate.getMonth()+1}-${this.campaignEndDate.getDate()}`,this.currentRedemptionEndDate=`${this.campaignRedemptionEndDate.getFullYear()}-${this.campaignRedemptionEndDate.getMonth()+1}-${this.campaignRedemptionEndDate.getDate()}`,n.append("campaignThumbnail",this.currentFileThumbnail||this.campaignImgThumbnail),n.append("campaignBanner",this.currentFileBanner||this.campaignImgBanner),n.append("campaignType",this.campaignEditTabForm.value.txtCampaignType),n.append("campaignGroupId",this.campaignEditTabForm.value.campaignGroupId),n.append("campaignTitle",this.campaignEditTabForm.value.txtCampaignTitle),n.append("campaignGiftsLimit",this.campaignEditTabForm.value.txtMaxGiftCampaign),n.append("campaignDescription",this.campaignEditTabForm.value.txtCampaignDescription),n.append("campaignRedemptionMethodDescription",this.campaignEditTabForm.value.txtCampaignRedemptionMethodDescription),n.append("campaignGeneralRulesDescription",this.campaignEditTabForm.value.txtCampaignGeneralRulesDescription),n.append("campaignStartDate",this.currentStartDate||this.campaignStartDate.toString()),n.append("campaignEndDate",this.currentEndDate||this.campaignEndDate.toString()),n.append("campaignRedemptionEndDate",this.currentRedemptionEndDate||this.campaignRedemptionEndDate.toString()),null===(e=this.campaignService.doUpdateCampaign(n,this.campaignDetail.campaignId))||void 0===e||e.subscribe(i=>{if(i.type!==N.dt.UploadProgress&&i instanceof N.Zn){let a=i.body;console.log(a),200===a.responseStatus?(this.presentToast("success",this._translateService.instant(a.content.message)),this._ref.close()):417===a.responseStatus?this.presentToast("warning",this._translateService.instant(a.content.message)):(console.log(a),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error")))}},i=>{console.log(i),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error"))})}handleChange(e){console.log(e.index)}formatDate(e){function n(i){return i<10?"0"+i:i}return[e.getFullYear(),n(e.getMonth()+1),n(e.getDate())].join("-")}getDate(e){let n=new Date(Date.parse(e));this.currentBirthday=`${n.getFullYear()}/${n.getMonth()+1}/${n.getDate()}`}onSelectThumbnail(e){this.currentFileThumbnail=e.files[0]}onSelectBanner(e){this.currentFileBanner=e.files[0]}handleShowThumbnail(e){this.currentFileThumbnail=this.campaignImgThumbnail}handleShowBanner(e){this.currentFileBanner=this.campaignImgBanner}onRemoveThumbnail(e){this.currentFileThumbnail=this.fileUndefined}onRemoveBanner(e){this.currentFileBanner=this.fileUndefined}getStartDate(e){let n=new Date(Date.parse(e));this.currentStartDate=`${n.getFullYear()}-${n.getMonth()+1}-${n.getDate()}`}getEndDate(e){let n=new Date(Date.parse(e));this.currentEndDate=`${n.getFullYear()}-${n.getMonth()+1}-${n.getDate()}`}getRedemptionEndDate(e){let n=new Date(Date.parse(e));this.currentRedemptionEndDate=`${n.getFullYear()}-${n.getMonth()+1}-${n.getDate()}`}closeDialog(){this._ref.close()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(d.gz),t.Y36(P.Dx),t.Y36(d.F0),t.Y36(M.uw),t.Y36(x.v),t.Y36(D.w),t.Y36(O._W),t.Y36(l.xA),t.Y36(q.sK),t.Y36(k.v),t.Y36(o.qu),t.Y36(l.E7),t.Y36(Z.b4),t.Y36(x.v),t.Y36(l.S),t.Y36(I.U),t.Y36(Y.D),t.Y36(Z.YP))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-dialog-edit-campaign"]],features:[t._Bn([l.xA]),t.qOj],decls:122,vars:47,consts:[[1,"campaigns-edit-wrapper"],["header","X\xe1c Nh\u1eadn","icon","pi pi-exclamation-triangle"],[1,"group-buttons"],[1,"group-button"],["label","L\u1ecbch S\u1eed QRs",1,"finish-button",3,"routerLink","state"],["label","K\u1ebft Th\xfac Chi\u1ebfn D\u1ecbch",1,"finish-button",3,"click"],["label","K\xedch Ho\u1ea1t Chi\u1ebfn D\u1ecbch",1,"release-button",3,"click"],[1,"campaigns-edit__tabs"],["header","Th\xf4ng Tin Chi\u1ebfn D\u1ecbch"],[3,"formGroup"],["label","L\u01b0u",1,"save-button",3,"click"],[1,"row"],[1,"col-md-6"],[1,"form-group","d-flex"],["for","phoneNumber",1,"form-control-label","text-center","mb-0"],["optionLabel","groupName","optionValue","groupId","placeholder","\u0110\u1ea1i L\xfd | Th\u1ea7u Th\u1ee3","formControlName","campaignGroupId",1,"common-dropdown","p-inputtext-sm","w-full",3,"options","ngModel","ngModelChange"],[1,"col-md-4"],["for","startDate",1,"form-control-label","text-center","mb-0"],["formControlName","txtStartDate","inputId","txtStartDate","dateFormat","dd/mm/yy",3,"showIcon","ngModel","onSelect","ngModelChange"],["for","endDate",1,"form-control-label","text-center","mb-0"],["formControlName","txtEndDate","inputId","txtEndDate","dateFormat","dd/mm/yy",3,"showIcon","ngModel","onSelect","ngModelChange"],["for","endDateGift",1,"form-control-label","text-center","mb-0"],["formControlName","txtEndDateGift","inputId","txtEndDateGift","dateFormat","dd/mm/yy",3,"showIcon","ngModel","onSelect","ngModelChange"],[1,"col-md-12"],["for","campaignTitle",1,"form-control-label","text-center","mb-0"],["type","text","id","campaignTitle","formControlName","txtCampaignTitle","placeholder","Ti\xeau \u0110\u1ec1 Chi\u1ebfn D\u1ecbch",1,"form-control",3,"ngModel","ngModelChange"],["controllerName","txtCampaignTitle","controllerType","textbox","controllerTitle","CampaignTitle",3,"mainForm"],[1,"form-group","d-flex-top"],[1,"text-center","label"],["rows","5","cols","30","pInputTextarea","","id","campaignDescribe","formControlName","txtCampaignDescription",3,"autoResize","ngModel","ngModelChange"],["rows","10","cols","30","pInputTextarea","","formControlName","txtCampaignGeneralRulesDescription","id","campaignCommonRule",3,"autoResize","ngModel","ngModelChange"],["rows","10","cols","30","pInputTextarea","","id","campaignGiftRule","formControlName","txtCampaignRedemptionMethodDescription",3,"autoResize","ngModel","ngModelChange"],["for","maxGift",1,"form-control-label","text-center","mb-0"],["type","text","id","maxGift","formControlName","txtMaxGiftCampaign","placeholder","S\u1ed1 L\u01b0\u1ee3ng Qu\xe0 T\u1ed1i \u0110a",1,"form-control",3,"ngModel","ngModelChange"],["controllerName","txtMaxGiftCampaign","controllerType","textbox","controllerTitle","S\u1ed1 L\u01b0\u1ee3ng Qu\xe0 T\u1ed1i \u0110a",3,"mainForm"],["for","amountGiftChanged",1,"form-control-label","text-center","mb-0"],["type","text","id","amountGiftChanged","pInputText","","formControlName","txtAmountGiftChanged","placeholder","S\u1ed1 L\u01b0\u1ee3ng Qu\xe0 \u0110\xe3 \u0110\u1ed5i",1,"form-control",3,"ngModel","ngModelChange"],["controllerName","txtAmountGiftChanged","controllerType","textbox","controllerTitle","S\u1ed1 L\u01b0\u1ee3ng Qu\xe0 \u0110\xe3 \u0110\u1ed5i",3,"mainForm"],["for","customerIdentificationFront",1,"form-control-label","text-center","mb-0"],["name","docs[]","accept","image/*","invalidFileSizeMessageSummary","{0}: K\xedch th\u01b0\u1edbc t\u1ec7p kh\xf4ng h\u1ee3p l\u1ec7","invalidFileSizeMessageDetail","K\xedch th\u01b0\u1edbc t\u1ec7p t\u1ea3i l\xean t\u1ed1i \u0111a l\xe0 {0}.","chooseLabel","C\u1eadp nh\u1eadt \u1ea3nh","uploadLabel","T\u1ea3i l\xean","cancelLabel","H\u1ee7y",1,"w-full",3,"multiple","maxFileSize","showUploadButton","customUpload","onSelect"],["pTemplate","content"],["name","docs[]","accept","image/*","invalidFileSizeMessageSummary","{0}: K\xedch th\u01b0\u1edbc t\u1ec7p kh\xf4ng h\u1ee3p l\u1ec7","invalidFileSizeMessageDetail","K\xedch th\u01b0\u1edbc t\u1ec7p t\u1ea3i l\xean t\u1ed1i \u0111a l\xe0 {0}.","chooseLabel","C\u1eadp nh\u1eadt \u1ea3nh","uploadLabel","T\u1ea3i l\xean","cancelLabel","H\u1ee7y",1,"w-full",3,"multiple","maxFileSize","showUploadButton","customUpload","onSelect","onRemove"],["header","V\xf9ng Mi\u1ec1n"],[3,"currentProvinces","campaignId"],["header","Lu\u1eadt T\xedch \u0110i\u1ec3m"],["label","L\u01b0u",1,"save-button"],["action","",1,"form",3,"formGroup"],[1,"row","input-field"],[1,"form-group","d-flex-center"],["for","chooseProduct",1,"form-control-label","text-left-min-width","mr-12","mb-0"],["optionLabel","productName","optionValue","productId","id","chooseProduct","formControlName","txtChooseProduct",1,"common-dropdown","p-inputtext-sm","w-full",3,"options","placeholder","ngModel","ngModelChange"],[1,"flex","btn-search"],["pButton","","type","button","label","Th\xeam Lu\u1eadt",3,"click"],["class","app-table",4,"ngIf"],["header","Qu\xe0 T\u1eb7ng"],[1,"group-buttons","mt-2"],["label","L\u01b0u",1,"save-button-gift"],["label","Th\xeam qu\xe0 t\u1eb7ng cu\u1ed1i ch\u01b0\u01a1ng tr\xecnh","type","button",1,"finish-button","mr-20",3,"click"],["label","Th\xeam qu\xe0 t\u1eb7ng theo qu\xfd",1,"release-button",3,"click"],["class","p-fileupload-files",4,"ngIf"],[1,"p-fileupload-files"],[1,"p-fileupload-row"],[1,"-size-img"],["alt","Image",3,"src"],["pButton","","type","button","icon","pi pi-times",1,"p-button-text",3,"click"],[1,"app-table"],["styleClass","p-datatable-sm p-datatable-gridlines","responsiveLayout","scroll",3,"value"],["pTemplate","header"],["pTemplate","body"],[1,"justify-center"],["pButton","","pRipples","","type","button","label","Xo\xe1",1,"p-button-danger","p-button-text","mr-2",3,"click"],[1,"column-1"],[1,"column-2"],[1,"column-3"],[1,"column-4"],[1,"column-5"],[1,"column-6"],[1,"justify-center","column-1"],["pButton","","pRipple","","type","button","label","C\u1eadp Nh\u1eadt",1,"p-button-success","p-button-text","mr-2",3,"click"],["pButton","","pRipple","","type","button","label","Xo\xe1",1,"p-button-danger","p-button-text","mr-2"],["alt","icon",1,"img-update"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"p-confirmDialog",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t._UZ(4,"p-button",4),t.TgZ(5,"p-button",5),t.NdJ("click",function(){return n.doDeactiveCampaign(n.campaignDetail.campaignId,-1,"K\u1ebft Th\xfac Chi\u1ebfn D\u1ecbch")}),t.qZA(),t.TgZ(6,"p-button",6),t.NdJ("click",function(){return n.doActiveCampaign(n.campaignDetail.campaignId,1,"K\xedch Ho\u1ea1t Chi\u1ebfn D\u1ecbch")}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",7),t.TgZ(8,"p-tabView"),t.TgZ(9,"p-tabPanel",8),t.TgZ(10,"form",9),t.TgZ(11,"div",3),t.TgZ(12,"p-button",10),t.NdJ("click",function(){return n.doUpdateCampaignInfo()}),t.qZA(),t.qZA(),t.TgZ(13,"div",11),t.TgZ(14,"div",12),t.TgZ(15,"div",13),t.TgZ(16,"label",14),t._uU(17,"Lo\u1ea1i Chi\u1ebfn D\u1ecbch:"),t.qZA(),t.TgZ(18,"h4"),t._uU(19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",12),t.TgZ(21,"div",13),t.TgZ(22,"label",14),t._uU(23,"\u0110\u1ed1i T\u01b0\u1ee3ng \xc1p D\u1ee5ng:"),t.qZA(),t.TgZ(24,"p-dropdown",15),t.NdJ("ngModelChange",function(a){return n.campaignDetail.campaignGroupId=a}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"div",16),t.TgZ(26,"div",13),t.TgZ(27,"label",17),t._uU(28,"Ng\xe0y B\u1eaft \u0110\u1ea7u:"),t.qZA(),t.TgZ(29,"p-calendar",18),t.NdJ("onSelect",function(a){return n.getStartDate(a)})("ngModelChange",function(a){return n.campaignStartDate=a}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"div",16),t.TgZ(31,"div",13),t.TgZ(32,"label",19),t._uU(33,"Ng\xe0y K\u1ebft Th\xfac:"),t.qZA(),t.TgZ(34,"p-calendar",20),t.NdJ("onSelect",function(a){return n.getEndDate(a)})("ngModelChange",function(a){return n.campaignEndDate=a}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",16),t.TgZ(36,"div",13),t.TgZ(37,"label",21),t._uU(38,"Ng\xe0y K\u1ebft Th\xfac \u0110\u1ed5i Th\u01b0\u1edfng:"),t.qZA(),t.TgZ(39,"p-calendar",22),t.NdJ("onSelect",function(a){return n.getRedemptionEndDate(a)})("ngModelChange",function(a){return n.campaignRedemptionEndDate=a}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(40,"div",23),t.TgZ(41,"div",13),t.TgZ(42,"label",24),t._uU(43,"Ti\xeau \u0110\u1ec1 Chi\u1ebfn D\u1ecbch:"),t.qZA(),t.TgZ(44,"input",25),t.NdJ("ngModelChange",function(a){return n.campaignDetail.campaignTitle=a}),t.qZA(),t.TgZ(45,"div"),t._UZ(46,"common-validation-message",26),t.qZA(),t.qZA(),t.qZA(),t.TgZ(47,"div",23),t.TgZ(48,"div",27),t.TgZ(49,"h5",28),t._uU(50,"M\xf4 T\u1ea3 Chi\u1ebfn D\u1ecbch:"),t.qZA(),t.TgZ(51,"textarea",29),t.NdJ("ngModelChange",function(a){return n.campaignDetail.campaignDescription=a}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(52,"div",23),t.TgZ(53,"div",27),t.TgZ(54,"h5",28),t._uU(55,"Quy \u0110\u1ecbnh Chung:"),t.qZA(),t.TgZ(56,"textarea",30),t.NdJ("ngModelChange",function(a){return n.campaignDetail.campaignGeneralRulesDescription=a}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(57,"div",23),t.TgZ(58,"div",27),t.TgZ(59,"h5",28),t._uU(60,"Quy \u0110\u1ecbnh Tr\u1ea3 Th\u01b0\u1edfng:"),t.qZA(),t.TgZ(61,"textarea",31),t.NdJ("ngModelChange",function(a){return n.campaignDetail.campaignRedemptionMethodDescription=a}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(62,"div",23),t.TgZ(63,"div",13),t.TgZ(64,"label",32),t._uU(65,"S\u1ed1 L\u01b0\u1ee3ng Qu\xe0 T\u1ed1i \u0110a:"),t.qZA(),t.TgZ(66,"input",33),t.NdJ("ngModelChange",function(a){return n.campaignDetail.campaignGiftsLimit=a}),t.qZA(),t.TgZ(67,"div"),t._UZ(68,"common-validation-message",34),t.qZA(),t.qZA(),t.qZA(),t.TgZ(69,"div",23),t.TgZ(70,"div",13),t.TgZ(71,"label",35),t._uU(72,"S\u1ed1 L\u01b0\u1ee3ng Qu\xe0 \u0110\xe3 \u0110\u1ed5i:"),t.qZA(),t.TgZ(73,"input",36),t.NdJ("ngModelChange",function(a){return n.campaignDetail.campaignGiftCurrentTotal=a}),t.qZA(),t.TgZ(74,"div"),t._UZ(75,"common-validation-message",37),t.qZA(),t.qZA(),t.qZA(),t.TgZ(76,"div",23),t.TgZ(77,"div",13),t.TgZ(78,"label",38),t._uU(79,"Thumbnail:"),t.qZA(),t.TgZ(80,"p-fileUpload",39),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)})("onSelect",function(a){return n.onSelectThumbnail(a)}),t.YNc(81,At,1,1,"ng-template",40),t.qZA(),t.qZA(),t.qZA(),t.TgZ(82,"div",23),t.TgZ(83,"div",13),t.TgZ(84,"label",38),t._uU(85,"Banner:"),t.qZA(),t.TgZ(86,"p-fileUpload",41),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)})("onSelect",function(a){return n.onSelectBanner(a)})("onRemove",function(a){return n.onRemoveBanner(a)}),t.YNc(87,Dt,1,1,"ng-template",40),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(88,"p-tabPanel",42),t._UZ(89,"app-province-tab",43),t.qZA(),t.TgZ(90,"p-tabPanel",44),t.TgZ(91,"div",3),t._UZ(92,"p-button",45),t.qZA(),t.TgZ(93,"h4"),t._uU(94,"Lu\u1eadt T\xedch \u0110i\u1ec3m:"),t.qZA(),t.TgZ(95,"form",46),t.TgZ(96,"div",47),t.TgZ(97,"div",12),t.TgZ(98,"div",48),t.TgZ(99,"label",49),t._uU(100),t.qZA(),t.TgZ(101,"p-dropdown",50),t.NdJ("ngModelChange",function(a){return n.productId=a}),t.qZA(),t.qZA(),t.TgZ(102,"div",51),t.TgZ(103,"button",52),t.NdJ("click",function(){return n.doAddRuleCampaign(n.campaignDetail.campaignId)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(104,"h4"),t._uU(105,"Danh S\xe1ch Lu\u1eadt"),t.qZA(),t.YNc(106,yt,4,1,"div",53),t.qZA(),t.TgZ(107,"p-tabPanel",54),t.TgZ(108,"div",55),t.TgZ(109,"div",3),t._UZ(110,"p-button",56),t.TgZ(111,"p-button",57),t.NdJ("click",function(){return n.showModalDialogAddSpecialGift()}),t.qZA(),t.TgZ(112,"p-button",58),t.NdJ("click",function(){return n.showModalDialogAddQuarterlyGift()}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(113,"h4"),t._uU(114,"Qu\xe0 t\u1eb7ng theo th\xe1ng"),t.qZA(),t.YNc(115,kt,4,1,"div",53),t.TgZ(116,"h4"),t._uU(117,"Qu\xe0 t\u1eb7ng theo qu\xfd"),t.qZA(),t.YNc(118,Nt,4,1,"div",53),t.TgZ(119,"h4"),t._uU(120,"Danh s\xe1ch qu\xe0 t\u1eb7ng \u0111\u1eb7c bi\u1ec7t"),t.qZA(),t.YNc(121,Lt,4,1,"div",53),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.Q6J("routerLink",t.DdM(42,Gt))("state",t.kEZ(43,Jt,n.campaignDetail.campaignTitle,n.campaignDetail.campaignTitle,n.campaignDetail.campaignId)),t.xp6(6),t.Q6J("formGroup",n.campaignEditTabForm),t.xp6(9),t.hij("Chi\u1ebfn D\u1ecbch ",n.campaignDetail.campaignType,""),t.xp6(5),t.Q6J("options",n.subjectList)("ngModel",n.campaignDetail.campaignGroupId),t.xp6(5),t.Q6J("showIcon",!0)("ngModel",n.campaignStartDate),t.xp6(5),t.Q6J("showIcon",!0)("ngModel",n.campaignEndDate),t.xp6(5),t.Q6J("showIcon",!0)("ngModel",n.campaignRedemptionEndDate),t.xp6(5),t.Q6J("ngModel",n.campaignDetail.campaignTitle),t.xp6(2),t.Q6J("mainForm",n.campaignEditTabForm),t.xp6(5),t.Q6J("autoResize",!0)("ngModel",n.campaignDetail.campaignDescription),t.xp6(5),t.Q6J("autoResize",!0)("ngModel",n.campaignDetail.campaignGeneralRulesDescription),t.xp6(5),t.Q6J("autoResize",!0)("ngModel",n.campaignDetail.campaignRedemptionMethodDescription),t.xp6(5),t.Q6J("ngModel",n.campaignDetail.campaignGiftsLimit),t.xp6(2),t.Q6J("mainForm",n.campaignEditTabForm),t.xp6(5),t.Q6J("ngModel",n.campaignDetail.campaignGiftCurrentTotal),t.uIk("disabled",!0),t.xp6(2),t.Q6J("mainForm",n.campaignEditTabForm),t.xp6(5),t.Q6J("multiple",!1)("maxFileSize",2e6)("showUploadButton",!0),t.xp6(6),t.Q6J("multiple",!1)("maxFileSize",2e6)("showUploadButton",!0),t.xp6(3),t.Q6J("currentProvinces",n.campaignProvinces)("campaignId",n.campaignDetail.campaignId),t.xp6(6),t.Q6J("formGroup",n.accumulatePointsRuleForm),t.xp6(5),t.Oqu(n._translateService.instant("pages.qrcode.placeholders.choose-product")),t.xp6(1),t.Q6J("options",n.productList)("placeholder",n._translateService.instant("pages.qrcode.placeholders.choose-product"))("ngModel",n.productId),t.xp6(5),t.Q6J("ngIf",n.campaignRules),t.xp6(9),t.Q6J("ngIf",n.campaignMonthlyGift),t.xp6(3),t.Q6J("ngIf",n.campaignSessionGift),t.xp6(3),t.Q6J("ngIf",n.campaignEndGift))},directives:[nt.Q,E.zx,d.rH,V.xf,V.x4,o._Y,o.JL,o.sg,J.Lt,o.JJ,o.u,K.f,o.Fj,R.C,w.g,z.o,S.p,Z.jx,tt,E.Hq,y.O5,j.iA],styles:[".campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]{margin-top:5px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{display:inline-block;text-align:center;white-space:nowrap;min-width:170px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .mr-12[_ngcontent-%COMP%]{margin-right:12px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .ml-12[_ngcontent-%COMP%]{margin-left:12px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .mb-0[_ngcontent-%COMP%]{margin-bottom:0}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .validate-center[_ngcontent-%COMP%]{display:inline-block;margin-left:170px;margin-bottom:18px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .validate-pointProduct[_ngcontent-%COMP%]{display:inline-block;margin-left:127px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .d-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .justify-center[_ngcontent-%COMP%]{justify-content:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{display:flex;align-items:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .d-flex-top[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .w-full[_ngcontent-%COMP%]{width:100%}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .field-checkbox[_ngcontent-%COMP%]{margin:12px 0}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .btn-search[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:28px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .text-left-min-width[_ngcontent-%COMP%]{white-space:nowrap;text-align:left;min-width:120px}.app-table[_ngcontent-%COMP%]{width:100%;height:auto;box-shadow:#959da533 0 8px 24px!important;background-color:#fff!important;margin-bottom:2rem;padding:5px}.app-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .app-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{justify-content:center}.app-table[_ngcontent-%COMP%]   .column-1[_ngcontent-%COMP%]{min-width:190px}.app-table[_ngcontent-%COMP%]   .column-2[_ngcontent-%COMP%]{min-width:150px}.app-table[_ngcontent-%COMP%]   .column-3[_ngcontent-%COMP%]{min-width:220px;text-align:center;white-space:break-spaces}.app-table[_ngcontent-%COMP%]   .column-4[_ngcontent-%COMP%]{min-width:90px}.app-table[_ngcontent-%COMP%]   .column-5[_ngcontent-%COMP%]{min-width:170px}.app-table[_ngcontent-%COMP%]   .column-6[_ngcontent-%COMP%]{min-width:170px}span[_ngcontent-%COMP%]{color:#dc3545}.img-update[_ngcontent-%COMP%]{width:150px;height:150px;object-fit:cover;border-radius:50%;box-shadow:0 4px 6px #0000001a,0 2px 4px -1px #0000000f}.badge[_ngcontent-%COMP%]{height:35px;padding-top:10px;background-color:#d7edff;border:1px solid #51acf6}.img-icon[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.badge-secondary[_ngcontent-%COMP%]{color:#008cff}.row[_ngcontent-%COMP%]{margin-top:15px}.group-button[_ngcontent-%COMP%]{text-align:right}.form-control[_ngcontent-%COMP%]{border-radius:3px}.button-create[_ngcontent-%COMP%]{padding:1rem 0 0}.d-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.field-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.label[_ngcontent-%COMP%]{font-size:13px}.w-full[_ngcontent-%COMP%]{width:100%}.mr-20[_ngcontent-%COMP%]{margin-right:20px}.ml-12[_ngcontent-%COMP%]{margin-left:12px}.activation-email[_ngcontent-%COMP%]{padding-top:1.5rem}[_nghost-%COMP%]     .p-inputmask{width:100%;height:40px;border-radius:8px}[_nghost-%COMP%]     .p-dropdown{width:100%;border-radius:3px}[_nghost-%COMP%]     .p-inputwrapper{display:inline-block;width:100%}[_nghost-%COMP%]     .p-inputwrapper .p-inputnumber{width:100%}[_nghost-%COMP%]     .p-inputtext{border-radius:3px}[_nghost-%COMP%]     .p-calendar-w-btn .p-datepicker-trigger{border-radius:0 3px 3px 0}[_nghost-%COMP%]     .p-calendar-w-btn .p-inputtext{border-radius:3px 0 0 3px}[_nghost-%COMP%]     .p-calendar{width:100%;height:38px;border-radius:8px}[_nghost-%COMP%]     .save-button .p-button{display:inline-block;padding-left:60px;padding-right:60px}[_nghost-%COMP%]     .group-button .p-button:first-child{margin-right:16px}[_nghost-%COMP%]     .save-button-gift .p-button{display:inline-block;padding-left:60px;padding-right:60px;float:left}[_nghost-%COMP%]     .p-button-text{background-color:#008cff;color:#fff;border-color:#0000}[_nghost-%COMP%]     .p-datepicker td>span{display:initial;font-size:15px}[_nghost-%COMP%]     .ui-datepicker .ui-widget{font-size:20px}[_nghost-%COMP%]     .p-datepicker{z-index:1003!important;transform-origin:center top!important;left:-1px!important;top:-90px!important}[_nghost-%COMP%]     .p-inputtextarea{width:100%}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link{border:2px solid #dedede;border-top-right-radius:8px;border-top-left-radius:8px}[_nghost-%COMP%]     .p-tabview .p-tabview-panels{border:1px solid #ccc}.-size-img[_ngcontent-%COMP%]{display:inline-block;width:50px;height:inherit}.-size-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:auto;object-fit:cover}.form-label[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{margin-bottom:0}"]}),r})();var X=s(705);function Qt(r,p){if(1&r){const e=t.EpF();t.TgZ(0,"div",71),t.TgZ(1,"div",72),t.TgZ(2,"div",73),t._UZ(3,"img",74),t.qZA(),t.TgZ(4,"div"),t.TgZ(5,"button",75),t.NdJ("click",function(i){return t.CHM(e),t.oxw(2).handleShowThumbnail(i)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=t.oxw(2);t.xp6(3),t.Q6J("src",e.campaignDetail.campaignThumbnail,t.LSH)}}function Rt(r,p){if(1&r&&t.YNc(0,Qt,6,1,"div",70),2&r){const e=t.oxw();t.Q6J("ngIf",!e.currentFileThumbnail)}}function Vt(r,p){if(1&r){const e=t.EpF();t.TgZ(0,"div",71),t.TgZ(1,"div",72),t.TgZ(2,"div",73),t._UZ(3,"img",74),t.qZA(),t.TgZ(4,"div"),t.TgZ(5,"button",75),t.NdJ("click",function(i){return t.CHM(e),t.oxw(2).handleShowBanner(i)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=t.oxw(2);t.xp6(3),t.Q6J("src",e.campaignDetail.campaignBanner,t.LSH)}}function zt(r,p){if(1&r&&t.YNc(0,Vt,6,1,"div",70),2&r){const e=t.oxw();t.Q6J("ngIf",!e.currentFileBanner)}}function jt(r,p){1&r&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2,"H\xe0nh \u0111\u1ed9ng"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"M\xe3 S\u1ea3n Ph\u1ea9m"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"T\xean S\u1ea3n Ph\u1ea9m"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"\u0110i\u1ec3m S\u1ea3n Ph\u1ea9m"),t.qZA(),t.qZA())}function Ht(r,p){if(1&r){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",77),t.TgZ(2,"button",78),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).doDeleteCampaignRule(a.campaignId,a.productId,"B\u1ea1n mu\u1ed1n x\xf3a Lu\u1eadt t\xedch \u0111i\u1ec3m n\xe0y?")}),t.qZA(),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.qZA()}if(2&r){const e=p.$implicit;t.xp6(4),t.hij(" ",e.productId," "),t.xp6(2),t.hij(" ",e.productName," "),t.xp6(2),t.hij(" ",e.productPoint," ")}}function $t(r,p){if(1&r&&(t.TgZ(0,"div",66),t.TgZ(1,"p-table",76),t.YNc(2,jt,9,0,"ng-template",68),t.YNc(3,Ht,9,3,"ng-template",69),t.qZA(),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("value",e.campaignRules)("showCurrentPageReport",!0)}}function Kt(r,p){1&r&&(t.TgZ(0,"tr"),t.TgZ(1,"th",79),t._uU(2,"H\xe0nh \u0111\u1ed9ng"),t.qZA(),t.TgZ(3,"th",80),t._uU(4,"Icon"),t.qZA(),t.TgZ(5,"th",81),t._uU(6,"T\xean qu\xe0"),t.qZA(),t.TgZ(7,"th",82),t._uU(8,"\u0110i\u1ec3m quy \u0111\u1ed5i"),t.qZA(),t.TgZ(9,"th",83),t._uU(10,"Ng\xe0y b\u1eaft \u0111\u1ea7u \u0111\u1ed5i qu\xe0"),t.qZA(),t.TgZ(11,"th",84),t._uU(12,"Ng\xe0y k\u1ebft th\xfac \u0111\u1ed5i qu\xe0"),t.qZA(),t.qZA())}function Xt(r,p){1&r&&(t.TgZ(0,"tr"),t.TgZ(1,"td",85),t._UZ(2,"button",86),t._uU(3," | "),t._UZ(4,"button",87),t.qZA(),t.TgZ(5,"td",80),t._UZ(6,"img",88),t.qZA(),t._UZ(7,"td",81),t._UZ(8,"td",82),t._UZ(9,"td",83),t._UZ(10,"td",84),t.qZA())}function Wt(r,p){1&r&&(t.TgZ(0,"tr"),t.TgZ(1,"th",79),t._uU(2,"H\xe0nh \u0111\u1ed9ng"),t.qZA(),t.TgZ(3,"th",80),t._uU(4,"Icon"),t.qZA(),t.TgZ(5,"th",81),t._uU(6,"T\xean qu\xe0"),t.qZA(),t.TgZ(7,"th",83),t._uU(8,"Ng\xe0y b\u1eaft \u0111\u1ea7u \u0111\u1ed5i qu\xe0"),t.qZA(),t.TgZ(9,"th",84),t._uU(10,"Ng\xe0y k\u1ebft th\xfac \u0111\u1ed5i qu\xe0"),t.qZA(),t.qZA())}function te(r,p){1&r&&(t.TgZ(0,"tr"),t.TgZ(1,"td",85),t._UZ(2,"button",86),t._uU(3," | "),t._UZ(4,"button",87),t.qZA(),t.TgZ(5,"td",80),t._UZ(6,"img",88),t.qZA(),t._UZ(7,"td",81),t._UZ(8,"td",83),t._UZ(9,"td",84),t.qZA())}const ee=function(){return["/campaign/packing-qr-history-list"]},ne=function(r,p,e){return{rootLabel:r,listLabel:p,campaignId:e}};let ae=(()=>{class r extends A.H{constructor(e,n,i,a,c,g,u,m,h,_,f,C,v,T,b,F,Q,H){super(e,n,i,a,c,g,u,h,m),this.customerService=_,this._confirmationService=f,this.formBuilder=C,this._ref=v,this.primeConfig=T,this.commonService=b,this.config=F,this.campaignService=Q,this.qrcodeService=H,this.activationEmailStatus=!1,this.isAddNormalGift=!0,this.isEditNormalGift=!0,this.disabled=!0}ngOnInit(){this.campaignID=this.config.data.campaignID,this.campaignType=this.config.data.campaignType,this.doGetCampaignDetail(this.campaignID,this.campaignType),this.initializePage(),this.getGroupList(),this.campaignTypeList=[{campaignTypeId:1,campaignTypeName:"Chi\u1ebfn D\u1ecbch 1"},{campaignTypeId:2,campaignTypeName:"Chi\u1ebfn D\u1ecbch 2"},{campaignTypeId:3,campaignTypeName:"Chi\u1ebfn D\u1ecbch 3"}],this._translateService.get("primeng").subscribe(e=>this.primeConfig.setTranslation(e)),this.campaignEditTabForm=this.formBuilder.group({txtStartDate:["",{validators:[],asyncValidators:[],updateOn:"change"}],txtEndDate:["",{validators:[],asyncValidators:[],updateOn:"change"}],txtEndDateGift:["",{validators:[],asyncValidators:[],updateOn:"change"}],txtCampaignTitle:["",{validators:[o.kI.maxLength(150),o.kI.required],asyncValidators:[],updateOn:"change"}],txtCampaignDescription:["",{validators:[o.kI.maxLength(2e3),o.kI.required],asyncValidators:[],updateOn:"change"}],txtCampaignGeneralRulesDescription:["",{validators:[o.kI.maxLength(2e3),o.kI.required],asyncValidators:[],updateOn:"change"}],txtCampaignRedemptionMethodDescription:["",{validators:[o.kI.maxLength(2e3),o.kI.required],asyncValidators:[],updateOn:"change"}],txtCampaignGroupId:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtCampaignGiftsLimit:["",{validators:[o.kI.required,o.kI.pattern(B.q.validators.patterns.onlyNumeric)],asyncValidators:[],updateOn:"change"}],txtCampaignGiftCurrentTotal:["",{validators:[o.kI.required,o.kI.pattern(B.q.validators.patterns.onlyNumeric)],asyncValidators:[],updateOn:"change"}]}),this.accumulatePointsRuleForm=this.formBuilder.group({txtChooseProduct:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtStartDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDateGift:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtPointProduct:["",{validators:[o.kI.required,o.kI.pattern(B.q.validators.patterns.onlyNumeric)],asyncValidators:[],updateOn:"change"}]})}doGetCampaignDetail(e,n){var i=this;return(0,U.Z)(function*(){var a;null===(a=i.campaignService.getCampaignDetail(e,n))||void 0===a||a.subscribe(c=>{200===c.responseStatus?(i.presentToast("success",i._translateService.instant(c.content.message)),i.campaignDetail=c.content.datas.campaignDetail,console.log(c.content.datas),i.campaignRules=c.content.datas.campaignRules,i.campaignNormalGifts=c.content.datas.campaignNormalGifts,i.campaignSpecialGifts=c.content.datas.campaignSpecialGifts,i.campaignProvinces=c.content.datas.campaignProvinces,i.campaignStartDate=new Date(i.campaignDetail.campaignStartDate.toString()),i.campaignEndDate=new Date(i.campaignDetail.campaignEndDate.toString()),i.campaignRedemptionEndDate=new Date(i.campaignDetail.campaignRedemptionEndDate.toString()),i.campaignImgThumbnail=i.campaignDetail.campaignThumbnail,i.campaignImgBanner=i.campaignDetail.campaignBanner):417===c.responseStatus?i.presentToast("warning",i._translateService.instant(c.content.message)):(console.log(c),i.presentToast("error",i._translateService.instant("common.errors-message.common-server-error")))})})()}doAddRuleCampaign(e){var n;const i={productId:this.productId,productPoint:this.productPoint};console.log("ruledata",i),null===(n=this.campaignService.addRuleCampaign(i,e))||void 0===n||n.subscribe(a=>{console.log(a),200===a.responseStatus?(this.presentToast("success",this._translateService.instant(a.content.message)),this.doGetCampaignDetail(this.campaignID,this.campaignType)):this.presentToast(417===a.responseStatus?"warning":"error",this._translateService.instant(a.content.message))},a=>{this.presentToast("error",this._translateService.instant(a))})}doDeleteCampaignRule(e,n,i){this._confirmationService.confirm({message:i,accept:()=>{var a;null===(a=this.campaignService.deleteRuleCampaign(e,n))||void 0===a||a.subscribe(c=>{this._common.attachSpinner(),200===c.responseStatus?(this.presentToast("success",this._translateService.instant(c.content.message)),this.doGetCampaignDetail(this.campaignID,this.campaignType)):this.presentToast(417==c.responseStatus?"warning":"error",this._translateService.instant(c.content.message))},c=>{console.error(c),this.presentToast("error",this._translateService.instant(c))})}})}get email(){return this.campaignEditTabForm.get("email")}initializePage(){this.getPackingList()}getPackingList(){var e=this;return(0,U.Z)(function*(){(0,L.D)({productList:e.qrcodeService.getProductList()}).pipe((0,G.g)(e.loadingTime)).subscribe(n=>{200===n.productList.responseStatus?(e.productList=n.productList.content.datas.producstList,e.presentToast("success",e._translateService.instant(n.productList.content.message))):e.presentToast(417===n.productList.responseStatus?"warning":"error",e._translateService.instant(n.productList.content.message))},n=>{console.log(n),e.presentToast("error",e._translateService.instant("common.errors-message.common-server-error"))})})()}handleDoGetCampaignDetail(){this.doGetCampaignDetail(this.campaignID,this.campaignType)}doActiveCampaign(e,n,i){this._confirmationService.confirm({message:i,accept:()=>{var a;this._common.attachSpinner(),null===(a=this.campaignService.doActiveCampaign(e,n))||void 0===a||a.subscribe(c=>{200===c.responseStatus?(this._common.detachSpinner(),this.presentToast("success",this._translateService.instant(c.content.message))):417===c.responseStatus?(this.presentToast("warning",this._translateService.instant(c.content.message)),this._common.detachSpinner()):(this.presentToast("error",this._translateService.instant(c.content.message)),this._common.detachSpinner())},c=>{console.log(c),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error")),this._common.detachSpinner()})}})}doDeactiveCampaign(e,n,i){this._confirmationService.confirm({message:i,accept:()=>{var a;this._common.attachSpinner(),null===(a=this.campaignService.doDeactiveCampaign(e,n))||void 0===a||a.subscribe(c=>{200===c.responseStatus?(this._common.detachSpinner(),this.presentToast("success",this._translateService.instant(c.content.message))):417===c.responseStatus?(this.presentToast("warning",this._translateService.instant(c.content.message)),this._common.detachSpinner()):(this.presentToast("error",this._translateService.instant(c.content.message)),this._common.detachSpinner())},c=>{console.log(c),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error")),this._common.detachSpinner()})}})}getGroupList(){this._common.groupSelection.subscribe(e=>{const n=[{createdDate:new Date,createdUser:900000000010,groupDescription:"",groupId:0,groupName:"\u0110\u1ea1i L\xfd | Th\u1ea7u Th\u1ee3",groupNameOptional:"",status:9,updatedDate:new Date,updatedUser:0},...e];this.groupList=n})}doUpdateCampaignInfo(){var e;let n=new FormData;this.currentStartDate=`${this.campaignStartDate.getFullYear()}-${this.campaignStartDate.getMonth()+1}-${this.campaignStartDate.getDate()}`,this.currentEndDate=`${this.campaignEndDate.getFullYear()}-${this.campaignEndDate.getMonth()+1}-${this.campaignEndDate.getDate()}`,this.currentRedemptionEndDate=`${this.campaignRedemptionEndDate.getFullYear()}-${this.campaignRedemptionEndDate.getMonth()+1}-${this.campaignRedemptionEndDate.getDate()}`,n.append("campaignThumbnail",this.currentFileThumbnail||this.campaignImgThumbnail),n.append("campaignBanner",this.currentFileBanner||this.campaignImgBanner),n.append("campaignType",this.campaignDetail.campaignType.toString()),n.append("campaignGroupId",this.campaignEditTabForm.value.txtCampaignGroupId),n.append("campaignTitle",this.campaignEditTabForm.value.txtCampaignTitle),n.append("campaignGiftsLimit",this.campaignEditTabForm.value.txtCampaignGiftsLimit),n.append("campaignDescription",this.campaignEditTabForm.value.txtCampaignDescription),n.append("campaignRedemptionMethodDescription",this.campaignEditTabForm.value.txtCampaignRedemptionMethodDescription),n.append("campaignGeneralRulesDescription",this.campaignEditTabForm.value.txtCampaignGeneralRulesDescription),n.append("campaignStartDate",this.currentStartDate||this.campaignStartDate.toString()),n.append("campaignEndDate",this.currentEndDate||this.campaignEndDate.toString()),n.append("campaignRedemptionEndDate",this.currentRedemptionEndDate||this.campaignRedemptionEndDate.toString()),null===(e=this.campaignService.doUpdateCampaign(n,this.campaignDetail.campaignId))||void 0===e||e.subscribe(i=>{if(i.type!==N.dt.UploadProgress&&i instanceof N.Zn){let a=i.body;console.log(a),200===a.responseStatus?(this.presentToast("success",this._translateService.instant(a.content.message)),this._ref.close()):417===a.responseStatus?this.presentToast("warning",this._translateService.instant(a.content.message)):(console.log(a),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error")))}},i=>{console.log(i),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error"))})}handleChange(e){console.log(e.index)}formatDate(e){function n(i){return i<10?"0"+i:i}return[e.getFullYear(),n(e.getMonth()+1),n(e.getDate())].join("-")}getDate(e){let n=new Date(Date.parse(e));this.currentBirthday=`${n.getFullYear()}/${n.getMonth()+1}/${n.getDate()}`}getGroup(e){this.currentGroup=e}getSex(e){this.currentSex=e}getProvince(e){this.currentProvince=e}isDisable(){return this.campaignEditTabForm.valid}onSelectEvent(e){console.log(e),this.currentFile=e}onSelectThumbnail(e){this.currentFileThumbnail=e.files[0]}onSelectBanner(e){this.currentFileBanner=e.files[0]}handleShowThumbnail(e){this.currentFileThumbnail=this.campaignImgThumbnail}handleShowBanner(e){this.currentFileBanner=this.campaignImgBanner}onRemoveThumbnail(e){this.currentFileThumbnail=this.fileUndefined}onRemoveBanner(e){this.currentFileBanner=this.fileUndefined}checkAll(){$("group1").addClass("checked")}getStartDate(e){let n=new Date(Date.parse(e));this.currentStartDate=`${n.getFullYear()}-${n.getMonth()+1}-${n.getDate()}`}getEndDate(e){let n=new Date(Date.parse(e));this.currentEndDate=`${n.getFullYear()}-${n.getMonth()+1}-${n.getDate()}`}getRedemptionEndDate(e){let n=new Date(Date.parse(e));this.currentRedemptionEndDate=`${n.getFullYear()}-${n.getMonth()+1}-${n.getDate()}`}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(d.gz),t.Y36(P.Dx),t.Y36(d.F0),t.Y36(M.uw),t.Y36(x.v),t.Y36(D.w),t.Y36(O._W),t.Y36(l.xA),t.Y36(q.sK),t.Y36(k.v),t.Y36(Z.YP),t.Y36(o.qu),t.Y36(l.E7),t.Y36(Z.b4),t.Y36(x.v),t.Y36(l.S),t.Y36(I.U),t.Y36(Y.D))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-dialog-edit-campaign-v1"]],features:[t.qOj],decls:129,vars:55,consts:[[1,"campaigns-edit-wrapper"],[1,"group-buttons"],[1,"group-button"],["label","L\u1ecbch S\u1eed QRs",1,"finish-button",3,"routerLink","state"],["label","K\u1ebft Th\xfac Chi\u1ebfn D\u1ecbch",1,"finish-button",3,"click"],["label","K\xedch Ho\u1ea1t Chi\u1ebfn D\u1ecbch",1,"release-button",3,"click"],[1,"campaigns-edit__tabs"],["header","Th\xf4ng Tin Chi\u1ebfn D\u1ecbch"],[3,"formGroup"],["label","L\u01b0u",1,"save-button",3,"disabled","click"],[1,"row"],[1,"col-md-6"],[1,"form-group","d-flex"],["for","campaignTitleType",1,"form-control-label","text-center","mb-0"],["for","campaignTarget",1,"form-control-label","text-center","mb-0"],["optionLabel","groupName","optionValue","groupId","id","campaignTarget","placeholder","\u0110\u1ea1i L\xfd | Th\u1ea7u Th\u1ee3","formControlName","txtCampaignGroupId",1,"common-dropdown","p-inputtext-sm","w-full",3,"options","ngModel","ngModelChange"],[1,"col-md-4"],["for","startDate",1,"form-control-label","text-center","mb-0"],["formControlName","txtStartDate","inputId","txtStartDate","dateFormat","dd/mm/yy",3,"showIcon","ngModel","onSelect","ngModelChange"],["for","endDate",1,"form-control-label","text-center","mb-0"],["formControlName","txtEndDate","inputId","txtEndDate","dateFormat","dd/mm/yy",3,"showIcon","ngModel","onSelect","ngModelChange"],["for","endDateGift",1,"form-control-label","text-center","mb-0"],["formControlName","txtEndDateGift","inputId","txtEndDateGift","dateFormat","dd/mm/yy",3,"showIcon","ngModel","onSelect","ngModelChange"],[1,"col-md-12"],["for","campaignTitle",1,"form-control-label","text-center","mb-0"],["pInputText","","id","txtCampaignTitle","formControlName","txtCampaignTitle","placeholder","Ti\xeau \u0110\u1ec1 Chi\u1ebfn D\u1ecbch",1,"form-control",3,"ngModel","ngModelChange"],["controllerName","txtCampaignTitle","controllerType","textbox","controllerTitle","Ti\xeau \u0110\u1ec1 Chi\u1ebfn D\u1ecbch","maxLength","150",1,"validate-center",3,"mainForm"],[1,"form-group","d-flex-top"],["for","campaignDescribe",1,"text-center","label"],["rows","5","cols","30","pInputTextarea","","id","campaignDescribe","formControlName","txtCampaignDescription",3,"autoResize","ngModel","ngModelChange"],["controllerName","txtCampaignDescription","controllerType","textbox","controllerTitle","M\xf4 T\u1ea3 Chi\u1ebfn D\u1ecbch","maxLength","2000",1,"validate-center",3,"mainForm"],["for","campaignCommonRule",1,"text-center","label"],["rows","10","cols","30","pInputTextarea","","formControlName","txtCampaignGeneralRulesDescription","id","campaignCommonRule",3,"autoResize","ngModel","ngModelChange"],["controllerName","txtCampaignGeneralRulesDescription","controllerType","textbox","maxLength","2000","controllerTitle","Quy \u0110\u1ecbnh Chung",1,"validate-center",3,"mainForm"],["for","campaignGiftRule",1,"text-center","label"],["rows","10","cols","30","pInputTextarea","","id","campaignGiftRule","formControlName","txtCampaignRedemptionMethodDescription",3,"autoResize","ngModel","ngModelChange"],["controllerName","txtCampaignRedemptionMethodDescription","controllerType","textbox","maxLength","2000","controllerTitle","Quy \u0110\u1ecbnh Tr\u1ea3 Th\u01b0\u1edfng",1,"validate-center",3,"mainForm"],["for","maxGift",1,"form-control-label","text-center","mb-0"],["formControlName","txtCampaignGiftsLimit","placeholder","S\u1ed1 L\u01b0\u1ee3ng Qu\xe0 T\u1ed1i \u0110a","mode","decimal",1,"w-full",3,"ngModel","min","max","ngModelChange"],["controllerName","txtCampaignGiftsLimit","controllerType","textbox","controllerTitle","S\u1ed1 L\u01b0\u1ee3ng Qu\xe0 T\u1ed1i \u0110a",1,"validate-center",3,"mainForm"],["for","amountGiftChanged",1,"form-control-label","text-center","mb-0"],["formControlName","txtCampaignGiftCurrentTotal","placeholder","S\u1ed1 L\u01b0\u1ee3ng Qu\xe0 \u0110\xe3 \u0110\u1ed5i","mode","decimal",3,"ngModel","min","max","disabled","ngModelChange"],["controllerName","txtCampaignGiftCurrentTotal","controllerType","textbox","controllerTitle","S\u1ed1 L\u01b0\u1ee3ng Qu\xe0 \u0110\xe3 \u0110\u1ed5i",1,"validate-center",3,"mainForm"],["for","customerIdentificationFront",1,"form-control-label","text-center","mb-0"],["name","docs[]","accept","image/*","invalidFileSizeMessageSummary","{0}: K\xedch th\u01b0\u1edbc t\u1ec7p kh\xf4ng h\u1ee3p l\u1ec7","invalidFileSizeMessageDetail","K\xedch th\u01b0\u1edbc t\u1ec7p t\u1ea3i l\xean t\u1ed1i \u0111a l\xe0 {0}.","chooseLabel","C\u1eadp nh\u1eadt \u1ea3nh","uploadLabel","T\u1ea3i l\xean","cancelLabel","H\u1ee7y",1,"w-full",3,"multiple","maxFileSize","showUploadButton","customUpload","onSelect"],["pTemplate","content"],["name","docs[]","accept","image/*","invalidFileSizeMessageSummary","{0}: K\xedch th\u01b0\u1edbc t\u1ec7p kh\xf4ng h\u1ee3p l\u1ec7","invalidFileSizeMessageDetail","K\xedch th\u01b0\u1edbc t\u1ec7p t\u1ea3i l\xean t\u1ed1i \u0111a l\xe0 {0}.","chooseLabel","C\u1eadp nh\u1eadt \u1ea3nh","uploadLabel","T\u1ea3i l\xean","cancelLabel","H\u1ee7y",1,"w-full",3,"multiple","maxFileSize","showUploadButton","customUpload","onSelect","onRemove"],["header","V\xf9ng Mi\u1ec1n"],[3,"currentProvinces","campaignId"],["header","Lu\u1eadt T\xedch \u0110i\u1ec3m",3,"onChange"],["label","L\u01b0u",1,"save-button"],["action","",1,"form",3,"formGroup"],[1,"row","input-field"],[1,"form-group","d-flex-center"],["for","chooseProduct",1,"form-control-label","text-left-min-width","mr-12","mb-0"],["optionLabel","productName","optionValue","productId","id","chooseProduct","formControlName","txtChooseProduct",1,"common-dropdown","p-inputtext-sm","w-full",3,"options","placeholder","ngModel","ngModelChange"],["for","pointProduct",1,"form-control-label","text-left-min-width","mr-12","mb-0"],["id","pointProduct","formControlName","txtPointProduct","placeholder","\u0110i\u1ec3m S\u1ea3n Ph\u1ea9m",3,"min","ngModel","ngModelChange"],["controllerName","txtPointProduct","controllerType","textbox","controllerTitle","\u0110i\u1ec3m S\u1ea3n Ph\u1ea9m",1,"validate-pointProduct",3,"mainForm"],[1,"flex","btn-search"],["pButton","","type","button","label","Th\xeam Lu\u1eadt",3,"click"],["class","app-table",4,"ngIf"],["header","Qu\xe0 T\u1eb7ng"],[1,"group-buttons","mt-2"],["label","Th\xeam Qu\xe0 T\u1eb7ng \u0110\u1eb7c Bi\u1ec7t","type","button",1,"finish-button","ml-12"],["label","Th\xeam Qu\xe0 T\u1eb7ng",1,"release-button"],[1,"app-table"],["styleClass","p-datatable-sm p-datatable-gridlines","responsiveLayout","scroll"],["pTemplate","header"],["pTemplate","body"],["class","p-fileupload-files",4,"ngIf"],[1,"p-fileupload-files"],[1,"p-fileupload-row"],[1,"-size-img"],["alt","Image",3,"src"],["pButton","","type","button","icon","pi pi-times",1,"p-button-text",3,"click"],["styleClass","p-datatable-sm p-datatable-gridlines","responsiveLayout","scroll","scrollHeight","400px",3,"value","showCurrentPageReport"],[1,"justify-center"],["pButton","","pRipples","","type","button","label","Xo\xe1",1,"p-button-danger","p-button-text","mr-2",3,"click"],[1,"column-1"],[1,"column-2"],[1,"column-3"],[1,"column-4"],[1,"column-5"],[1,"column-6"],[1,"justify-center","column-1"],["pButton","","pRipple","","type","button","label","S\u1eeda",1,"p-button-success","p-button-text","mr-2"],["pButton","","pRipple","","type","button","label","Xo\xe1",1,"p-button-danger","p-button-text","mr-2"],["alt","icon",1,"img-update"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._UZ(3,"p-button",3),t.TgZ(4,"p-button",4),t.NdJ("click",function(){return n.doDeactiveCampaign(n.campaignDetail.campaignId,-1,"B\u1ea1n Mu\u1ed1n K\u1ebft Th\xfac Chi\u1ebfn D\u1ecbch?")}),t.qZA(),t.TgZ(5,"p-button",5),t.NdJ("click",function(){return n.doActiveCampaign(n.campaignDetail.campaignId,1,"B\u1ea1n Mu\u1ed1n K\xedch Ho\u1ea1t Chi\u1ebfn D\u1ecbch?")}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",6),t.TgZ(7,"p-tabView"),t.TgZ(8,"p-tabPanel",7),t.TgZ(9,"form",8),t.TgZ(10,"div",2),t.TgZ(11,"p-button",9),t.NdJ("click",function(){return n.doUpdateCampaignInfo()}),t.qZA(),t.qZA(),t.TgZ(12,"div",10),t.TgZ(13,"div",11),t.TgZ(14,"div",12),t.TgZ(15,"label",13),t._uU(16,"Lo\u1ea1i Chi\u1ebfn D\u1ecbch:"),t.qZA(),t.TgZ(17,"h4"),t._uU(18),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",11),t.TgZ(20,"div",12),t.TgZ(21,"label",14),t._uU(22,"\u0110\u1ed1i T\u01b0\u1ee3ng \xc1p D\u1ee5ng:"),t.qZA(),t.TgZ(23,"p-dropdown",15),t.NdJ("ngModelChange",function(a){return n.campaignDetail.campaignGroupId=a}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",16),t.TgZ(25,"div",12),t.TgZ(26,"label",17),t._uU(27,"Ng\xe0y B\u1eaft \u0110\u1ea7u:"),t.qZA(),t.TgZ(28,"p-calendar",18),t.NdJ("onSelect",function(a){return n.getStartDate(a)})("ngModelChange",function(a){return n.campaignStartDate=a}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"div",16),t.TgZ(30,"div",12),t.TgZ(31,"label",19),t._uU(32,"Ng\xe0y K\u1ebft Th\xfac:"),t.qZA(),t.TgZ(33,"p-calendar",20),t.NdJ("onSelect",function(a){return n.getEndDate(a)})("ngModelChange",function(a){return n.campaignEndDate=a}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"div",16),t.TgZ(35,"div",12),t.TgZ(36,"label",21),t._uU(37,"Ng\xe0y K\u1ebft Th\xfac \u0110\u1ed5i Th\u01b0\u1edfng:"),t.qZA(),t.TgZ(38,"p-calendar",22),t.NdJ("onSelect",function(a){return n.getRedemptionEndDate(a)})("ngModelChange",function(a){return n.campaignRedemptionEndDate=a}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(39,"div",23),t.TgZ(40,"div",12),t.TgZ(41,"label",24),t._uU(42,"Ti\xeau \u0110\u1ec1 Chi\u1ebfn D\u1ecbch:"),t.qZA(),t.TgZ(43,"input",25),t.NdJ("ngModelChange",function(a){return n.campaignDetail.campaignTitle=a}),t.qZA(),t.qZA(),t._UZ(44,"common-validation-message",26),t.qZA(),t.TgZ(45,"div",23),t.TgZ(46,"div",27),t.TgZ(47,"label",28),t._uU(48,"M\xf4 T\u1ea3 Chi\u1ebfn D\u1ecbch:"),t.qZA(),t.TgZ(49,"textarea",29),t.NdJ("ngModelChange",function(a){return n.campaignDetail.campaignDescription=a}),t.qZA(),t.qZA(),t._UZ(50,"common-validation-message",30),t.qZA(),t.TgZ(51,"div",23),t.TgZ(52,"div",27),t.TgZ(53,"label",31),t._uU(54,"Quy \u0110\u1ecbnh Chung:"),t.qZA(),t.TgZ(55,"textarea",32),t.NdJ("ngModelChange",function(a){return n.campaignDetail.campaignGeneralRulesDescription=a}),t.qZA(),t.qZA(),t._UZ(56,"common-validation-message",33),t.qZA(),t.TgZ(57,"div",23),t.TgZ(58,"div",27),t.TgZ(59,"label",34),t._uU(60,"Quy \u0110\u1ecbnh Tr\u1ea3 Th\u01b0\u1edfng:"),t.qZA(),t.TgZ(61,"textarea",35),t.NdJ("ngModelChange",function(a){return n.campaignDetail.campaignRedemptionMethodDescription=a}),t.qZA(),t.qZA(),t._UZ(62,"common-validation-message",36),t.qZA(),t.TgZ(63,"div",23),t.TgZ(64,"div",12),t.TgZ(65,"label",37),t._uU(66,"S\u1ed1 L\u01b0\u1ee3ng Qu\xe0 T\u1ed1i \u0110a:"),t.qZA(),t.TgZ(67,"p-inputNumber",38),t.NdJ("ngModelChange",function(a){return n.campaignDetail.campaignGiftsLimit=a}),t.qZA(),t.qZA(),t._UZ(68,"common-validation-message",39),t.qZA(),t.TgZ(69,"div",23),t.TgZ(70,"div",12),t.TgZ(71,"label",40),t._uU(72,"S\u1ed1 L\u01b0\u1ee3ng Qu\xe0 \u0110\xe3 \u0110\u1ed5i:"),t.qZA(),t.TgZ(73,"p-inputNumber",41),t.NdJ("ngModelChange",function(a){return n.campaignDetail.campaignGiftCurrentTotal=a}),t.qZA(),t.qZA(),t._UZ(74,"common-validation-message",42),t.qZA(),t.TgZ(75,"div",23),t.TgZ(76,"div",12),t.TgZ(77,"label",43),t._uU(78,"Thumbnail:"),t.qZA(),t.TgZ(79,"p-fileUpload",44),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)})("onSelect",function(a){return n.onSelectThumbnail(a)}),t.YNc(80,Rt,1,1,"ng-template",45),t.qZA(),t.qZA(),t.qZA(),t.TgZ(81,"div",23),t.TgZ(82,"div",12),t.TgZ(83,"label",43),t._uU(84,"Banner:"),t.qZA(),t.TgZ(85,"p-fileUpload",46),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)})("onSelect",function(a){return n.onSelectBanner(a)})("onRemove",function(a){return n.onRemoveBanner(a)}),t.YNc(86,zt,1,1,"ng-template",45),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(87,"p-tabPanel",47),t._UZ(88,"app-province-tab",48),t.qZA(),t.TgZ(89,"p-tabPanel",49),t.NdJ("onChange",function(a){return n.handleChange(a)}),t.TgZ(90,"div",2),t._UZ(91,"p-button",50),t.qZA(),t.TgZ(92,"h4"),t._uU(93,"Lu\u1eadt T\xedch \u0110i\u1ec3m:"),t.qZA(),t.TgZ(94,"form",51),t.TgZ(95,"div",52),t.TgZ(96,"div",11),t.TgZ(97,"div",53),t.TgZ(98,"label",54),t._uU(99),t.qZA(),t.TgZ(100,"p-dropdown",55),t.NdJ("ngModelChange",function(a){return n.productId=a}),t.qZA(),t.qZA(),t.TgZ(101,"div",23),t.TgZ(102,"div",12),t.TgZ(103,"label",56),t._uU(104,"\u0110i\u1ec3m S\u1ea3n Ph\u1ea9m:"),t.qZA(),t.TgZ(105,"p-inputNumber",57),t.NdJ("ngModelChange",function(a){return n.productPoint=a}),t.qZA(),t.qZA(),t._UZ(106,"common-validation-message",58),t.qZA(),t.TgZ(107,"div",59),t.TgZ(108,"button",60),t.NdJ("click",function(){return n.doAddRuleCampaign(n.campaignDetail.campaignId)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(109,"h4"),t._uU(110,"Danh S\xe1ch Lu\u1eadt"),t.qZA(),t.YNc(111,$t,4,2,"div",61),t.qZA(),t.TgZ(112,"p-tabPanel",62),t.TgZ(113,"div",63),t.TgZ(114,"div",2),t._UZ(115,"p-button",64),t._UZ(116,"p-button",65),t.qZA(),t.qZA(),t.TgZ(117,"h4"),t._uU(118,"Danh S\xe1ch Qu\xe0 T\u1eb7ng"),t.qZA(),t.TgZ(119,"div",66),t.TgZ(120,"p-table",67),t.YNc(121,Kt,13,0,"ng-template",68),t.YNc(122,Xt,11,0,"ng-template",69),t.qZA(),t.qZA(),t.TgZ(123,"h4"),t._uU(124,"Danh S\xe1ch Qu\xe0 T\u1eb7ng \u0110\u1eb7c Bi\u1ec7t"),t.qZA(),t.TgZ(125,"div",66),t.TgZ(126,"p-table",67),t.YNc(127,Wt,11,0,"ng-template",68),t.YNc(128,te,10,0,"ng-template",69),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.Q6J("routerLink",t.DdM(50,ee))("state",t.kEZ(51,ne,n.campaignDetail.campaignTitle,n.campaignDetail.campaignTitle,n.campaignDetail.campaignId)),t.xp6(6),t.Q6J("formGroup",n.campaignEditTabForm),t.xp6(2),t.Q6J("disabled",!n.isDisable()),t.xp6(7),t.hij("Chi\u1ebfn D\u1ecbch ",n.campaignDetail.campaignType,""),t.xp6(5),t.Q6J("options",n.groupList)("ngModel",n.campaignDetail.campaignGroupId),t.xp6(5),t.Q6J("showIcon",!0)("ngModel",n.campaignStartDate),t.xp6(5),t.Q6J("showIcon",!0)("ngModel",n.campaignEndDate),t.xp6(5),t.Q6J("showIcon",!0)("ngModel",n.campaignRedemptionEndDate),t.xp6(5),t.Q6J("ngModel",n.campaignDetail.campaignTitle),t.xp6(1),t.Q6J("mainForm",n.campaignEditTabForm),t.xp6(5),t.Q6J("autoResize",!0)("ngModel",n.campaignDetail.campaignDescription),t.xp6(1),t.Q6J("mainForm",n.campaignEditTabForm),t.xp6(5),t.Q6J("autoResize",!0)("ngModel",n.campaignDetail.campaignGeneralRulesDescription),t.xp6(1),t.Q6J("mainForm",n.campaignEditTabForm),t.xp6(5),t.Q6J("autoResize",!0)("ngModel",n.campaignDetail.campaignRedemptionMethodDescription),t.xp6(1),t.Q6J("mainForm",n.campaignEditTabForm),t.xp6(5),t.Q6J("ngModel",n.campaignDetail.campaignGiftsLimit)("min",0)("max",1e8),t.xp6(1),t.Q6J("mainForm",n.campaignEditTabForm),t.xp6(5),t.Q6J("ngModel",n.campaignDetail.campaignGiftCurrentTotal)("min",0)("max",1e8)("disabled",!0),t.xp6(1),t.Q6J("mainForm",n.campaignEditTabForm),t.xp6(5),t.Q6J("multiple",!1)("maxFileSize",2e6)("showUploadButton",!0),t.xp6(6),t.Q6J("multiple",!1)("maxFileSize",2e6)("showUploadButton",!0),t.xp6(3),t.Q6J("currentProvinces",n.campaignProvinces)("campaignId",n.campaignDetail.campaignId),t.xp6(6),t.Q6J("formGroup",n.accumulatePointsRuleForm),t.xp6(5),t.Oqu(n._translateService.instant("pages.qrcode.placeholders.choose-product")),t.xp6(1),t.Q6J("options",n.productList)("placeholder",n._translateService.instant("pages.qrcode.placeholders.choose-product"))("ngModel",n.productId),t.xp6(5),t.Q6J("min",0)("ngModel",n.productPoint),t.xp6(1),t.Q6J("mainForm",n.accumulatePointsRuleForm),t.xp6(5),t.Q6J("ngIf",n.campaignRules))},directives:[E.zx,d.rH,V.xf,V.x4,o._Y,o.JL,o.sg,J.Lt,o.JJ,o.u,K.f,o.Fj,z.o,R.C,w.g,X.Rn,S.p,Z.jx,tt,E.Hq,y.O5,j.iA],styles:[".campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]{margin-top:5px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{display:inline-block;text-align:center;white-space:nowrap;min-width:170px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .mr-12[_ngcontent-%COMP%]{margin-right:12px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .ml-12[_ngcontent-%COMP%]{margin-left:12px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .mb-0[_ngcontent-%COMP%]{margin-bottom:0}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .validate-center[_ngcontent-%COMP%]{display:inline-block;margin-left:170px;margin-bottom:18px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .validate-pointProduct[_ngcontent-%COMP%]{display:inline-block;margin-left:127px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .d-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .justify-center[_ngcontent-%COMP%]{justify-content:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{display:flex;align-items:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .d-flex-top[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .w-full[_ngcontent-%COMP%]{width:100%}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .field-checkbox[_ngcontent-%COMP%]{margin:12px 0}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .btn-search[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:28px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .text-left-min-width[_ngcontent-%COMP%]{white-space:nowrap;text-align:left;min-width:120px}.app-table[_ngcontent-%COMP%]{width:100%;height:auto;box-shadow:#959da533 0 8px 24px!important;background-color:#fff!important;margin-bottom:2rem;padding:5px}.app-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .app-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{justify-content:center}.app-table[_ngcontent-%COMP%]   .column-1[_ngcontent-%COMP%]{min-width:190px}.app-table[_ngcontent-%COMP%]   .column-2[_ngcontent-%COMP%]{min-width:150px}.app-table[_ngcontent-%COMP%]   .column-3[_ngcontent-%COMP%]{min-width:220px;text-align:center;white-space:break-spaces}.app-table[_ngcontent-%COMP%]   .column-4[_ngcontent-%COMP%]{min-width:90px}.app-table[_ngcontent-%COMP%]   .column-5[_ngcontent-%COMP%]{min-width:170px}.app-table[_ngcontent-%COMP%]   .column-6[_ngcontent-%COMP%]{min-width:170px}span[_ngcontent-%COMP%]{color:#dc3545}.img-update[_ngcontent-%COMP%]{width:150px;height:150px;object-fit:cover;border-radius:50%;box-shadow:0 4px 6px #0000001a,0 2px 4px -1px #0000000f}.badge[_ngcontent-%COMP%]{height:35px;padding-top:10px;background-color:#d7edff;border:1px solid #51acf6}.img-icon[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.badge-secondary[_ngcontent-%COMP%]{color:#008cff}.row[_ngcontent-%COMP%]{margin-top:15px}.group-button[_ngcontent-%COMP%]{text-align:right}.form-control[_ngcontent-%COMP%]{border-radius:3px}.button-create[_ngcontent-%COMP%]{padding:1rem 0 0}.d-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.field-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.label[_ngcontent-%COMP%]{font-size:13px}.w-full[_ngcontent-%COMP%]{width:100%}.mr-20[_ngcontent-%COMP%]{margin-right:20px}.ml-12[_ngcontent-%COMP%]{margin-left:12px}.activation-email[_ngcontent-%COMP%]{padding-top:1.5rem}[_nghost-%COMP%]     .p-inputmask{width:100%;height:40px;border-radius:8px}[_nghost-%COMP%]     .p-dropdown{width:100%;border-radius:3px}[_nghost-%COMP%]     .p-inputwrapper{display:inline-block;width:100%}[_nghost-%COMP%]     .p-inputwrapper .p-inputnumber{width:100%}[_nghost-%COMP%]     .p-inputtext{border-radius:3px}[_nghost-%COMP%]     .p-calendar-w-btn .p-datepicker-trigger{border-radius:0 3px 3px 0}[_nghost-%COMP%]     .p-calendar-w-btn .p-inputtext{border-radius:3px 0 0 3px}[_nghost-%COMP%]     .p-calendar{width:100%;height:38px;border-radius:8px}[_nghost-%COMP%]     .save-button .p-button{display:inline-block;padding-left:60px;padding-right:60px}[_nghost-%COMP%]     .group-button .p-button:first-child{margin-right:16px}[_nghost-%COMP%]     .save-button-gift .p-button{display:inline-block;padding-left:60px;padding-right:60px;float:left}[_nghost-%COMP%]     .p-button-text{background-color:#008cff;color:#fff;border-color:#0000}[_nghost-%COMP%]     .p-datepicker td>span{display:initial;font-size:15px}[_nghost-%COMP%]     .ui-datepicker .ui-widget{font-size:20px}[_nghost-%COMP%]     .p-datepicker{z-index:1003!important;transform-origin:center top!important;left:-1px!important;top:-90px!important}[_nghost-%COMP%]     .p-inputtextarea{width:100%}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link{border:2px solid #dedede;border-top-right-radius:8px;border-top-left-radius:8px}[_nghost-%COMP%]     .p-tabview .p-tabview-panels{border:1px solid #ccc}.-size-img[_ngcontent-%COMP%]{display:inline-block;width:50px;height:inherit}.-size-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:auto;object-fit:cover}.form-label[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{margin-bottom:0}"]}),r})(),ie=(()=>{class r extends A.H{constructor(e,n,i,a,c,g,u,m,h,_,f,C,v,T,b){super(e,n,i,a,c,g,u,h,m),this.customerService=_,this.formBuilder=f,this._ref=C,this.primeConfig=v,this.commonService=T,this.config=b,this.activationEmailStatus=!1}ngOnInit(){this.ruleList=[{productNo:20002022,productName:"T\u1ea5m ACB",productPoint:1.5},{productNo:20002023,productName:"T\u1ea5m ACB",productPoint:3.5},{productNo:20002024,productName:"T\u1ea5m ACB",productPoint:2.5},{productNo:20002025,productName:"T\u1ea5m ACB",productPoint:5.5}],this.giftList=[{icon:"https://apis.zeitgypsum.com/public/assets/images/default_avatar.png",giftName:"T\u1ea5m ACB",productPoint:1.5,dateStarExchange:new Date,dateEndExchange:new Date},{icon:"https://apis.zeitgypsum.com/public/assets/images/default_avatar.png",giftName:"T\u1ea5m ACB",productPoint:1.5,dateStarExchange:new Date,dateEndExchange:new Date},{icon:"https://apis.zeitgypsum.com/public/assets/images/default_avatar.png",giftName:"T\u1ea5m ACB",productPoint:1.5,dateStarExchange:new Date,dateEndExchange:new Date}],this._translateService.get("primeng").subscribe(e=>this.primeConfig.setTranslation(e)),this.addGift3Form=this.formBuilder.group({txtPointExchange:["",{validators:[o.kI.required,o.kI.pattern(B.q.validators.patterns.onlyNumeric)],asyncValidators:[],updateOn:"change"}],txtGiftExchange:["",{validators:[o.kI.required,o.kI.maxLength(100)],asyncValidators:[],updateOn:"change"}],txtDescription:["",{validators:[o.kI.required,o.kI.maxLength(500)],asyncValidators:[],updateOn:"change"}]}),this.campaignEditTabForm=this.formBuilder.group({txtStartDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDateGift:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtCampaignTitle:["",{validators:[o.kI.maxLength(500),o.kI.required],asyncValidators:[],updateOn:"change"}],txtMaxGift:["",{validators:[o.kI.maxLength(50),o.kI.required],asyncValidators:[],updateOn:"change"}]}),this.campaignEditTabForm2=this.formBuilder.group({txtStartDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDateGift:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtCampaignTitle:["",{validators:[o.kI.maxLength(500),o.kI.required],asyncValidators:[],updateOn:"change"}],txtMaxGift:["",{validators:[o.kI.maxLength(50),o.kI.required],asyncValidators:[],updateOn:"change"}]}),this.accumulatePointsRuleForm=this.formBuilder.group({txtStartDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDateGift:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtpointProduct:["",{validators:[o.kI.maxLength(500),o.kI.required],asyncValidators:[],updateOn:"change"}],txtMaxGift:["",{validators:[o.kI.maxLength(50),o.kI.required],asyncValidators:[],updateOn:"change"}]}),this.accumulatePointsRuleForm2=this.formBuilder.group({txtStartDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDateGift:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtpointProduct:["",{validators:[o.kI.maxLength(500),o.kI.required],asyncValidators:[],updateOn:"change"}],txtMaxGift:["",{validators:[o.kI.maxLength(50),o.kI.required],asyncValidators:[],updateOn:"change"}]}),this.commonService.provinceSelection.subscribe(e=>{this.provinceList=e,this.provinceListS=this.getProvinceSouth(e),this.provinceListC=this.getProvinceCennter(e),this.provinceListN=this.getProvinceNorth(e)})}get email(){return this.campaignEditTabForm.get("email")}getProvinceSouth(e){let n=[];for(let i of e)"S"==i.provinceNameOptional&&n.push(i);return n}getProvinceCennter(e){let n=[];for(let i of e)"C"==i.provinceNameOptional&&n.push(i);return n}getProvinceNorth(e){let n=[];for(let i of e)"N"==i.provinceNameOptional&&n.push(i);return n}getDate(e){let n=new Date(Date.parse(e));this.currentBirthday=`${n.getFullYear()}/${n.getMonth()+1}/${n.getDate()}`}getGroup(e){this.currentGroup=e}getSex(e){this.currentSex=e}getProvince(e){this.currentProvince=e}isDisable(){return this.campaignEditTabForm.valid}onSelectEvent(e){console.log(e),this.currentFile=e}checkAll(){$("group1").addClass("checked")}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(d.gz),t.Y36(P.Dx),t.Y36(d.F0),t.Y36(M.uw),t.Y36(x.v),t.Y36(D.w),t.Y36(O._W),t.Y36(l.xA),t.Y36(q.sK),t.Y36(k.v),t.Y36(o.qu),t.Y36(l.E7),t.Y36(Z.b4),t.Y36(x.v),t.Y36(l.S))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-dialog-add-gift3"]],features:[t._Bn([l.xA]),t.qOj],decls:45,vars:22,consts:[[1,"form","add-gift3-dialog",3,"formGroup"],[1,"campaigns-edit-wrapper"],[1,"gift-monthly-edit"],[1,"row","input-field"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["for","txtPointExchange",1,"form-control-label"],["formControlName","txtPointExchange","placeholder","\u0110i\u1ec3m quy \u0111\u1ed5i","mode","decimal",1,"row","mt-0",3,"min","max"],["controllerName","txtPointExchange","controllerType","textbox",3,"mainForm","controllerTitle"],["for","txtGiftExchange",1,"form-control-label"],["pInputText","","id","txtGiftExchange","formControlName","txtGiftExchange","placeholder","T\xean qu\xe0",1,"form-control"],["controllerName","txtGiftExchange","controllerType","textbox","maxLength","100",3,"mainForm","controllerTitle"],["for","txtDescription",1,"form-control-label"],["rows","5","cols","30","pInputTextarea","","id","txtDescription","formControlName","txtDescription",3,"autoResize"],["controllerName","txtDescription","controllerType","textbox","maxLength","500",3,"mainForm","controllerTitle"],["for","customerIdentificationFront",1,"form-control-label"],["name","docs[]","accept","image/*","chooseLabel","Ch\u1ecdn \u1ea3nh",1,"w-full",3,"multiple","maxFileSize","showUploadButton","showCancelButton","customUpload"],[1,"group-button"],["label","C\u1eadp Nh\u1eadt Qu\xe0 T\u1eb7ng",1,"save-button"]],template:function(e,n){1&e&&(t.TgZ(0,"form",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"label",7),t._uU(8,"\u0110i\u1ec3m quy \u0111\u1ed5i: "),t.qZA(),t._UZ(9,"p-inputNumber",8),t._UZ(10,"common-validation-message",9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",4),t.TgZ(12,"div",5),t.TgZ(13,"div",6),t.TgZ(14,"label",10),t._uU(15,"T\xean qu\xe0: "),t.qZA(),t._UZ(16,"input",11),t._UZ(17,"common-validation-message",12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",4),t.TgZ(19,"div",5),t.TgZ(20,"div",6),t.TgZ(21,"label",13),t._uU(22,"M\xf4 t\u1ea3: "),t.qZA(),t._UZ(23,"textarea",14),t._UZ(24,"common-validation-message",15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"div",4),t.TgZ(26,"div",5),t.TgZ(27,"div",6),t.TgZ(28,"label",16),t._uU(29,"Thumbnail:"),t.qZA(),t.TgZ(30,"p-fileUpload",17),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(31,"div",4),t.TgZ(32,"div",5),t.TgZ(33,"div",6),t.TgZ(34,"label",16),t._uU(35,"Icon:"),t.qZA(),t.TgZ(36,"p-fileUpload",17),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(37,"div",4),t.TgZ(38,"div",5),t.TgZ(39,"div",6),t.TgZ(40,"label",16),t._uU(41,"Banner:"),t.qZA(),t.TgZ(42,"p-fileUpload",17),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(43,"div",18),t._UZ(44,"p-button",19),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("formGroup",n.addGift3Form),t.xp6(9),t.Q6J("min",0)("max",1e8),t.xp6(1),t.Q6J("mainForm",n.addGift3Form)("controllerTitle",n._translateService.instant("pages.campaign.labels.campaign-point-exchange")),t.xp6(7),t.Q6J("mainForm",n.addGift3Form)("controllerTitle",n._translateService.instant("pages.campaign.labels.campaign-gift-exchange")),t.xp6(6),t.Q6J("autoResize",!0),t.xp6(1),t.Q6J("mainForm",n.addGift3Form)("controllerTitle",n._translateService.instant("pages.campaign.labels.campaign-description")),t.xp6(6),t.Q6J("multiple",!0)("maxFileSize",2e6)("showUploadButton",!1)("showCancelButton",!1),t.xp6(6),t.Q6J("multiple",!0)("maxFileSize",2e6)("showUploadButton",!1)("showCancelButton",!1),t.xp6(6),t.Q6J("multiple",!0)("maxFileSize",2e6)("showUploadButton",!1)("showCancelButton",!1))},directives:[o._Y,o.JL,o.sg,X.Rn,o.JJ,o.u,R.C,o.Fj,z.o,w.g,S.p,E.zx],styles:[".campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]{margin-top:10px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{display:inline-block;text-align:center;white-space:nowrap;min-width:170px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .mr-12[_ngcontent-%COMP%]{margin-right:12px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .ml-12[_ngcontent-%COMP%]{margin-left:12px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .mb-0[_ngcontent-%COMP%]{margin-bottom:0}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .d-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .justify-center[_ngcontent-%COMP%]{justify-content:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{display:flex;align-items:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .d-flex-top[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .w-full[_ngcontent-%COMP%]{width:100%}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .field-checkbox[_ngcontent-%COMP%]{margin:12px 0}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .btn-search[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:28px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .text-left-min-width[_ngcontent-%COMP%]{white-space:nowrap;text-align:left;min-width:120px}span[_ngcontent-%COMP%]{color:#dc3545}.badge[_ngcontent-%COMP%]{height:35px;padding-top:10px;background-color:#d7edff;border:1px solid #51acf6}.img-icon[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.badge-secondary[_ngcontent-%COMP%]{color:#008cff}.row[_ngcontent-%COMP%]{margin-top:15px}.group-button[_ngcontent-%COMP%]{text-align:right}.button-create[_ngcontent-%COMP%]{padding:1rem 0 0}.d-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.field-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.label[_ngcontent-%COMP%]{font-size:13px}.w-full[_ngcontent-%COMP%]{width:100%}.mr-20[_ngcontent-%COMP%]{margin-right:20px}.activation-email[_ngcontent-%COMP%]{padding-top:1.5rem}[_nghost-%COMP%]     .p-inputmask{width:100%;height:40px;border-radius:8px}[_nghost-%COMP%]     .p-dropdown{width:100%}[_nghost-%COMP%]     .p-calendar-w-btn .p-inputtext{border-radius:8px 0 0 8px}[_nghost-%COMP%]     .p-calendar-w-btn .p-datepicker-trigger{border-radius:0 8px 8px 0}[_nghost-%COMP%]     .p-calendar{width:100%;height:38px;border-radius:8px}[_nghost-%COMP%]     .save-button .p-button{display:inline-block;padding-left:60px;padding-right:60px}[_nghost-%COMP%]     .p-button-text{background-color:#008cff;color:#fff;border-color:#0000}[_nghost-%COMP%]     .p-datepicker td>span{display:initial;font-size:15px}[_nghost-%COMP%]     .ui-datepicker .ui-widget{font-size:20px}[_nghost-%COMP%]     .p-datepicker{z-index:1003!important;transform-origin:center top!important;left:-1px!important;top:-90px!important}[_nghost-%COMP%]     .p-inputtextarea{width:100%}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link{border:2px solid #dedede;border-top-right-radius:8px;border-top-left-radius:8px}[_nghost-%COMP%]     .p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog-mask.p-component-overlay[_ngcontent-%COMP%]{pointer-events:auto}"]}),r})();function oe(r,p){if(1&r&&(t.TgZ(0,"div",21),t.TgZ(1,"div",22),t.TgZ(2,"div",23),t._UZ(3,"img",24),t.qZA(),t.TgZ(4,"div"),t._UZ(5,"button",25),t.qZA(),t.qZA(),t.qZA()),2&r){const e=t.oxw();t.xp6(3),t.Q6J("src",e.campaignNormalGifts.giftThumbnail,t.LSH)}}function re(r,p){if(1&r&&(t.TgZ(0,"div",21),t.TgZ(1,"div",22),t.TgZ(2,"div",23),t._UZ(3,"img",24),t.qZA(),t.TgZ(4,"div"),t._UZ(5,"button",25),t.qZA(),t.qZA(),t.qZA()),2&r){const e=t.oxw();t.xp6(3),t.Q6J("src",e.campaignNormalGifts.giftIcon,t.LSH)}}function pe(r,p){if(1&r&&(t.TgZ(0,"div",21),t.TgZ(1,"div",22),t.TgZ(2,"div",23),t._UZ(3,"img",24),t.qZA(),t.TgZ(4,"div"),t._UZ(5,"button",25),t.qZA(),t.qZA(),t.qZA()),2&r){const e=t.oxw();t.xp6(3),t.Q6J("src",e.campaignNormalGifts.giftBanner,t.LSH)}}let ce=(()=>{class r extends A.H{constructor(e,n,i,a,c,g,u,m,h,_,f,C,v,T,b){super(e,n,i,a,c,g,u,h,m),this.customerService=_,this.formBuilder=f,this._ref=C,this.primeConfig=v,this.commonService=T,this.config=b,this.activationEmailStatus=!1}ngOnInit(){this.campaignNormalGifts=this.config.data.campaignNormalGifts,console.log("campaignNormalGifts edit: ",this.campaignNormalGifts),this.editGift3Form=this.formBuilder.group({txtPointExchange:["",{validators:[o.kI.required,o.kI.pattern(B.q.validators.patterns.onlyNumeric)],asyncValidators:[],updateOn:"change"}],txtGiftExchange:["",{validators:[o.kI.required,o.kI.maxLength(100)],asyncValidators:[],updateOn:"change"}],txtDescription:["",{validators:[o.kI.required,o.kI.maxLength(500)],asyncValidators:[],updateOn:"change"}]}),this._translateService.get("primeng").subscribe(e=>this.primeConfig.setTranslation(e)),this.commonService.provinceSelection.subscribe(e=>{this.provinceList=e,this.provinceListS=this.getProvinceSouth(e),this.provinceListC=this.getProvinceCennter(e),this.provinceListN=this.getProvinceNorth(e)})}get email(){return this.campaignEditTabForm.get("email")}getProvinceSouth(e){let n=[];for(let i of e)"S"==i.provinceNameOptional&&n.push(i);return n}getProvinceCennter(e){let n=[];for(let i of e)"C"==i.provinceNameOptional&&n.push(i);return n}getProvinceNorth(e){let n=[];for(let i of e)"N"==i.provinceNameOptional&&n.push(i);return n}getDate(e){let n=new Date(Date.parse(e));this.currentBirthday=`${n.getFullYear()}/${n.getMonth()+1}/${n.getDate()}`}getGroup(e){this.currentGroup=e}getSex(e){this.currentSex=e}getProvince(e){this.currentProvince=e}isDisable(){return this.campaignEditTabForm.valid}onSelectEvent(e){console.log(e),this.currentFile=e}checkAll(){$("group1").addClass("checked")}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(d.gz),t.Y36(P.Dx),t.Y36(d.F0),t.Y36(M.uw),t.Y36(x.v),t.Y36(D.w),t.Y36(O._W),t.Y36(l.xA),t.Y36(q.sK),t.Y36(k.v),t.Y36(o.qu),t.Y36(l.E7),t.Y36(Z.b4),t.Y36(x.v),t.Y36(l.S))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-dialog-edit-gift3"]],features:[t._Bn([l.xA]),t.qOj],decls:48,vars:25,consts:[[1,"from","edit-gift3-dialog",3,"formGroup"],[1,"campaigns-edit-wrapper"],[1,"gift-monthly-edit"],[1,"row","input-field"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["for","txtPointExchange",1,"form-control-label"],["formControlName","txtPointExchange","placeholder","\u0110i\u1ec3m quy \u0111\u1ed5i","mode","decimal",1,"row","mt-0",3,"ngModel","min","max","ngModelChange"],["controllerName","txtPointExchange","controllerType","textbox",3,"mainForm","controllerTitle"],["for","txtGiftExchange",1,"form-control-label"],["pInputText","","id","txtGiftExchange","formControlName","txtGiftExchange","placeholder","T\xean qu\xe0",1,"form-control",3,"ngModel","ngModelChange"],["controllerName","txtGiftExchange","controllerType","textbox","maxLength","100",3,"mainForm","controllerTitle"],["for","txtDescription",1,"form-control-label"],["rows","5","cols","30","pInputTextarea","","formControlName","txtDescription","id","txtDescription",3,"autoResize","ngModel","ngModelChange"],["controllerName","txtDescription","controllerType","textbox","maxLength","500",3,"mainForm","controllerTitle"],["for","customerIdentificationFront",1,"form-control-label"],["name","docs[]","accept","image/*","chooseLabel","Ch\u1ecdn \u1ea3nh",1,"w-full",3,"multiple","maxFileSize","showUploadButton","showCancelButton","customUpload"],["pTemplate","content"],[1,"group-button"],["label","C\u1eadp Nh\u1eadt Qu\xe0 T\u1eb7ng",1,"save-button"],[1,"p-fileupload-files"],[1,"p-fileupload-row"],[1,"-size-img"],["alt","Image",3,"src"],["pButton","","type","button","icon","pi pi-times",1,"p-button-text"]],template:function(e,n){1&e&&(t.TgZ(0,"form",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"label",7),t._uU(8,"\u0110i\u1ec3m quy \u0111\u1ed5i: "),t.qZA(),t.TgZ(9,"p-inputNumber",8),t.NdJ("ngModelChange",function(a){return n.campaignNormalGifts.giftRequiredPoint=a}),t.qZA(),t._UZ(10,"common-validation-message",9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",4),t.TgZ(12,"div",5),t.TgZ(13,"div",6),t.TgZ(14,"label",10),t._uU(15,"T\xean qu\xe0: "),t.qZA(),t.TgZ(16,"input",11),t.NdJ("ngModelChange",function(a){return n.campaignNormalGifts.giftTitle=a}),t.qZA(),t._UZ(17,"common-validation-message",12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",4),t.TgZ(19,"div",5),t.TgZ(20,"div",6),t.TgZ(21,"label",13),t._uU(22,"M\xf4 t\u1ea3: "),t.qZA(),t.TgZ(23,"textarea",14),t.NdJ("ngModelChange",function(a){return n.campaignNormalGifts.giftDescription=a}),t.qZA(),t._UZ(24,"common-validation-message",15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"div",4),t.TgZ(26,"div",5),t.TgZ(27,"div",6),t.TgZ(28,"label",16),t._uU(29,"Thumbnail:"),t.qZA(),t.TgZ(30,"p-fileUpload",17),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)}),t.YNc(31,oe,6,1,"ng-template",18),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",4),t.TgZ(33,"div",5),t.TgZ(34,"div",6),t.TgZ(35,"label",16),t._uU(36,"Icon:"),t.qZA(),t.TgZ(37,"p-fileUpload",17),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)}),t.YNc(38,re,6,1,"ng-template",18),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(39,"div",4),t.TgZ(40,"div",5),t.TgZ(41,"div",6),t.TgZ(42,"label",16),t._uU(43,"Banner:"),t.qZA(),t.TgZ(44,"p-fileUpload",17),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)}),t.YNc(45,pe,6,1,"ng-template",18),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(46,"div",19),t._UZ(47,"p-button",20),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("formGroup",n.editGift3Form),t.xp6(9),t.Q6J("ngModel",n.campaignNormalGifts.giftRequiredPoint)("min",0)("max",1e8),t.xp6(1),t.Q6J("mainForm",n.editGift3Form)("controllerTitle",n._translateService.instant("pages.campaign.labels.campaign-point-exchange")),t.xp6(6),t.Q6J("ngModel",n.campaignNormalGifts.giftTitle),t.xp6(1),t.Q6J("mainForm",n.editGift3Form)("controllerTitle",n._translateService.instant("pages.campaign.labels.campaign-gift-exchange")),t.xp6(6),t.Q6J("autoResize",!0)("ngModel",n.campaignNormalGifts.giftDescription),t.xp6(1),t.Q6J("mainForm",n.editGift3Form)("controllerTitle",n._translateService.instant("pages.campaign.labels.campaign-description")),t.xp6(6),t.Q6J("multiple",!0)("maxFileSize",2e6)("showUploadButton",!1)("showCancelButton",!1),t.xp6(7),t.Q6J("multiple",!0)("maxFileSize",2e6)("showUploadButton",!1)("showCancelButton",!1),t.xp6(7),t.Q6J("multiple",!0)("maxFileSize",2e6)("showUploadButton",!1)("showCancelButton",!1))},directives:[o._Y,o.JL,o.sg,X.Rn,o.JJ,o.u,R.C,o.Fj,z.o,w.g,S.p,Z.jx,E.zx,E.Hq],styles:[".campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]{margin-top:10px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{display:inline-block;text-align:center;white-space:nowrap;min-width:170px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .mr-12[_ngcontent-%COMP%]{margin-right:12px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .ml-12[_ngcontent-%COMP%]{margin-left:12px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .mb-0[_ngcontent-%COMP%]{margin-bottom:0}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .d-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .justify-center[_ngcontent-%COMP%]{justify-content:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{display:flex;align-items:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .d-flex-top[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .w-full[_ngcontent-%COMP%]{width:100%}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .field-checkbox[_ngcontent-%COMP%]{margin:12px 0}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .btn-search[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:28px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .gift-monthly-edit[_ngcontent-%COMP%]   .text-left-min-width[_ngcontent-%COMP%]{white-space:nowrap;text-align:left;min-width:120px}span[_ngcontent-%COMP%]{color:#dc3545}.badge[_ngcontent-%COMP%]{height:35px;padding-top:10px;background-color:#d7edff;border:1px solid #51acf6}.img-icon[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.badge-secondary[_ngcontent-%COMP%]{color:#008cff}.row[_ngcontent-%COMP%]{margin-top:15px}.group-button[_ngcontent-%COMP%]{text-align:right}.button-create[_ngcontent-%COMP%]{padding:1rem 0 0}.d-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.field-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.label[_ngcontent-%COMP%]{font-size:13px}.w-full[_ngcontent-%COMP%]{width:100%}.mr-20[_ngcontent-%COMP%]{margin-right:20px}.activation-email[_ngcontent-%COMP%]{padding-top:1.5rem}[_nghost-%COMP%]     .p-inputmask{width:100%;height:40px;border-radius:8px}[_nghost-%COMP%]     .p-dropdown{width:100%}[_nghost-%COMP%]     .p-calendar-w-btn .p-inputtext{border-radius:8px 0 0 8px}[_nghost-%COMP%]     .p-calendar-w-btn .p-datepicker-trigger{border-radius:0 8px 8px 0}[_nghost-%COMP%]     .p-calendar{width:100%;height:38px;border-radius:8px}[_nghost-%COMP%]     .save-button .p-button{display:inline-block;padding-left:60px;padding-right:60px}[_nghost-%COMP%]     .p-button-text{background-color:#008cff;color:#fff;border-color:#0000}[_nghost-%COMP%]     .p-datepicker td>span{display:initial;font-size:15px}[_nghost-%COMP%]     .ui-datepicker .ui-widget{font-size:20px}[_nghost-%COMP%]     .p-datepicker{z-index:1003!important;transform-origin:center top!important;left:-1px!important;top:-90px!important}[_nghost-%COMP%]     .p-inputtextarea{width:100%}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link{border:2px solid #dedede;border-top-right-radius:8px;border-top-left-radius:8px}[_nghost-%COMP%]     .p-dialog-mask{pointer-events:revert!important}[_nghost-%COMP%]     .pointer-unset{pointer-events:revert!important}.-size-img[_ngcontent-%COMP%]{display:inline-block;width:50px;height:inherit}.-size-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:auto;object-fit:cover}"]}),r})();function le(r,p){if(1&r){const e=t.EpF();t.TgZ(0,"div",67),t.TgZ(1,"div",68),t.TgZ(2,"div",69),t._UZ(3,"img",70),t.qZA(),t.TgZ(4,"div"),t.TgZ(5,"button",71),t.NdJ("click",function(i){return t.CHM(e),t.oxw(2).handleShowThumbnail(i)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=t.oxw(2);t.xp6(3),t.Q6J("src",e.campaignDetail.campaignThumbnail,t.LSH)}}function ge(r,p){if(1&r&&t.YNc(0,le,6,1,"div",66),2&r){const e=t.oxw();t.Q6J("ngIf",!e.currentFileThumbnail)}}function se(r,p){if(1&r){const e=t.EpF();t.TgZ(0,"div",67),t.TgZ(1,"div",68),t.TgZ(2,"div",69),t._UZ(3,"img",70),t.qZA(),t.TgZ(4,"div"),t.TgZ(5,"button",71),t.NdJ("click",function(i){return t.CHM(e),t.oxw(2).handleShowBanner(i)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=t.oxw(2);t.xp6(3),t.Q6J("src",e.campaignDetail.campaignBanner,t.LSH)}}function de(r,p){if(1&r&&t.YNc(0,se,6,1,"div",66),2&r){const e=t.oxw();t.Q6J("ngIf",!e.currentFileBanner)}}function ue(r,p){1&r&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2,"H\xe0nh \u0111\u1ed9ng"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"M\xe3 S\u1ea3n Ph\u1ea9m"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"T\xean S\u1ea3n Ph\u1ea9m"),t.qZA(),t.qZA())}function me(r,p){if(1&r){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",73),t.TgZ(2,"button",74),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).doDeleteCampaignRule(a.campaignId,a.productId,"B\u1ea1n mu\u1ed1n x\xf3a Lu\u1eadt t\xedch \u0111i\u1ec3m n\xe0y?")}),t.qZA(),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.qZA()}if(2&r){const e=p.$implicit;t.xp6(4),t.hij(" ",e.productId," "),t.xp6(2),t.hij(" ",e.productName," ")}}const it=function(){return[5,10,15]};function he(r,p){if(1&r&&(t.TgZ(0,"div",62),t.TgZ(1,"p-table",72),t.YNc(2,ue,7,0,"ng-template",64),t.YNc(3,me,7,2,"ng-template",65),t.qZA(),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("value",e.campaignRules)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(4,it))}}function _e(r,p){1&r&&(t.TgZ(0,"tr"),t.TgZ(1,"th",75),t._uU(2,"H\xe0nh \u0111\u1ed9ng"),t.qZA(),t.TgZ(3,"th",76),t._uU(4,"Icon"),t.qZA(),t.TgZ(5,"th",77),t._uU(6,"T\xean qu\xe0"),t.qZA(),t.TgZ(7,"th",78),t._uU(8,"\u0110i\u1ec3m quy \u0111\u1ed5i"),t.qZA(),t.TgZ(9,"th",79),t._uU(10,"Ng\xe0y b\u1eaft \u0111\u1ea7u \u0111\u1ed5i qu\xe0"),t.qZA(),t.TgZ(11,"th",80),t._uU(12,"Ng\xe0y k\u1ebft th\xfac \u0111\u1ed5i qu\xe0"),t.qZA(),t.qZA())}function fe(r,p){if(1&r){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",81),t.TgZ(2,"button",82),t.NdJ("click",function(){return t.CHM(e),t.oxw().showModalDialogEditGift3()}),t.qZA(),t._uU(3," | "),t._UZ(4,"button",83),t.qZA(),t.TgZ(5,"td",76),t._UZ(6,"img",84),t.qZA(),t._UZ(7,"td",77),t._UZ(8,"td",78),t._UZ(9,"td",79),t._UZ(10,"td",80),t.qZA()}}const Ce=function(){return["/campaign/packing-qr-history-list"]},Te=function(r,p,e){return{rootLabel:r,listLabel:p,campaignId:e}};let Ze=(()=>{class r extends A.H{constructor(e,n,i,a,c,g,u,m,h,_,f,C,v,T,b,F,Q,H){super(e,n,i,a,c,g,u,h,m),this.customerService=_,this.formBuilder=f,this._ref=C,this.primeConfig=v,this.commonService=T,this.config=b,this.campaignService=F,this.qrcodeService=Q,this._confirmationService=H,this.activationEmailStatus=!1,this.productPoint=1}ngOnInit(){document.querySelector(".p-dialog-mask").style.pointerEvents="unset",this.campaignID=this.config.data.campaignID,this.campaignType=this.config.data.campaignType,this.doGetCampaignDetail(this.campaignID,this.campaignType),this.initializePage(),this.getGroupList(),this._translateService.get("primeng").subscribe(n=>this.primeConfig.setTranslation(n)),this.campaignEditTabForm=this.formBuilder.group({txtStartDate:["",{validators:[],asyncValidators:[],updateOn:"change"}],txtEndDate:["",{validators:[],asyncValidators:[],updateOn:"change"}],txtEndDateGift:["",{validators:[],asyncValidators:[],updateOn:"change"}],txtCampaignTitle:["",{validators:[o.kI.maxLength(150),o.kI.required],asyncValidators:[],updateOn:"change"}],txtCampaignDescription:["",{validators:[o.kI.maxLength(2e3),o.kI.required],asyncValidators:[],updateOn:"change"}],txtCampaignGeneralRulesDescription:["",{validators:[o.kI.maxLength(2e3),o.kI.required],asyncValidators:[],updateOn:"change"}],txtCampaignRedemptionMethodDescription:["",{validators:[o.kI.maxLength(2e3),o.kI.required],asyncValidators:[],updateOn:"change"}],txtCampaignGroupId:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtCampaignGiftsLimit:["",{validators:[o.kI.required,o.kI.pattern(B.q.validators.patterns.onlyNumeric)],asyncValidators:[],updateOn:"change"}],txtCampaignGiftCurrentTotal:["",{validators:[o.kI.required,o.kI.pattern(B.q.validators.patterns.onlyNumeric)],asyncValidators:[],updateOn:"change"}]}),this.campaignEditTabForm2=this.formBuilder.group({txtStartDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDateGift:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtCampaignTitle:["",{validators:[o.kI.maxLength(500),o.kI.required],asyncValidators:[],updateOn:"change"}],txtMaxGift:["",{validators:[o.kI.maxLength(50),o.kI.required],asyncValidators:[],updateOn:"change"}]}),this.accumulatePointsRuleForm=this.formBuilder.group({txtChooseProduct:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtStartDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDate:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}],txtEndDateGift:["",{validators:[o.kI.required],asyncValidators:[],updateOn:"change"}]}),this.commonService.provinceSelection.subscribe(n=>{this.provinceList=n,this.provinceListS=this.getProvinceSouth(n),this.provinceListC=this.getProvinceCennter(n),this.provinceListN=this.getProvinceNorth(n)})}doGetCampaignDetail(e,n){var i;null===(i=this.campaignService.getCampaignDetail(e,n))||void 0===i||i.subscribe(a=>{200===a.responseStatus?(this.presentToast("success",this._translateService.instant(a.content.message)),this.campaignDetail=a.content.datas.campaignDetail,this.campaignRules=a.content.datas.campaignRules,this.campaignNormalGifts=a.content.datas.campaignNormalGifts,this.campaignProvinces=a.content.datas.campaignProvinces,this.campaignStartDate=new Date(this.campaignDetail.campaignStartDate.toString()),this.campaignEndDate=new Date(this.campaignDetail.campaignEndDate.toString()),this.campaignRedemptionEndDate=new Date(this.campaignDetail.campaignRedemptionEndDate.toString()),this.campaignImgThumbnail=this.campaignDetail.campaignThumbnail,this.campaignImgBanner=this.campaignDetail.campaignBanner):417===a.responseStatus?this.presentToast("warning",this._translateService.instant(a.content.message)):(console.log(a),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error")))})}get email(){return this.campaignEditTabForm.get("email")}initializePage(){this.getPackingList()}getPackingList(){var e=this;return(0,U.Z)(function*(){(0,L.D)({productList:e.qrcodeService.getProductList()}).pipe((0,G.g)(e.loadingTime)).subscribe(n=>{200===n.productList.responseStatus?(e.productList=n.productList.content.datas.producstList,e.presentToast("success",e._translateService.instant(n.productList.content.message))):e.presentToast(417===n.productList.responseStatus?"warning":"error",e._translateService.instant(n.productList.content.message))},n=>{console.log(n),e.presentToast("error",e._translateService.instant("common.errors-message.common-server-error"))})})()}getProvinceSouth(e){let n=[];for(let i of e)"S"==i.provinceNameOptional&&n.push(i);return n}getProvinceCennter(e){let n=[];for(let i of e)"C"==i.provinceNameOptional&&n.push(i);return n}getProvinceNorth(e){let n=[];for(let i of e)"N"==i.provinceNameOptional&&n.push(i);return n}formatDate(e){function n(i){return i<10?"0"+i:i}return[e.getFullYear(),n(e.getMonth()+1),n(e.getDate())].join("-")}getGroup(e){this.currentGroup=e}getProvince(e){this.currentProvince=e}isDisable(){return this.campaignEditTabForm.valid}onSelectEvent(e){console.log(e),this.currentFile=e}checkAll(){$("group1").addClass("checked")}showModalDialogEditGift3(){this._dialog.open(ce,{header:"Ch\u1ec9nh S\u1eeda Qu\xe0 T\u1eb7ng \u0110\u1eb7c Bi\u1ec7t",width:"40%",data:{campaignNormalGifts:this.campaignNormalGifts[0]}})}showModalDialogAddGift3(){this._dialog.open(ie,{header:"Th\xeam Qu\xe0 T\u1eb7ng",width:"40%"})}doActiveCampaign(e,n,i){this._confirmationService.confirm({message:i,accept:()=>{var a;this._common.attachSpinner(),null===(a=this.campaignService.doActiveCampaign(e,n))||void 0===a||a.subscribe(c=>{200===c.responseStatus?(this._common.detachSpinner(),this.presentToast("success",this._translateService.instant(c.content.message))):417===c.responseStatus?(this.presentToast("warning",this._translateService.instant(c.content.message)),this._common.detachSpinner()):(this.presentToast("error",this._translateService.instant(c.content.message)),this._common.detachSpinner())},c=>{console.log(c),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error")),this._common.detachSpinner()})}})}doDeactiveCampaign(e,n,i){this._confirmationService.confirm({message:i,accept:()=>{var a;this._common.attachSpinner(),null===(a=this.campaignService.doDeactiveCampaign(e,n))||void 0===a||a.subscribe(c=>{200===c.responseStatus?(this._common.detachSpinner(),this.presentToast("success",this._translateService.instant(c.content.message))):417===c.responseStatus?(this.presentToast("warning",this._translateService.instant(c.content.message)),this._common.detachSpinner()):(this.presentToast("error",this._translateService.instant(c.content.message)),this._common.detachSpinner())},c=>{console.log(c),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error")),this._common.detachSpinner()})}})}doUpdateCampaignInfo(){var e;let n=new FormData;this.currentStartDate=`${this.campaignStartDate.getFullYear()}-${this.campaignStartDate.getMonth()+1}-${this.campaignStartDate.getDate()}`,this.currentEndDate=`${this.campaignEndDate.getFullYear()}-${this.campaignEndDate.getMonth()+1}-${this.campaignEndDate.getDate()}`,this.currentRedemptionEndDate=`${this.campaignRedemptionEndDate.getFullYear()}-${this.campaignRedemptionEndDate.getMonth()+1}-${this.campaignRedemptionEndDate.getDate()}`,n.append("campaignThumbnail",this.currentFileThumbnail||this.campaignImgThumbnail),n.append("campaignBanner",this.currentFileBanner||this.campaignImgBanner),n.append("campaignType",this.campaignDetail.campaignType.toString()),n.append("campaignGroupId",this.campaignEditTabForm.value.txtCampaignGroupId),n.append("campaignTitle",this.campaignEditTabForm.value.txtCampaignTitle),n.append("campaignGiftsLimit",this.campaignEditTabForm.value.txtCampaignGiftsLimit),n.append("campaignDescription",this.campaignEditTabForm.value.txtCampaignDescription),n.append("campaignRedemptionMethodDescription",this.campaignEditTabForm.value.txtCampaignRedemptionMethodDescription),n.append("campaignGeneralRulesDescription",this.campaignEditTabForm.value.txtCampaignGeneralRulesDescription),n.append("campaignStartDate",this.currentStartDate||this.campaignStartDate.toString()),n.append("campaignEndDate",this.currentEndDate||this.campaignEndDate.toString()),n.append("campaignRedemptionEndDate",this.currentRedemptionEndDate||this.campaignRedemptionEndDate.toString()),null===(e=this.campaignService.doUpdateCampaign(n,this.campaignDetail.campaignId))||void 0===e||e.subscribe(i=>{if(i.type!==N.dt.UploadProgress&&i instanceof N.Zn){let a=i.body;console.log(a),200===a.responseStatus?(this.presentToast("success",this._translateService.instant(a.content.message)),this._ref.close()):417===a.responseStatus?this.presentToast("warning",this._translateService.instant(a.content.message)):(console.log(a),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error")))}},i=>{console.log(i),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error"))})}onSelectThumbnail(e){this.currentFileThumbnail=e.files[0]}onSelectBanner(e){this.currentFileBanner=e.files[0]}onRemoveBanner(e){this.currentFileBanner=this.fileUndefined}handleShowThumbnail(e){this.currentFileThumbnail=this.campaignImgThumbnail}handleShowBanner(e){this.currentFileBanner=this.campaignImgBanner}getGroupList(){this._common.groupSelection.subscribe(e=>{const n=[{createdDate:new Date,createdUser:900000000010,groupDescription:"",groupId:0,groupName:"\u0110\u1ea1i L\xfd | Th\u1ea7u Th\u1ee3",groupNameOptional:"",status:9,updatedDate:new Date,updatedUser:0},...e];this.groupList=n})}doAddRuleCampaign(e){var n;const i={productId:this.productId,productPoint:this.productPoint};console.log("ruledata",i),null===(n=this.campaignService.addRuleCampaign(i,e))||void 0===n||n.subscribe(a=>{this._common.attachSpinner(),console.log(a),200===a.responseStatus?(this._common.detachSpinner(),this.presentToast("success",this._translateService.instant(a.content.message)),this.doGetCampaignDetail(this.campaignID,this.campaignType)):417===a.responseStatus?(this.presentToast("warning",this._translateService.instant(a.content.message)),this._common.detachSpinner()):(this.presentToast("error",this._translateService.instant(a.content.message)),this._common.detachSpinner())},a=>{this.presentToast("error",this._translateService.instant(a)),this._common.detachSpinner()})}doDeleteCampaignRule(e,n,i){this._confirmationService.confirm({message:i,accept:()=>{var a;this._common.attachSpinner(),null===(a=this.campaignService.deleteRuleCampaign(e,n))||void 0===a||a.subscribe(c=>{200===c.responseStatus?(this._common.detachSpinner(),this.presentToast("success",this._translateService.instant(c.content.message)),this.doGetCampaignDetail(this.campaignID,this.campaignType)):417==c.responseStatus?(this.presentToast("warning",this._translateService.instant(c.content.message)),this._common.detachSpinner()):(this.presentToast("error",this._translateService.instant(c.content.message)),this._common.detachSpinner())},c=>{console.error(c),this.presentToast("error",this._translateService.instant(c)),this._common.detachSpinner()})}})}getStartDate(e){let n=new Date(Date.parse(e));this.currentStartDate=`${n.getFullYear()}-${n.getMonth()+1}-${n.getDate()}`}getEndDate(e){let n=new Date(Date.parse(e));this.currentEndDate=`${n.getFullYear()}-${n.getMonth()+1}-${n.getDate()}`}getRedemptionEndDate(e){let n=new Date(Date.parse(e));this.currentRedemptionEndDate=`${n.getFullYear()}-${n.getMonth()+1}-${n.getDate()}`}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(d.gz),t.Y36(P.Dx),t.Y36(d.F0),t.Y36(M.uw),t.Y36(x.v),t.Y36(D.w),t.Y36(O._W),t.Y36(l.xA),t.Y36(q.sK),t.Y36(k.v),t.Y36(o.qu),t.Y36(l.E7),t.Y36(Z.b4),t.Y36(x.v),t.Y36(l.S),t.Y36(I.U),t.Y36(Y.D),t.Y36(Z.YP))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-dialog-edit-campaign3"]],features:[t._Bn([l.xA]),t.qOj],decls:118,vars:58,consts:[[1,"campaigns-edit-wrapper"],[1,"group-buttons"],[1,"group-button"],["label","L\u1ecbch S\u1eed QRs",1,"finish-button","mr-20",3,"routerLink","state"],["label","K\u1ebft Th\xfac Chi\u1ebfn D\u1ecbch",1,"finish-button","mr-20",3,"click"],["label","K\xedch Ho\u1ea1t Chi\u1ebfn D\u1ecbch",1,"release-button",3,"click"],[1,"campaigns-edit__tabs"],["header","Th\xf4ng Tin Chi\u1ebfn D\u1ecbch"],[3,"formGroup"],["label","L\u01b0u",1,"save-button",3,"disabled","click"],[1,"row"],[1,"col-md-6"],[1,"form-group","d-flex"],["for","txtCampaignType",1,"form-control-label","text-center","mb-0"],["for","phoneNumber",1,"form-control-label","text-center","mb-0"],["optionLabel","groupName","optionValue","groupId","placeholder","\u0110\u1ea1i L\xfd | Th\u1ea7u Th\u1ee3","formControlName","txtCampaignGroupId",1,"common-dropdown","p-inputtext-sm","w-full",3,"options","ngModel","ngModelChange"],[1,"col-md-4"],["for","startDate",1,"form-control-label","text-center","mb-0"],["formControlName","txtStartDate","inputId","txtStartDate","dateFormat","dd/mm/yy",3,"showIcon","ngModel","onSelect","ngModelChange"],["for","endDate",1,"form-control-label","text-center","mb-0"],["formControlName","txtEndDate","inputId","txtEndDate","dateFormat","dd/mm/yy",3,"showIcon","ngModel","onSelect","ngModelChange"],["for","endDateGift",1,"form-control-label","text-center","mb-0"],["formControlName","txtEndDateGift","inputId","txtEndDateGift","dateFormat","dd/mm/yy",3,"showIcon","ngModel","onSelect","ngModelChange"],[1,"col-md-12"],["for","txtCampaignTitle",1,"form-control-label","text-center","mb-0"],["pInputText","","id","txtCampaignTitle","formControlName","txtCampaignTitle","placeholder","Ti\xeau \u0110\u1ec1 Chi\u1ebfn D\u1ecbch",1,"form-control",3,"ngModel","ngModelChange"],["controllerName","txtCampaignTitle","controllerType","textbox","controllerTitle","Ti\xeau \u0110\u1ec1 Chi\u1ebfn D\u1ecbch","maxLength","150",1,"ml-170","mb-3",3,"mainForm"],[1,"form-group","d-flex-top"],[1,"text-center","label"],["rows","5","cols","30","pInputTextarea","","id","txtCampaignDescription","formControlName","txtCampaignDescription",3,"autoResize","ngModel","ngModelChange"],["controllerName","txtCampaignDescription","controllerType","textbox","controllerTitle","M\xf4 T\u1ea3 Chi\u1ebfn D\u1ecbch","maxLength","2000",1,"ml-170","mb-3",3,"mainForm"],["rows","10","cols","30","pInputTextarea","","formControlName","txtCampaignGeneralRulesDescription","id","campaignCommonRule",3,"autoResize","ngModel","ngModelChange"],["controllerName","txtCampaignGeneralRulesDescription","controllerType","textbox","maxLength","2000","controllerTitle","Quy \u0110\u1ecbnh Chung",1,"ml-170","mb-3",3,"mainForm"],["rows","10","cols","30","pInputTextarea","","id","campaignGiftRule","formControlName","txtCampaignRedemptionMethodDescription",3,"autoResize","ngModel","ngModelChange"],["controllerName","txtCampaignRedemptionMethodDescription","controllerType","textbox","maxLength","2000","controllerTitle","Quy \u0110\u1ecbnh Tr\u1ea3 Th\u01b0\u1edfng",1,"ml-170","mb-3",3,"mainForm"],["for","txtCampaignGiftsLimit",1,"form-control-label","text-center","mb-0"],["formControlName","txtCampaignGiftsLimit","placeholder","S\u1ed1 L\u01b0\u1ee3ng Qu\xe0 T\u1ed1i \u0110a","mode","decimal",1,"w-full",3,"ngModel","min","max","ngModelChange"],["controllerName","txtCampaignGiftsLimit","controllerType","textbox","controllerTitle","S\u1ed1 L\u01b0\u1ee3ng Qu\xe0 T\u1ed1i \u0110a",1,"ml-170","mb-3",3,"mainForm"],["for","txtCampaignGiftCurrentTotal",1,"form-control-label","text-center","mb-0"],["formControlName","txtCampaignGiftCurrentTotal","placeholder","S\u1ed1 L\u01b0\u1ee3ng Qu\xe0 \u0110\xe3 \u0110\u1ed5i","mode","decimal",3,"ngModel","min","max","disabled","ngModelChange"],["controllerName","txtCampaignGiftCurrentTotal","controllerType","textbox","controllerTitle","S\u1ed1 L\u01b0\u1ee3ng Qu\xe0 \u0110\xe3 \u0110\u1ed5i",1,"ml-170","mb-3",3,"mainForm"],[1,"form-control-label","text-center","mb-0"],["name","docs[]","accept","image/*","chooseLabel","Ch\u1ecdn \u1ea3nh","invalidFileSizeMessageSummary","{0}: K\xedch th\u01b0\u1edbc t\u1ec7p kh\xf4ng h\u1ee3p l\u1ec7","invalidFileSizeMessageDetail","K\xedch th\u01b0\u1edbc t\u1ec7p t\u1ea3i l\xean t\u1ed1i \u0111a l\xe0 {0}.",1,"w-full",3,"multiple","maxFileSize","showUploadButton","showCancelButton","customUpload","onSelect"],["pTemplate","content"],["name","docs[]","accept","image/*","invalidFileSizeMessageSummary","{0}: K\xedch th\u01b0\u1edbc t\u1ec7p kh\xf4ng h\u1ee3p l\u1ec7","invalidFileSizeMessageDetail","K\xedch th\u01b0\u1edbc t\u1ec7p t\u1ea3i l\xean t\u1ed1i \u0111a l\xe0 {0}.","chooseLabel","Ch\u1ecdn \u1ea3nh",1,"w-full",3,"multiple","maxFileSize","showUploadButton","showCancelButton","customUpload","onSelect","onRemove"],["header","V\xf9ng Mi\u1ec1n"],[3,"currentProvinces"],["header","Lu\u1eadt T\xedch \u0110i\u1ec3m"],["label","L\u01b0u",1,"save-button"],["action","",1,"form",3,"formGroup"],[1,"row","input-field"],[1,"form-group","d-flex-center"],["for","chooseProduct",1,"form-control-label","text-left-min-width","mr-12","mb-0"],["optionLabel","productName","optionValue","productId","id","chooseProduct","formControlName","txtChooseProduct",1,"common-dropdown","p-inputtext-sm","w-full",3,"options","placeholder","ngModel","ngModelChange"],["controllerName","txtChooseProduct","controllerType","selectbox","controllerTitle","Ch\u1ecdn S\u1ea3n Ph\u1ea9m",3,"mainForm"],[1,"flex","btn-search"],["pButton","","type","button","label","Th\xeam Lu\u1eadt",3,"click"],["class","app-table",4,"ngIf"],["header","Qu\xe0 T\u1eb7ng"],[1,"group-buttons","mt-2","mb-3"],["label","L\u01b0u",1,"save-button-gift"],["label","Th\xeam qu\xe0 t\u1eb7ng","type","button",1,"finish-button","mr-20",3,"click"],[1,"app-table"],["styleClass","p-datatable-sm p-datatable-gridlines","responsiveLayout","scroll","responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","scrollHeight","400px",3,"rows","showCurrentPageReport","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],["class","p-fileupload-files",4,"ngIf"],[1,"p-fileupload-files"],[1,"p-fileupload-row"],[1,"-size-img"],["alt","Image",3,"src"],["pButton","","type","button","icon","pi pi-times",1,"p-button-text",3,"click"],["styleClass","p-datatable-sm p-datatable-gridlines","responsiveLayout","scroll","responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","scrollHeight","400px",3,"value","rows","showCurrentPageReport","rowsPerPageOptions"],[1,"justify-center"],["pButton","","pRipples","","type","button","label","Xo\xe1",1,"p-button-danger","p-button-text","mr-2",3,"click"],[1,"column-1"],[1,"column-2"],[1,"column-3"],[1,"column-4"],[1,"column-5"],[1,"column-6"],[1,"justify-center","column-1"],["pButton","","pRipple","","type","button","label","C\u1eadp Nh\u1eadt",1,"p-button-success","p-button-text","mr-2",3,"click"],["pButton","","pRipple","","type","button","label","Xo\xe1",1,"p-button-danger","p-button-text","mr-2"],["alt","icon",1,"img-update"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._UZ(3,"p-button",3),t.TgZ(4,"p-button",4),t.NdJ("click",function(){return n.doDeactiveCampaign(n.campaignDetail.campaignId,-1,"K\u1ebft Th\xfac Chi\u1ebfn D\u1ecbch")}),t.qZA(),t.TgZ(5,"p-button",5),t.NdJ("click",function(){return n.doActiveCampaign(n.campaignDetail.campaignId,1,"K\xedch Ho\u1ea1t Chi\u1ebfn D\u1ecbch")}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",6),t.TgZ(7,"p-tabView"),t.TgZ(8,"p-tabPanel",7),t.TgZ(9,"form",8),t.TgZ(10,"div",2),t.TgZ(11,"p-button",9),t.NdJ("click",function(){return n.doUpdateCampaignInfo()}),t.qZA(),t.qZA(),t.TgZ(12,"div",10),t.TgZ(13,"div",11),t.TgZ(14,"div",12),t.TgZ(15,"label",13),t._uU(16,"Lo\u1ea1i Chi\u1ebfn D\u1ecbch:"),t.qZA(),t.TgZ(17,"h4"),t._uU(18),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",11),t.TgZ(20,"div",12),t.TgZ(21,"label",14),t._uU(22,"\u0110\u1ed1i T\u01b0\u1ee3ng \xc1p D\u1ee5ng:"),t.qZA(),t.TgZ(23,"p-dropdown",15),t.NdJ("ngModelChange",function(a){return n.campaignDetail.campaignGroupId=a}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",16),t.TgZ(25,"div",12),t.TgZ(26,"label",17),t._uU(27,"Ng\xe0y B\u1eaft \u0110\u1ea7u:"),t.qZA(),t.TgZ(28,"p-calendar",18),t.NdJ("onSelect",function(a){return n.getStartDate(a)})("ngModelChange",function(a){return n.campaignStartDate=a}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"div",16),t.TgZ(30,"div",12),t.TgZ(31,"label",19),t._uU(32,"Ng\xe0y K\u1ebft Th\xfac:"),t.qZA(),t.TgZ(33,"p-calendar",20),t.NdJ("onSelect",function(a){return n.getEndDate(a)})("ngModelChange",function(a){return n.campaignEndDate=a}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"div",16),t.TgZ(35,"div",12),t.TgZ(36,"label",21),t._uU(37,"Ng\xe0y K\u1ebft Th\xfac \u0110\u1ed5i Th\u01b0\u1edfng:"),t.qZA(),t.TgZ(38,"p-calendar",22),t.NdJ("onSelect",function(a){return n.getRedemptionEndDate(a)})("ngModelChange",function(a){return n.campaignRedemptionEndDate=a}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(39,"div",23),t.TgZ(40,"div",12),t.TgZ(41,"label",24),t._uU(42,"Ti\xeau \u0110\u1ec1 Chi\u1ebfn D\u1ecbch:"),t.qZA(),t.TgZ(43,"input",25),t.NdJ("ngModelChange",function(a){return n.campaignDetail.campaignTitle=a}),t.qZA(),t.qZA(),t.qZA(),t._UZ(44,"common-validation-message",26),t.TgZ(45,"div",23),t.TgZ(46,"div",27),t.TgZ(47,"h5",28),t._uU(48,"M\xf4 T\u1ea3 Chi\u1ebfn D\u1ecbch:"),t.qZA(),t.TgZ(49,"textarea",29),t.NdJ("ngModelChange",function(a){return n.campaignDetail.campaignDescription=a}),t.qZA(),t.qZA(),t.qZA(),t._UZ(50,"common-validation-message",30),t.TgZ(51,"div",23),t.TgZ(52,"div",27),t.TgZ(53,"h5",28),t._uU(54,"Quy \u0110\u1ecbnh Chung:"),t.qZA(),t.TgZ(55,"textarea",31),t.NdJ("ngModelChange",function(a){return n.campaignDetail.campaignGeneralRulesDescription=a}),t.qZA(),t.qZA(),t.qZA(),t._UZ(56,"common-validation-message",32),t.TgZ(57,"div",23),t.TgZ(58,"div",27),t.TgZ(59,"h5",28),t._uU(60,"Quy \u0110\u1ecbnh Tr\u1ea3 Th\u01b0\u1edfng:"),t.qZA(),t.TgZ(61,"textarea",33),t.NdJ("ngModelChange",function(a){return n.campaignDetail.campaignRedemptionMethodDescription=a}),t.qZA(),t.qZA(),t.qZA(),t._UZ(62,"common-validation-message",34),t.TgZ(63,"div",23),t.TgZ(64,"div",12),t.TgZ(65,"label",35),t._uU(66,"S\u1ed1 L\u01b0\u1ee3ng Qu\xe0 T\u1ed1i \u0110a:"),t.qZA(),t.TgZ(67,"p-inputNumber",36),t.NdJ("ngModelChange",function(a){return n.campaignDetail.campaignGiftsLimit=a}),t.qZA(),t.qZA(),t.qZA(),t._UZ(68,"common-validation-message",37),t.TgZ(69,"div",23),t.TgZ(70,"div",12),t.TgZ(71,"label",38),t._uU(72,"S\u1ed1 L\u01b0\u1ee3ng Qu\xe0 \u0110\xe3 \u0110\u1ed5i:"),t.qZA(),t.TgZ(73,"p-inputNumber",39),t.NdJ("ngModelChange",function(a){return n.campaignDetail.campaignGiftCurrentTotal=a}),t.qZA(),t.qZA(),t.qZA(),t._UZ(74,"common-validation-message",40),t.TgZ(75,"div",23),t.TgZ(76,"div",12),t.TgZ(77,"label",41),t._uU(78,"Thumbnail:"),t.qZA(),t.TgZ(79,"p-fileUpload",42),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)})("onSelect",function(a){return n.onSelectThumbnail(a)}),t.YNc(80,ge,1,1,"ng-template",43),t.qZA(),t.qZA(),t.qZA(),t.TgZ(81,"div",23),t.TgZ(82,"div",12),t.TgZ(83,"label",41),t._uU(84,"Banner:"),t.qZA(),t.TgZ(85,"p-fileUpload",44),t.NdJ("customUpload",function(a){return n.onSelectEvent(a)})("onSelect",function(a){return n.onSelectBanner(a)})("onRemove",function(a){return n.onRemoveBanner(a)}),t.YNc(86,de,1,1,"ng-template",43),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(87,"p-tabPanel",45),t._UZ(88,"app-province-tab",46),t.qZA(),t.TgZ(89,"p-tabPanel",47),t.TgZ(90,"div",2),t._UZ(91,"p-button",48),t.qZA(),t.TgZ(92,"h4"),t._uU(93,"Lu\u1eadt T\xedch \u0110i\u1ec3m:"),t.qZA(),t.TgZ(94,"form",49),t.TgZ(95,"div",50),t.TgZ(96,"div",11),t.TgZ(97,"div",51),t.TgZ(98,"label",52),t._uU(99),t.qZA(),t.TgZ(100,"p-dropdown",53),t.NdJ("ngModelChange",function(a){return n.productId=a}),t.qZA(),t._UZ(101,"common-validation-message",54),t.qZA(),t.TgZ(102,"div",55),t.TgZ(103,"button",56),t.NdJ("click",function(){return n.doAddRuleCampaign(n.campaignDetail.campaignId)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(104,"h4"),t._uU(105,"Danh S\xe1ch Lu\u1eadt"),t.qZA(),t.YNc(106,he,4,5,"div",57),t.qZA(),t.TgZ(107,"p-tabPanel",58),t.TgZ(108,"div",59),t.TgZ(109,"div",2),t._UZ(110,"p-button",60),t.TgZ(111,"p-button",61),t.NdJ("click",function(){return n.showModalDialogAddGift3()}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(112,"h4"),t._uU(113,"Danh S\xe1ch Qu\xe0 T\u1eb7ng"),t.qZA(),t.TgZ(114,"div",62),t.TgZ(115,"p-table",63),t.YNc(116,_e,13,0,"ng-template",64),t.YNc(117,fe,11,0,"ng-template",65),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.Q6J("routerLink",t.DdM(52,Ce))("state",t.kEZ(53,Te,n.campaignDetail.campaignTitle,n.campaignDetail.campaignTitle,n.campaignDetail.campaignId)),t.xp6(6),t.Q6J("formGroup",n.campaignEditTabForm),t.xp6(2),t.Q6J("disabled",!n.isDisable()),t.xp6(7),t.hij("Chi\u1ebfn D\u1ecbch ",n.campaignDetail.campaignType,""),t.xp6(5),t.Q6J("options",n.groupList)("ngModel",n.campaignDetail.campaignGroupId),t.xp6(5),t.Q6J("showIcon",!0)("ngModel",n.campaignStartDate),t.xp6(5),t.Q6J("showIcon",!0)("ngModel",n.campaignEndDate),t.xp6(5),t.Q6J("showIcon",!0)("ngModel",n.campaignRedemptionEndDate),t.xp6(5),t.Q6J("ngModel",n.campaignDetail.campaignTitle),t.xp6(1),t.Q6J("mainForm",n.campaignEditTabForm),t.xp6(5),t.Q6J("autoResize",!0)("ngModel",n.campaignDetail.campaignDescription),t.xp6(1),t.Q6J("mainForm",n.campaignEditTabForm),t.xp6(5),t.Q6J("autoResize",!0)("ngModel",n.campaignDetail.campaignGeneralRulesDescription),t.xp6(1),t.Q6J("mainForm",n.campaignEditTabForm),t.xp6(5),t.Q6J("autoResize",!0)("ngModel",n.campaignDetail.campaignRedemptionMethodDescription),t.xp6(1),t.Q6J("mainForm",n.campaignEditTabForm),t.xp6(5),t.Q6J("ngModel",n.campaignDetail.campaignGiftsLimit)("min",0)("max",1e8),t.xp6(1),t.Q6J("mainForm",n.campaignEditTabForm),t.xp6(5),t.Q6J("ngModel",n.campaignDetail.campaignGiftCurrentTotal)("min",0)("max",1e8)("disabled",!0),t.xp6(1),t.Q6J("mainForm",n.campaignEditTabForm),t.xp6(5),t.Q6J("multiple",!1)("maxFileSize",5e6)("showUploadButton",!1)("showCancelButton",!1),t.xp6(6),t.Q6J("multiple",!1)("maxFileSize",5e6)("showUploadButton",!1)("showCancelButton",!1),t.xp6(3),t.Q6J("currentProvinces",n.campaignProvinces),t.xp6(6),t.Q6J("formGroup",n.accumulatePointsRuleForm),t.xp6(5),t.Oqu(n._translateService.instant("pages.qrcode.placeholders.choose-product")),t.xp6(1),t.Q6J("options",n.productList)("placeholder",n._translateService.instant("pages.qrcode.placeholders.choose-product"))("ngModel",n.productId),t.xp6(1),t.Q6J("mainForm",n.accumulatePointsRuleForm),t.xp6(5),t.Q6J("ngIf",n.campaignRules),t.xp6(9),t.Q6J("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(57,it)))},directives:[E.zx,d.rH,V.xf,V.x4,o._Y,o.JL,o.sg,J.Lt,o.JJ,o.u,K.f,o.Fj,z.o,R.C,w.g,X.Rn,S.p,Z.jx,tt,E.Hq,y.O5,j.iA],styles:[".campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]{margin-top:5px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{display:inline-block;text-align:center;white-space:nowrap;min-width:170px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .ml-170[_ngcontent-%COMP%]{margin-left:170px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .mr-12[_ngcontent-%COMP%]{margin-right:12px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .ml-12[_ngcontent-%COMP%]{margin-left:12px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .mb-0[_ngcontent-%COMP%]{margin-bottom:0}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .d-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .justify-center[_ngcontent-%COMP%]{justify-content:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{display:flex;align-items:center}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .d-flex-top[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .w-full[_ngcontent-%COMP%]{width:100%}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .field-checkbox[_ngcontent-%COMP%]{margin:12px 0}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .btn-search[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:28px}.campaigns-edit-wrapper[_ngcontent-%COMP%]   .campaigns-edit__tabs[_ngcontent-%COMP%]   .text-left-min-width[_ngcontent-%COMP%]{white-space:nowrap;text-align:left;min-width:120px}.app-table[_ngcontent-%COMP%]{width:100%;height:auto;box-shadow:#959da533 0 8px 24px!important;background-color:#fff!important;margin-top:2rem;padding:5px}.app-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .app-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{justify-content:center}.app-table[_ngcontent-%COMP%]   .column-1[_ngcontent-%COMP%]{min-width:190px}.app-table[_ngcontent-%COMP%]   .column-2[_ngcontent-%COMP%]{min-width:150px}.app-table[_ngcontent-%COMP%]   .column-3[_ngcontent-%COMP%]{min-width:220px}.app-table[_ngcontent-%COMP%]   .column-4[_ngcontent-%COMP%]{min-width:90px}.app-table[_ngcontent-%COMP%]   .column-5[_ngcontent-%COMP%]{min-width:170px}.app-table[_ngcontent-%COMP%]   .column-6[_ngcontent-%COMP%]{min-width:170px}span[_ngcontent-%COMP%]{color:#dc3545}.img-update[_ngcontent-%COMP%]{max-width:150px;height:auto}.badge[_ngcontent-%COMP%]{height:35px;padding-top:10px;background-color:#d7edff;border:1px solid #51acf6}.img-icon[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.badge-secondary[_ngcontent-%COMP%]{color:#008cff}.row[_ngcontent-%COMP%]{margin-top:15px}.group-button[_ngcontent-%COMP%]{text-align:right}.button-create[_ngcontent-%COMP%]{padding:1rem 0 0}.d-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.field-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.label[_ngcontent-%COMP%]{font-size:13px}.w-full[_ngcontent-%COMP%]{width:100%}.mr-20[_ngcontent-%COMP%]{margin-right:20px}.activation-email[_ngcontent-%COMP%]{padding-top:1.5rem}[_nghost-%COMP%]     .p-inputmask{width:100%;height:40px;border-radius:8px}[_nghost-%COMP%]     .p-dropdown{width:100%;border-radius:3px}[_nghost-%COMP%]     .p-calendar-w-btn .p-inputtext{border-radius:3px 0 0 3px}[_nghost-%COMP%]     .p-calendar-w-btn .p-datepicker-trigger{border-radius:0 3px 3px 0}[_nghost-%COMP%]     .p-calendar{width:100%;height:38px;border-radius:8px}[_nghost-%COMP%]     .save-button .p-button{display:inline-block;padding-left:60px;padding-right:60px}[_nghost-%COMP%]     .save-button-gift .p-button{display:inline-block;padding-left:60px;padding-right:60px;float:left}[_nghost-%COMP%]     .p-button-text{background-color:#008cff;color:#fff;border-color:#0000}[_nghost-%COMP%]     .p-datepicker td>span{display:initial;font-size:15px}[_nghost-%COMP%]     .ui-datepicker .ui-widget{font-size:20px}[_nghost-%COMP%]     .p-datepicker{z-index:1003!important;transform-origin:center top!important;left:-1px!important;top:-90px!important}[_nghost-%COMP%]     .p-inputtextarea{width:100%}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link{border:2px solid #dedede;border-top-right-radius:8px;border-top-left-radius:8px}[_nghost-%COMP%]     .p-dialog-mask{pointer-events:revert!important}[_nghost-%COMP%]     .pointer-unset{pointer-events:revert!important}[_nghost-%COMP%]     .p-tabview .p-tabview-panels{border:1px solid #ccc}.-size-img[_ngcontent-%COMP%]{display:inline-block;width:50px;height:inherit}.-size-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:auto;object-fit:cover}.form-label[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{margin-bottom:0}"]}),r})();var ot=s(2111);let ve=(()=>{class r extends A.H{constructor(e,n,i,a,c,g,u,m,h,_,f,C,v,T,b,F){super(n,i,a,c,g,u,m,h,_),this.fb=e,this.qrcodeService=f,this.campaignService=C,this._confirmationService=v,this.primeConfig=T,this.formBuilder=b,this._ref=F,this.activeCheck=!1,this.unactiveCheck=!1,this.checked=!0,this.isCampaignList=!0,this.searchEvent=new t.vpe,this.currentPage={first:0,rows:10,page:0,pageCount:10}}ngOnInit(){this._translateService.get("primeng").subscribe(e=>this.primeConfig.setTranslation(e)),this.campaignSearchForm=this.formBuilder.group({txtCampaignType:["",{validators:[],asyncValidators:[],updateOn:"change"}],txtCampaignTitle:["",{validators:[o.kI.maxLength(50)],asyncValidators:[],updateOn:"change"}],txtCampaignStatus:[!1,{validators:[o.kI.maxLength(50)],asyncValidators:[],updateOn:"change"}]}),this.initializePage(),this.campaignsTypeList=[{campaignNo:0,campaignType:"Ch\u1ecdn chi\u1ebfn d\u1ecbch"},{campaignNo:1,campaignType:"Chi\u1ebfn D\u1ecbch 1"},{campaignNo:2,campaignType:"Chi\u1ebfn D\u1ecbch 2"},{campaignNo:3,campaignType:"Chi\u1ebfn D\u1ecbch 3"}]}initializePage(){this.getPackingList()}getPackingList(){var e=this;return(0,U.Z)(function*(){(0,L.D)({productList:e.qrcodeService.getProductList()}).pipe((0,G.g)(e.loadingTime)).subscribe(n=>{200===n.productList.responseStatus?(e.productList=n.productList.content.datas.producstList,e.presentToast("success",e._translateService.instant(n.productList.content.message))):e.presentToast(417===n.productList.responseStatus?"warning":"error",e._translateService.instant(n.productList.content.message))},n=>{console.log(n),e.presentToast("error",e._translateService.instant("common.errors-message.common-server-error"))})})()}searchCampaign(){var e,n;const i={page:this.currentPages,itemPerPage:this.itemPage,campaignType:this.campaignSearchForm.value.txtCampaignType,groupId:this.currentGroupId,campaignTitle:this.campaignSearchForm.value.txtCampaignTitle};console.log("newCampaign: ",i),this.isCampaignList?null===(e=this.campaignService.advancedSearch(i))||void 0===e||e.subscribe(a=>{200===a.responseStatus?(this.presentToast("success",this._translateService.instant(a.content.message)),this.searchEvent.emit(a.content.datas.datasList),console.log(a.content.datas.datasList),this._ref.close()):417===a.responseStatus?this.presentToast("warning",this._translateService.instant(a.content.message)):(console.log(a),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error")))},a=>{console.log(a),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error"))}):null===(n=this.campaignService.advancedSearch(i))||void 0===n||n.subscribe(a=>{200===a.responseStatus?(this.presentToast("success",this._translateService.instant(a.content.message)),this.searchEvent.emit(a.content.datas.datasList),this._ref.close()):417===a.responseStatus?this.presentToast("warning",this._translateService.instant(a.content.message)):(console.log(a),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error")))},a=>{console.log(a),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error"))})}getDate(e){let n=new Date(Date.parse(e));this.currentDob=`${n.getFullYear()}/${n.getMonth()+1}/${n.getDate()}`}getGroups(e){this.currentGroupId=e}getGroup(e){console.log(e),this.currentGroup=e}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(o.qu),t.Y36(d.gz),t.Y36(P.Dx),t.Y36(d.F0),t.Y36(M.uw),t.Y36(x.v),t.Y36(D.w),t.Y36(O._W),t.Y36(q.sK),t.Y36(l.xA),t.Y36(Y.D),t.Y36(I.U),t.Y36(Z.YP),t.Y36(Z.b4),t.Y36(o.qu),t.Y36(l.E7))},r.\u0275cmp=t.Xpm({type:r,selectors:[["campaign-advance-search"]],inputs:{isCampaignList:"isCampaignList"},outputs:{searchEvent:"searchEvent"},features:[t.qOj],decls:22,vars:2,consts:[[1,"form",3,"formGroup"],[1,"row","input-field"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","qrcodeProduct",1,"form-control-label"],["optionLabel","campaignType","optionValue","campaignNo","placeholder","Ch\u1ecdn chi\u1ebfn d\u1ecbch","formControlName","txtCampaignType",1,"common-dropdown","p-inputtext-sm",3,"options"],[3,"currentGroup","currentGroups"],["for","qrcodePackingNumber",1,"form-control-label","text-center","mr-12","mb-0"],["type","text","id","qrcodePackingNumber","formControlName","txtCampaignTitle","placeholder","Chi\u1ebfn D\u1ecbch ABC",1,"form-control"],[1,"flex","btn-search"],["pButton","","type","button","label","L\u1ecdc Danh S\xe1ch",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"form",0),t.TgZ(1,"h5"),t._uU(2,"T\xecm ki\u1ebfm n\xe2ng cao"),t.qZA(),t._UZ(3,"hr"),t.TgZ(4,"div",1),t.TgZ(5,"div",2),t.TgZ(6,"div",3),t.TgZ(7,"div",4),t.TgZ(8,"label",5),t._uU(9,"Lo\u1ea1i Chi\u1ebfn D\u1ecbch:"),t.qZA(),t._UZ(10,"p-dropdown",6),t.qZA(),t.qZA(),t.TgZ(11,"div",3),t.TgZ(12,"div",4),t.TgZ(13,"app-common-group",7),t.NdJ("currentGroup",function(a){return n.getGroup(a)})("currentGroups",function(a){return n.getGroups(a)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",2),t.TgZ(15,"div",3),t.TgZ(16,"div",4),t.TgZ(17,"label",8),t._uU(18,"Ti\xeau \u0110\u1ec1: "),t.qZA(),t._UZ(19,"input",9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",10),t.TgZ(21,"button",11),t.NdJ("click",function(){return n.searchCampaign()}),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("formGroup",n.campaignSearchForm),t.xp6(10),t.Q6J("options",n.campaignsTypeList))},directives:[o._Y,o.JL,o.sg,J.Lt,o.JJ,o.u,W.Z,o.Fj,E.Hq],styles:[".form[_ngcontent-%COMP%]{width:100%;height:auto;background-color:#fff;border:1px solid lightgrey;border-radius:20px;margin-top:2rem}.form[_ngcontent-%COMP%]   .mr-12[_ngcontent-%COMP%]{margin-right:12px}  .p-dropdown{width:100%}.form[_ngcontent-%COMP%]{width:100%;height:auto;box-shadow:#959da533 0 8px 24px!important;background-color:#fff!important;margin-top:2rem}.form[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{padding:1rem 0 0 1rem}.form[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{justify-content:center;padding:0 2rem}.form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:3px}.flex[_ngcontent-%COMP%]{display:flex}.flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}[_nghost-%COMP%]     .p-button-text{width:120px;background-color:#008cff;color:#fff;border-color:#0000;text-align:center}.btn-search[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-bottom:1rem}"]}),r})();var xe=s(6639);function be(r,p){if(1&r){const e=t.EpF();t.TgZ(0,"div",9),t.TgZ(1,"h5"),t._uU(2,"Danh s\xe1ch k\u1ebft qu\u1ea3"),t.qZA(),t.TgZ(3,"div",10),t.TgZ(4,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).showModalDialogCreate()}),t.qZA(),t.qZA(),t.qZA()}}function Ee(r,p){1&r&&(t.TgZ(0,"tr"),t.TgZ(1,"th",12),t._uU(2,"H\xe0nh \u0110\u1ed9ng"),t.qZA(),t.TgZ(3,"th",13),t._uU(4,"Tr\u1ea1ng Th\xe1i"),t.qZA(),t.TgZ(5,"th",14),t._uU(6,"M\xe3 Chi\u1ebfn D\u1ecbch"),t.qZA(),t.TgZ(7,"th",15),t._uU(8,"Lo\u1ea1i"),t.qZA(),t.TgZ(9,"th",16),t._uU(10,"\u0110\u1ed1i T\u01b0\u1ee3ng \xc1p D\u1ee5ng"),t.qZA(),t.TgZ(11,"th",17),t._uU(12,"Ti\xeau \u0110\u1ec1"),t.qZA(),t.TgZ(13,"th",18),t._uU(14,"Ng\xe0y B\u1eaft \u0110\u1ea7u"),t.qZA(),t.TgZ(15,"th",19),t._uU(16,"Ng\xe0y K\u1ebft Th\xfac"),t.qZA(),t.TgZ(17,"th",20),t._uU(18,"Ng\xe0y K\u1ebft Th\xfac \u0110\u1ed5i Th\u01b0\u1edfng"),t.qZA(),t.qZA())}function Me(r,p){1&r&&(t.TgZ(0,"p",29),t._uU(1," \u0110ang ho\u1ea1t \u0111\u1ed9ng "),t.qZA())}function Ae(r,p){1&r&&(t.TgZ(0,"p",30),t._uU(1," Ng\u01b0ng ho\u1ea1t \u0111\u1ed9ng "),t.qZA())}function Pe(r,p){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,Me,2,0,"p",27),t.YNc(2,Ae,2,0,"p",28),t.qZA()),2&r){const e=t.oxw().$implicit,n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",1==n[e.field]),t.xp6(1),t.Q6J("ngIf",-1==n[e.field]||0==n[e.field])}}function De(r,p){if(1&r&&(t.TgZ(0,"td",13),t.YNc(1,Pe,3,2,"div",26),t.qZA()),2&r){const e=p.$implicit;t.xp6(1),t.Q6J("ngIf","campaignStatus"==e.type)}}function Oe(r,p){1&r&&(t.TgZ(0,"p",29),t._uU(1," \u0110\u1ea1i L\xfd "),t.qZA())}function qe(r,p){1&r&&(t.TgZ(0,"p",30),t._uU(1," Th\u1ea7u Th\u1ee3 "),t.qZA())}function ye(r,p){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,Oe,2,0,"p",27),t.YNc(2,qe,2,0,"p",28),t.qZA()),2&r){const e=t.oxw().$implicit,n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",1==n[e.field]),t.xp6(1),t.Q6J("ngIf",2==n[e.field])}}function we(r,p){if(1&r&&(t.TgZ(0,"td",16),t.YNc(1,ye,3,2,"div",26),t.qZA()),2&r){const e=p.$implicit;t.xp6(1),t.Q6J("ngIf","campaignGroupId"==e.type)}}function Se(r,p){if(1&r){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",12),t.TgZ(2,"button",21),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).showModalDialogEdit(a.campaignId,a.campaignType)}),t.qZA(),t._uU(3," | "),t._UZ(4,"button",22),t._uU(5," | "),t.TgZ(6,"button",23),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).doDelete(a.campaignId,"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a chi\u1ebfn d\u1ecbch n\xe0y kh\xf4ng?")}),t.qZA(),t.qZA(),t.YNc(7,De,2,1,"td",24),t.TgZ(8,"td",14),t._uU(9),t.qZA(),t.TgZ(10,"td",15),t._uU(11),t.qZA(),t.YNc(12,we,2,1,"td",25),t.TgZ(13,"td",17),t._uU(14),t.qZA(),t.TgZ(15,"td",18),t._uU(16),t.ALo(17,"date"),t.qZA(),t.TgZ(18,"td",19),t._uU(19),t.ALo(20,"date"),t.qZA(),t.TgZ(21,"td",20),t._uU(22),t.ALo(23,"date"),t.qZA(),t.qZA()}if(2&r){const e=p.$implicit,n=t.oxw(2);t.xp6(7),t.Q6J("ngForOf",n.cols),t.xp6(2),t.hij(" ",e.campaignId," "),t.xp6(2),t.hij(" ",e.campaignType," "),t.xp6(1),t.Q6J("ngForOf",n.groupCols),t.xp6(2),t.hij(" ",e.campaignTitle," "),t.xp6(2),t.hij(" ",t.xi3(17,8,e.campaignStartDate,"dd/MM/yyyy")," "),t.xp6(3),t.hij(" ",t.xi3(20,11,e.campaignEndDate,"dd/MM/yyyy")," "),t.xp6(3),t.hij(" ",t.xi3(23,14,e.campaignRedemptionEndDate,"dd/MM/yyyy")," ")}}function ke(r,p){if(1&r){const e=t.EpF();t.TgZ(0,"div",31),t.TgZ(1,"p-paginator",32),t.NdJ("onPageChange",function(i){return t.CHM(e),t.oxw(2).paginate(i)}),t.qZA(),t.qZA()}if(2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("rows",10)("totalRecords",e.totalRecords)}}function Fe(r,p){if(1&r&&(t.TgZ(0,"div",3),t.TgZ(1,"p-table",4),t.YNc(2,be,5,0,"ng-template",5),t.YNc(3,Ee,19,0,"ng-template",6),t.YNc(4,Se,24,17,"ng-template",7),t.YNc(5,ke,2,2,"ng-template",8),t.qZA(),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("value",e.campaignList)("paginator",!1)("rows",10)("showCurrentPageReport",!0)}}let Ue=(()=>{class r extends A.H{constructor(e,n,i,a,c,g,u,m,h,_,f,C){super(e,n,i,a,c,g,u,m,h),this.dialog=_,this.campaignService=f,this._confirmationService=C,this.loading=!0,this.currentPage={first:0,rows:10,page:0,pageCount:10},this._pageTitle.setTitle(this._translateService.instant("pages.qrcode.labels.page-title"))}ngOnInit(){this.initializePage()}initializePage(){this.cols=[{field:"campaignStatus",header:this._translateService.instant("pages.campaign.labels.status"),type:"campaignStatus"}],this.groupCols=[{field:"campaignGroupId",header:this._translateService.instant("pages.campaign.labels.campaign-group"),type:"campaignGroupId"}],this.getCampaignList(1,10)}getCampaignList(e,n){var i=this;return(0,U.Z)(function*(){i._common.attachSpinner(),(0,L.D)({response:i.campaignService.getCampaignList({page:e,itemPerPage:n.toString(),productId:0})}).pipe((0,G.g)(i.loadingTime)).subscribe(a=>{200===a.response.responseStatus?(i.campaignList=a.response.content.datas.datasList,i.totalRecords=a.response.content.datas.totalDatas,i.pageLinks=Math.round(i.totalRecords/i.currentPage.rows+1),console.log(i.totalRecords),i.loading=!1,i.presentToast("success",i._translateService.instant(a.response.content.message))):417===a.response.responseStatus?i.presentToast("warning",i._translateService.instant(a.response.content.message)):i.presentToast("error",i._translateService.instant("common.errors-message.common-server-error")),i._common.detachSpinner()},a=>{console.log(a),i.presentToast("error",i._translateService.instant("common.errors-message.common-server-error"))})})()}showModalDialogCreate(){this._dialog.open(pt,{header:"Th\xeam Chi\u1ebfn D\u1ecbch",width:"50vw"}).onClose.subscribe(n=>this.getCampaignList(1,10))}showModalDialogEdit(e,n){1===n&&this._dialog.open(ae,{header:"Ch\u1ec9nh S\u1eeda Chi\u1ebfn D\u1ecbch",width:"95%",data:{isEdit:!0,campaignID:e,campaignType:n}}).onClose.subscribe(a=>this.getCampaignList(1,10)),2==n&&this._dialog.open(Yt,{header:"Ch\u1ec9nh S\u1eeda Chi\u1ebfn D\u1ecbch",width:"95%",data:{isEdit:!0,campaignID:e,campaignType:n}}).onClose.subscribe(a=>this.getCampaignList(1,10)),3==n&&this._dialog.open(Ze,{header:"Ch\u1ec9nh S\u1eeda Chi\u1ebfn D\u1ecbch",width:"95%",data:{isEdit:!0,campaignID:e,campaignType:n}}).onClose.subscribe(a=>this.getCampaignList(1,10))}receiveSearch(e){this.campaignList=e}doDelete(e,n){this._confirmationService.confirm({message:n,accept:()=>{var i;console.log(e),null===(i=this.campaignService.doDeleteCampaign(e))||void 0===i||i.subscribe(a=>{200===a.responseStatus?this.presentToast("success",this._translateService.instant(a.content.message)):this.presentToast(417==a.responseStatus?"warning":"error",this._translateService.instant(a.statusText))},a=>{this.presentToast("error",this._translateService.instant(a))})}})}paginate(e){console.log(e),this.getCampaignList(e.page+1,e.rows)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(d.gz),t.Y36(P.Dx),t.Y36(d.F0),t.Y36(M.uw),t.Y36(x.v),t.Y36(D.w),t.Y36(O._W),t.Y36(q.sK),t.Y36(l.xA),t.Y36(M.uw),t.Y36(I.U),t.Y36(Z.YP))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-campaign-list"]],inputs:{cols:"cols",groupCols:"groupCols"},features:[t.qOj],decls:4,vars:1,consts:[[3,"searchEvent"],["header","X\xe1c Nh\u1eadn","icon","pi pi-exclamation-triangle"],["class","app-table",4,"ngIf"],[1,"app-table"],["styleClass","p-datatable-sm p-datatable-gridlines","responsiveLayout","scroll","responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","scrollHeight","400px",3,"value","paginator","rows","showCurrentPageReport"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[1,"flex","table-caption"],[1,"flex","btn-search"],["pButton","","type","button","label","Th\xeam Chi\u1ebfn D\u1ecbch",3,"click"],[1,"column-1"],[1,"column-2"],[1,"column-3"],[1,"column-4"],[1,"column-5"],[1,"column-6"],[1,"column-7"],[1,"column-8"],[1,"column-9"],["pButton","","pRipple","","type","button","label","C\u1eadp Nh\u1eadt",1,"p-button-success","p-button-text","mr-2",3,"click"],["pButton","","pRipple","","type","button","label","H\u1ee7y",1,"p-button-warning","p-button-text","mr-2"],["pButton","","pRipple","","type","button","label","Xo\xe1",1,"p-button-danger","p-button-text","mr-2",3,"click"],["class","column-2",4,"ngFor","ngForOf"],["class","column-5",4,"ngFor","ngForOf"],[4,"ngIf"],["class","active",4,"ngIf"],["class","inactive",4,"ngIf"],[1,"active"],[1,"inactive"],[1,"flex","align-items-center","justify-content-between"],[3,"rows","totalRecords","onPageChange"]],template:function(e,n){1&e&&(t.TgZ(0,"app-main-layout"),t.TgZ(1,"campaign-advance-search",0),t.NdJ("searchEvent",function(a){return n.receiveSearch(a)}),t.qZA(),t._UZ(2,"p-confirmDialog",1),t.YNc(3,Fe,6,4,"div",2),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngIf",n.campaignList))},directives:[ot.f,ve,nt.Q,y.O5,j.iA,Z.jx,E.Hq,y.sg,xe.D],pipes:[y.uU],styles:[".group-button[_ngcontent-%COMP%]{text-align:right}.create-button[_ngcontent-%COMP%]{background-color:#008cff;color:#fff}.custom-plus[_ngcontent-%COMP%]{padding:3px;font-weight:bold;border:2px solid white;border-radius:50%;margin-right:7px}.form[_ngcontent-%COMP%]{width:100%;height:auto;background-color:#fff;border:1px solid lightgrey;border-radius:20px;margin-top:2rem}.form[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{padding:1rem 0 0 1rem}.form[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{justify-content:center;padding:0 2rem}[_nghost-%COMP%]     .p-button-text{width:120px;background-color:#008cff;color:#fff;border-color:#0000;text-align:center}.input-cate-account[_ngcontent-%COMP%]{margin-right:auto}.app-table[_ngcontent-%COMP%]{width:100%;height:auto;box-shadow:#959da533 0 8px 24px!important;background-color:#fff!important;margin-top:2rem;padding:5px}.app-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .app-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{justify-content:center}.app-table[_ngcontent-%COMP%]   .column-1[_ngcontent-%COMP%]{min-width:290px}.app-table[_ngcontent-%COMP%]   .column-2[_ngcontent-%COMP%]{min-width:150px}.app-table[_ngcontent-%COMP%]   .column-3[_ngcontent-%COMP%]{min-width:180px}.app-table[_ngcontent-%COMP%]   .column-4[_ngcontent-%COMP%]{min-width:120px}.app-table[_ngcontent-%COMP%]   .column-5[_ngcontent-%COMP%]{min-width:170px}.app-table[_ngcontent-%COMP%]   .column-6[_ngcontent-%COMP%]{min-width:200px}.app-table[_ngcontent-%COMP%]   .column-7[_ngcontent-%COMP%]{min-width:170px}.app-table[_ngcontent-%COMP%]   .column-8[_ngcontent-%COMP%]{min-width:170}.app-table[_ngcontent-%COMP%]   .column-9[_ngcontent-%COMP%]{min-width:210px}.table-caption[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.btn-search[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}"]}),r})();function Ne(r,p){if(1&r&&(t.TgZ(0,"h5"),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e._translateService.instant("pages.qrcode.labels.result-list")," ")}}function Ie(r,p){if(1&r&&(t.TgZ(0,"tr"),t.TgZ(1,"th",8),t._uU(2),t.qZA(),t.TgZ(3,"th",9),t._uU(4),t.qZA(),t.TgZ(5,"th",10),t._uU(6),t.qZA(),t.TgZ(7,"th",11),t._uU(8),t.qZA(),t.TgZ(9,"th",12),t._uU(10),t.qZA(),t.TgZ(11,"th",13),t._uU(12),t.qZA(),t.TgZ(13,"th",14),t._uU(14),t.qZA(),t.TgZ(15,"th",15),t._uU(16),t.qZA(),t.TgZ(17,"th",16),t._uU(18),t.qZA(),t.qZA()),2&r){const e=t.oxw(2);t.xp6(2),t.hij(" ",e._translateService.instant("pages.qrcode.labels.qrcode")," "),t.xp6(2),t.hij(" ",e._translateService.instant("pages.qrcode.labels.qrcode")," "),t.xp6(2),t.hij(" ",e._translateService.instant("pages.qrcode.labels.qr-date-of-create")," "),t.xp6(2),t.hij(" ",e._translateService.instant("pages.qrcode.labels.qr-type")," "),t.xp6(2),t.hij(" ",e._translateService.instant("pages.qrcode.advance-search.product")," "),t.xp6(2),t.hij(" ",e._translateService.instant("pages.qrcode.labels.total-score")," "),t.xp6(2),t.hij(" ",e._translateService.instant("pages.qrcode.labels.customer-code")," "),t.xp6(2),t.hij(" ",e._translateService.instant("pages.qrcode.labels.customer-name")," "),t.xp6(2),t.hij(" ",e._translateService.instant("pages.qrcode.labels.qr-date-of-use")," ")}}function Be(r,p){if(1&r&&(t.TgZ(0,"td",12),t._uU(1),t.qZA()),2&r){const e=t.oxw().$implicit,n=t.oxw(2);let i;t.xp6(1),t.hij(" ",null==(i=n.findProduct(e.productId,n.productList))?null:i.productName," ")}}function Le(r,p){if(1&r&&(t.TgZ(0,"tr"),t.TgZ(1,"td",8),t._UZ(2,"img",17),t.qZA(),t.TgZ(3,"td",9),t._uU(4),t.qZA(),t.TgZ(5,"td",10),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td",11),t._uU(9),t.qZA(),t.YNc(10,Be,2,1,"td",18),t.TgZ(11,"td",13),t._uU(12),t.qZA(),t.TgZ(13,"td",14),t._uU(14),t.qZA(),t.TgZ(15,"td",15),t._uU(16),t.qZA(),t.TgZ(17,"td",16),t._uU(18),t.ALo(19,"date"),t.qZA(),t.qZA()),2&r){const e=p.$implicit,n=t.oxw(2);t.xp6(2),t.s9C("src",e.qrUrl,t.LSH),t.xp6(2),t.Oqu(e.qrCode),t.xp6(2),t.hij(" ",t.xi3(7,9,e.createdDate,"dd/MM/yyy")," "),t.xp6(3),t.Oqu(e.qrType),t.xp6(1),t.Q6J("ngIf",n.productList),t.xp6(2),t.Oqu(e.qrPoint),t.xp6(2),t.Oqu(e.customerNo),t.xp6(2),t.Oqu(e.customerName),t.xp6(2),t.hij(" ",t.xi3(19,12,e.qrUsedDate,"dd/MM/yyy")," ")}}const Ge=function(){return[5,10,15]};function Je(r,p){if(1&r&&(t.TgZ(0,"div",3),t.TgZ(1,"p-table",4),t.YNc(2,Ne,2,1,"ng-template",5),t.YNc(3,Ie,19,9,"ng-template",6),t.YNc(4,Le,20,15,"ng-template",7),t.qZA(),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("value",e.qrHistoryList)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(5,Ge))}}function Ye(r,p){1&r&&(t.TgZ(0,"div",19),t.TgZ(1,"h1"),t._uU(2,"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"),t.qZA(),t.qZA())}let rt=(()=>{class r extends A.H{constructor(e,n,i,a,c,g,u,m,h,_,f,C,v){var T;super(e,n,i,a,c,g,u,m,h),this.campaignService=_,this.qrcodeService=f,this._confirmationService=C,this.matDialog=v,this.currentPage={first:0,rows:10,page:0,pageCount:10},this.state={},this.state=null===(T=this._router.getCurrentNavigation())||void 0===T?void 0:T.extras.state,this._pageTitle.setTitle(this._translateService.instant("pages.qrcode.labels.page-title"))}ngOnInit(){console.log(this.state),this.campaignId=this.state.campaignId,this.initializePage()}initializePage(){this.getPackingList()}getPackingList(){var e=this;return(0,U.Z)(function*(){e._common.attachSpinner(),(0,L.D)({response:e.campaignService.getQrHistoryList({page:1,itemPerPage:"10",productId:0},e.campaignId),productList:e.qrcodeService.getProductList()}).pipe((0,G.g)(e.loadingTime)).subscribe(n=>{200===n.response.responseStatus?(e.qrHistoryList=n.response.content.datas.datasList,e.productList=n.productList.content.datas.producstList,e.qrHistoryList.length<1?e.presentToast("success",e._translateService.instant(n.response.content.message)):e.presentToast("warning",e._translateService.instant("common.errors-message.get-data-fail"))):e.presentToast(417===n.response.responseStatus?"warning":"error",e._translateService.instant(n.response.content.message)),e._common.detachSpinner()},n=>{console.log(n),e.presentToast("error",e._translateService.instant("common.errors-message.common-server-error"))})})()}findProduct(e,n){return n.find(i=>i.productId===e)}receiveSearch(e,n){this.qrHistoryList=e,this.campaignId=n}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(d.gz),t.Y36(P.Dx),t.Y36(d.F0),t.Y36(M.uw),t.Y36(x.v),t.Y36(D.w),t.Y36(O._W),t.Y36(q.sK),t.Y36(l.xA),t.Y36(I.U),t.Y36(Y.D),t.Y36(Z.YP),t.Y36(M.uw))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-qrcode-history-list"]],features:[t.qOj],decls:5,vars:3,consts:[[3,"campaignId","searchEvent"],["class","app-table",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"app-table"],["styleClass","p-datatable-sm p-datatable-gridlines","responsiveLayout","scroll","responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","scrollHeight","200px",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"column-1"],[1,"column-2"],[1,"column-3"],[1,"column-4"],[1,"column-5"],[1,"column-6"],[1,"column-7"],[1,"column-8"],[1,"column-9"],["alt","qrcode",1,"qrcode",3,"src"],["class","column-5",4,"ngIf"],[1,"error"]],template:function(e,n){if(1&e&&(t.TgZ(0,"app-main-layout"),t.TgZ(1,"app-advance-search-history-list-qrcode",0),t.NdJ("searchEvent",function(a){return n.receiveSearch(a,n.campaignId)}),t.qZA(),t.YNc(2,Je,5,6,"div",1),t.YNc(3,Ye,3,0,"ng-template",null,2,t.W1O),t.qZA()),2&e){const i=t.MAs(4);t.xp6(1),t.Q6J("campaignId",n.campaignId),t.xp6(1),t.Q6J("ngIf",n.qrHistoryList.length>0)("ngIfElse",i)}},styles:[".app-table[_ngcontent-%COMP%]{width:100%;height:auto;box-shadow:#959da533 0 8px 24px!important;background-color:#fff!important;margin-top:2rem;padding:5px}.app-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .app-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{justify-content:center}.app-table[_ngcontent-%COMP%]   .column-1[_ngcontent-%COMP%]{min-width:100px}.app-table[_ngcontent-%COMP%]   .column-2[_ngcontent-%COMP%]{min-width:150px}.app-table[_ngcontent-%COMP%]   .column-3[_ngcontent-%COMP%]{min-width:170px}.app-table[_ngcontent-%COMP%]   .column-4[_ngcontent-%COMP%]{min-width:70px}.app-table[_ngcontent-%COMP%]   .column-5[_ngcontent-%COMP%]{min-width:170px}.app-table[_ngcontent-%COMP%]   .column-6[_ngcontent-%COMP%]{min-width:150px}.app-table[_ngcontent-%COMP%]   .column-7[_ngcontent-%COMP%]{min-width:180px}.app-table[_ngcontent-%COMP%]   .column-8[_ngcontent-%COMP%]{min-width:180}.app-table[_ngcontent-%COMP%]   .column-9[_ngcontent-%COMP%]{min-width:190px}.qrcode[_ngcontent-%COMP%]{width:50%;display:block;margin-left:auto;margin-right:auto}.error[_ngcontent-%COMP%]{color:red;justify-content:center;display:block;text-align:center}"]}),r})();const Qe=[{path:"campaign-list",component:Ue,data:{listLabel:"Danh s\xe1ch chi\u1ebfn d\u1ecbch"}},{path:"packing-qr-history-list",component:rt,data:{listLabel:"Danh s\xe1ch m\xe3 QR \u0111\xe3 s\u1eed d\u1ee5ng"}}];let Re=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[d.Bz.forChild(Qe)],d.Bz]}),r})();var Ve=s(8295),ze=s(9983),je=s(5939),He=s(3422),$e=s(7745),Ke=s(14),Xe=s(6352),We=s(4020),tn=s(9394),en=s(7965);let nn=(()=>{class r extends A.H{constructor(e,n,i,a,c,g,u,m,h,_,f,C,v,T,b){super(n,i,a,c,g,u,m,h,_),this.fb=e,this.qrcodeService=f,this._confirmationService=C,this.primeConfig=v,this.formBuilder=T,this._ref=b,this.isQRsHistoryList=!0,this.campaignId=-1,this.searchEvent=new t.vpe,this.currentPage={first:0,rows:10,page:0,pageCount:10}}ngOnInit(){this._translateService.get("primeng").subscribe(e=>this.primeConfig.setTranslation(e)),this.qrcodeForm=this.formBuilder.group({txtCustomerNo:["",{validators:[],asyncValidators:[],updateOn:"change"}],txtQrUsedDate:["",{validators:[o.kI.maxLength(50)],asyncValidators:[],updateOn:"change"}],txtQrCode:["",{validators:[o.kI.maxLength(50)],asyncValidators:[],updateOn:"change"}]}),this.initializePage()}initializePage(){this.getPackingList()}getPackingList(){var e=this;return(0,U.Z)(function*(){(0,L.D)({productList:e.qrcodeService.getProductList()}).pipe((0,G.g)(e.loadingTime)).subscribe(n=>{200===n.productList.responseStatus?(e.productList=n.productList.content.datas.producstList,e.presentToast("success",e._translateService.instant(n.productList.content.message))):e.presentToast(417===n.productList.responseStatus?"warning":"error",e._translateService.instant(n.productList.content.message))},n=>{console.log(n),e.presentToast("error",e._translateService.instant("common.errors-message.common-server-error"))})})()}findPacking(){var e,n;const i={page:this.currentPages,itemPerPage:this.itemPage,customerNo:this.qrcodeForm.value.txtCustomerNo,productId:this.currentProductId,groupId:this.currentGroupId,qrUsedDate:this.qrcodeForm.value.txtQrUsedDate,qrCode:this.qrcodeForm.value.txtQrCode};console.log("new packing: ",i),this.isQRsHistoryList?null===(e=this.qrcodeService.advancedSearch(i,this.campaignId))||void 0===e||e.subscribe(a=>{200===a.responseStatus?(this.presentToast("success",this._translateService.instant(a.content.message)),this.searchEvent.emit(a.content.datas.datasList),console.log(a.content.datas.datasList),this._ref.close()):417===a.responseStatus?this.presentToast("warning",this._translateService.instant(a.content.message)):(console.log(a),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error")))},a=>{console.log(a),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error"))}):null===(n=this.qrcodeService.advancedSearch(i,this.campaignId))||void 0===n||n.subscribe(a=>{200===a.responseStatus?(this.presentToast("success",this._translateService.instant(a.content.message)),this.searchEvent.emit(a.content.datas.datasList),this._ref.close()):417===a.responseStatus?this.presentToast("warning",this._translateService.instant(a.content.message)):(console.log(a),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error")))},a=>{console.log(a),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error"))})}getGroups(e){this.currentGroupId=e}getGroup(e){console.log(e),this.currentGroup=e}getProductId(e){this.currentProductId=e.value,console.log(this.currentProductId)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(o.qu),t.Y36(d.gz),t.Y36(P.Dx),t.Y36(d.F0),t.Y36(M.uw),t.Y36(x.v),t.Y36(D.w),t.Y36(O._W),t.Y36(q.sK),t.Y36(l.xA),t.Y36(Y.D),t.Y36(Z.YP),t.Y36(Z.b4),t.Y36(o.qu),t.Y36(l.E7))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-advance-search-history-list-qrcode"]],inputs:{isQRsHistoryList:"isQRsHistoryList",campaignId:"campaignId"},outputs:{searchEvent:"searchEvent"},features:[t.qOj],decls:33,vars:8,consts:[["action","",1,"form",3,"formGroup"],[1,"row","input-field"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","qrcodePackingNumber",1,"form-control-label"],["type","text","id","qrcodePackingNumber","formControlName","txtCustomerNo",1,"form-control"],["for","qrcodeProduct",1,"form-control-label"],["optionLabel","productName","optionValue","productId",1,"common-dropdown","p-inputtext-sm",3,"options","placeholder","onChange"],[3,"currentGroup","currentGroups"],["for","qrcodeDateUsed",1,"form-control-label"],["type","date","id","qrcodeProduct","formControlName","txtQrUsedDate","dateFormat","dd/MM/yyyy",1,"form-control"],["type","text","id","qrcodePackingNumber","formControlName","txtQrCode",1,"form-control"],[1,"col-md-12","flex","btn-search"],["pButton","","type","button","label","T\xecm Ki\u1ebfm",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"form",0),t.TgZ(1,"h5"),t._uU(2),t.qZA(),t._UZ(3,"hr"),t.TgZ(4,"div",1),t.TgZ(5,"div",2),t.TgZ(6,"div",3),t.TgZ(7,"div",4),t.TgZ(8,"label",5),t._uU(9),t.qZA(),t._UZ(10,"input",6),t.qZA(),t.qZA(),t.TgZ(11,"div",3),t.TgZ(12,"div",4),t.TgZ(13,"label",7),t._uU(14),t.qZA(),t.TgZ(15,"p-dropdown",8),t.NdJ("onChange",function(a){return n.getProductId(a)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",2),t.TgZ(17,"div",3),t.TgZ(18,"div",4),t.TgZ(19,"app-common-group",9),t.NdJ("currentGroup",function(a){return n.getGroup(a)})("currentGroups",function(a){return n.getGroups(a)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",3),t.TgZ(21,"div",4),t.TgZ(22,"label",10),t._uU(23),t.qZA(),t._UZ(24,"input",11),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"div",2),t.TgZ(26,"div",3),t.TgZ(27,"div",4),t.TgZ(28,"label",5),t._uU(29),t.qZA(),t._UZ(30,"input",12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(31,"div",13),t.TgZ(32,"button",14),t.NdJ("click",function(){return n.findPacking()}),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("formGroup",n.qrcodeForm),t.xp6(2),t.hij(" ",n._translateService.instant("pages.qrcode.advance-search.advance-search")," "),t.xp6(7),t.hij("",n._translateService.instant("pages.qrcode.advance-search.customer-code"),": "),t.xp6(5),t.hij("",n._translateService.instant("pages.qrcode.advance-search.product"),":"),t.xp6(1),t.Q6J("options",n.productList)("placeholder",n._translateService.instant("pages.qrcode.placeholders.choose-product")),t.xp6(8),t.hij("",n._translateService.instant("pages.qrcode.advance-search.date-of-use"),":"),t.xp6(6),t.hij("",n._translateService.instant("pages.qrcode.labels.qrcode"),": "))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,J.Lt,W.Z,E.Hq],styles:[".form[_ngcontent-%COMP%]{width:100%;height:auto;background-color:#fff;border:1px solid lightgrey;border-radius:20px;margin-top:2rem}.form[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{padding:1rem 0 0 1rem}.form[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{justify-content:center;padding:0 2rem}.flex[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]     .p-button-text{width:120px;background-color:#008cff;color:#fff;border-color:#0000;text-align:center}.btn-search[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-bottom:1rem}  .p-dropdown{border-radius:8px;width:100%}"]}),r})(),an=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[y.ez,Re,y.ez,tn.Y,Ve.lN,ze.c,je.Nh,Xe.zz,Ke.L,$e.d,We.Q,z.j,K._8,He.TX,at.nD,en.EV,j.U$,E.hJ,l.DL,J.kW]]}),r})();t.B6R(rt,[ot.f,nn,y.O5,j.iA,Z.jx],[y.uU])}}]);