"use strict";(self.webpackChunkcom_skyfiresolution_tokunabi_admin=self.webpackChunkcom_skyfiresolution_tokunabi_admin||[]).push([[786],{786:(Se,M,s)=>{s.r(M),s.d(M,{QcodeModule:()=>Te});var q=s(8583),l=s(4655),f=s(8239),C=s(2587),w=s(5758),h=s(1289),c=s(3679),k=s(7624),e=s(7716),T=s(9075),b=s(2238),S=s(272),D=s(4003),A=s(9344),P=s(9790),Z=s(9451),Q=s(6711),L=s(103),N=s(4080),x=s(4207);let J=(()=>{class o extends C.H{constructor(t,n,a,r,d,p,g,u,m,_,v){super(n,a,r,d,p,g,u,m,_),this.formBuilder=t,this.qrcodeService=v}ngOnInit(){console.log("turn on qrcode-dialog-create"),this.qrcodeFormCreate=this.formBuilder.group({qrcodeCreateNumberOfProduct:["",{validators:[c.kI.pattern(k.q.validators.patterns.onlyNumeric),c.kI.required],asyncValidators:[],updateOn:"change"}],qrcodeCreateProductionDate:["",{validators:[c.kI.required],asyncValidators:[],updateOn:"change"}]}),this.getProductList()}ngOnDestroy(){console.log("turn off qrcode-dialog-create")}getProductList(){var t=this;return(0,f.Z)(function*(){(0,w.D)({productList:t.qrcodeService.getProductList()}).pipe((0,h.g)(t.loadingTime)).subscribe(n=>{200===n.productList.responseStatus?t.productList=n.productList.content.datas.producstList:t.presentToast(417===n.productList.responseStatus?"warning":"error",t._translateService.instant(n.productList.content.message))},n=>{console.log(n),t.presentToast("error",t._translateService.instant("common.errors-message.common-server-error"))})})()}onCreateNewQrcode(){var t;const n={productId:this.selectedProductId,quantity:+this.qrcodeFormCreate.value.qrcodeCreateNumberOfProduct,packagingDate:this.qrcodeFormCreate.value.qrcodeCreateProductionDate};console.log(n);const a=null===(t=this.qrcodeService.addPacking(n))||void 0===t?void 0:t.subscribe(r=>{console.log(r),200===r.responseStatus?this.presentToast("success",this._translateService.instant(r.content.message)):417===r.responseStatus?this.presentToast("warning",this._translateService.instant(r.content.message)):(console.log(r),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error")))},r=>{console.log(r),this.presentToast("error",this._translateService.instant("common.errors-message.common-server-error"))});console.log(a)}onChangeProductAtSelected(t){this.selectedProductId=t.value}isDisable(){return this.qrcodeFormCreate.valid}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.qu),e.Y36(l.gz),e.Y36(T.Dx),e.Y36(l.F0),e.Y36(b.uw),e.Y36(S.v),e.Y36(D.w),e.Y36(A._W),e.Y36(P.sK),e.Y36(Z.xA),e.Y36(Q.D))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-qrcode-dialog-create"]],features:[e.qOj],decls:19,vars:10,consts:[[3,"formGroup"],[1,"row"],[1,"form-group"],["for","chooseProduct",1,"form-control-label"],["optionLabel","productName","optionValue","productId",3,"options","placeholder","onChange"],["for","phoneNumber",1,"form-control-label"],["type","number","id","qrcodeCreateNumberOfProduct","value","1","formControlName","qrcodeCreateNumberOfProduct",1,"form-control",3,"placeholder"],["controllerName","qrcodeCreateNumberOfProduct","controllerType","textbox","controllerTitle","Number",3,"mainForm"],["type","date","id","qrcodeCreateProductionDate","formControlName","qrcodeCreateProductionDate",1,"form-control"],["icon","pi pi-plus",3,"label","disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"label",3),e._uU(4),e.qZA(),e.TgZ(5,"p-dropdown",4),e.NdJ("onChange",function(r){return n.onChangeProductAtSelected(r)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",1),e.TgZ(7,"div",2),e.TgZ(8,"label",5),e._uU(9),e.qZA(),e._UZ(10,"input",6),e.TgZ(11,"div"),e._UZ(12,"common-validation-message",7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",1),e.TgZ(14,"div",2),e.TgZ(15,"label",5),e._uU(16),e.qZA(),e._UZ(17,"input",8),e.qZA(),e.qZA(),e.TgZ(18,"p-button",9),e.NdJ("click",function(){return n.onCreateNewQrcode()}),e.qZA(),e.qZA()),2&t&&(e.Q6J("formGroup",n.qrcodeFormCreate),e.xp6(4),e.hij(" ",n._translateService.instant("pages.qrcode.placeholders.choose-product")," "),e.xp6(1),e.Q6J("options",n.productList)("placeholder",n._translateService.instant("pages.qrcode.placeholders.choose-product")),e.xp6(4),e.hij(" ",n._translateService.instant("pages.qrcode.labels.input-number-product")," "),e.xp6(1),e.Q6J("placeholder",n._translateService.instant("pages.qrcode.placeholders.input-number-product")),e.xp6(2),e.Q6J("mainForm",n.qrcodeFormCreate),e.xp6(4),e.hij(" ",n._translateService.instant("pages.qrcode.labels.input-date-production")," "),e.xp6(2),e.Q6J("label",n._translateService.instant("pages.qrcode.labels.create-qr"))("disabled",!n.isDisable()))},directives:[c._Y,c.JL,c.sg,L.Lt,c.wV,c.Fj,c.JJ,c.u,N.C,x.zx],styles:[".p-dropdown{border-radius:8px;width:100%}  .p-button{float:right}"]}),o})();function U(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit;return e.oxw(2).onClickActiveButton(a.qrCode)}),e.qZA()}}function I(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit;return e.oxw(2).onClickDeactiveButton(a.qrCode)}),e.qZA()}}function F(o,i){if(1&o&&(e.TgZ(0,"p",15),e._uU(1),e.TgZ(2,"span",16),e._uU(3),e.qZA(),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.hij("",t._translateService.instant("pages.qrcode.labels.qr-status-text")," "),e.xp6(2),e.Oqu(t._translateService.instant("pages.qrcode.labels.qr-status-non-active-text"))}}function j(o,i){if(1&o&&(e.TgZ(0,"p",15),e._uU(1),e.TgZ(2,"span",17),e._uU(3),e.qZA(),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.hij("",t._translateService.instant("pages.qrcode.labels.qr-status-text")," "),e.xp6(2),e.Oqu(t._translateService.instant("pages.qrcode.labels.qr-status-active-text"))}}function E(o,i){if(1&o&&(e.TgZ(0,"p",15),e._uU(1),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.hij("",t._translateService.instant("pages.qrcode.labels.qr-used-text")," "),e.xp6(2),e.Oqu(t._translateService.instant("pages.qrcode.labels.qr-used-non-active-text"))}}function B(o,i){if(1&o&&(e.TgZ(0,"p",15),e._uU(1),e.TgZ(2,"span",17),e._uU(3),e.qZA(),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.hij("",t._translateService.instant("pages.qrcode.labels.qr-used-text")," "),e.xp6(2),e.Oqu(t._translateService.instant("pages.qrcode.labels.qr-used-active-text"))}}function R(o,i){if(1&o&&(e.TgZ(0,"div",5),e.TgZ(1,"div",6),e.TgZ(2,"div",7),e._UZ(3,"img",8),e.YNc(4,U,1,0,"button",9),e.YNc(5,I,1,0,"button",10),e.qZA(),e.TgZ(6,"div",11),e.TgZ(7,"div"),e.YNc(8,F,4,2,"p",12),e.YNc(9,j,4,2,"p",12),e.qZA(),e.TgZ(10,"div"),e.YNc(11,E,4,2,"p",12),e.YNc(12,B,4,2,"p",12),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o){const t=i.$implicit;e.xp6(3),e.Q6J("src",t.qrUrl,e.LSH),e.xp6(1),e.Q6J("ngIf",0===t.qrStatus),e.xp6(1),e.Q6J("ngIf",1===t.qrStatus),e.xp6(3),e.Q6J("ngIf",0===t.qrStatus),e.xp6(1),e.Q6J("ngIf",1===t.qrStatus),e.xp6(2),e.Q6J("ngIf",0===t.qrUsed),e.xp6(1),e.Q6J("ngIf",1===t.qrUsed)}}function H(o,i){if(1&o&&(e.TgZ(0,"div",3),e.YNc(1,R,13,7,"div",4),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.qrcodeDetail.qrCodeForReatiler)}}function z(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit;return e.oxw(2).onClickActiveButton(a.qrCode)}),e.qZA()}}function $(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit;return e.oxw(2).onClickDeactiveButton(a.qrCode)}),e.qZA()}}function K(o,i){if(1&o&&(e.TgZ(0,"p",15),e._uU(1),e.TgZ(2,"span",16),e._uU(3),e.qZA(),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.hij("",t._translateService.instant("pages.qrcode.labels.qr-status-text")," "),e.xp6(2),e.Oqu(t._translateService.instant("pages.qrcode.labels.qr-status-non-active-text"))}}function X(o,i){if(1&o&&(e.TgZ(0,"p",15),e._uU(1),e.TgZ(2,"span",17),e._uU(3),e.qZA(),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.hij("",t._translateService.instant("pages.qrcode.labels.qr-status-text")," "),e.xp6(2),e.Oqu(t._translateService.instant("pages.qrcode.labels.qr-status-active-text"))}}function G(o,i){if(1&o&&(e.TgZ(0,"p",15),e._uU(1),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.hij("",t._translateService.instant("pages.qrcode.labels.qr-used-text")," "),e.xp6(2),e.Oqu(t._translateService.instant("pages.qrcode.labels.qr-used-non-active-text"))}}function V(o,i){if(1&o&&(e.TgZ(0,"p",15),e._uU(1),e.TgZ(2,"span",17),e._uU(3),e.qZA(),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.hij("",t._translateService.instant("pages.qrcode.labels.qr-used-text")," "),e.xp6(2),e.Oqu(t._translateService.instant("pages.qrcode.labels.qr-used-active-text"))}}function W(o,i){if(1&o&&(e.TgZ(0,"div",5),e.TgZ(1,"div",6),e.TgZ(2,"div",7),e._UZ(3,"img",8),e.YNc(4,z,1,0,"button",9),e.YNc(5,$,1,0,"button",10),e.qZA(),e.TgZ(6,"div",11),e.TgZ(7,"div"),e.YNc(8,K,4,2,"p",12),e.YNc(9,X,4,2,"p",12),e.qZA(),e.TgZ(10,"div"),e.YNc(11,G,4,2,"p",12),e.YNc(12,V,4,2,"p",12),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o){const t=i.$implicit;e.xp6(3),e.Q6J("src",t.qrUrl,e.LSH),e.xp6(1),e.Q6J("ngIf",0===t.qrStatus),e.xp6(1),e.Q6J("ngIf",1===t.qrStatus),e.xp6(3),e.Q6J("ngIf",0===t.qrStatus),e.xp6(1),e.Q6J("ngIf",1===t.qrStatus),e.xp6(2),e.Q6J("ngIf",0===t.qrUsed),e.xp6(1),e.Q6J("ngIf",1===t.qrUsed)}}function ee(o,i){if(1&o&&(e.TgZ(0,"div",3),e.YNc(1,W,13,7,"div",4),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.qrcodeDetail.qrCodeForInstaller)}}let te=(()=>{class o extends C.H{constructor(t,n,a,r,d,p,g,u,m,_,v){super(a,r,d,p,g,u,m,_,v),this.config=t,this.qrcodeService=n}ngOnInit(){console.log(this.config.data.packing_id),this.getQrcodeDetail(this.config.data.packing_id)}ngOnDestroy(){console.log("turn off qrcode-dialog-delete")}getQrcodeDetail(t){var n=this;return(0,f.Z)(function*(){var a;n._common.attachSpinner(),null===(a=n.qrcodeService.getPackingListDetail(t))||void 0===a||a.pipe((0,h.g)(n.loadingTime)).subscribe(r=>{200===r.responseStatus?(n.qrcodeDetail=r.content.datas,console.log(n.qrcodeDetail),n.presentToast("success",n._translateService.instant(r.content.message))):417===r.responseStatus?n.presentToast("warning",n._translateService.instant(r.content.message)):n.presentToast("error",n._translateService.instant("common.errors-message.common-server-error")),n._common.detachSpinner()},r=>{console.log(r),n.presentToast("error",n._translateService.instant("common.errors-message.common-server-error"))})})()}onClickDeactiveButton(t){var n=this;return(0,f.Z)(function*(){var a;console.log("click Deactive button"),n._common.attachSpinner(),null===(a=n.qrcodeService.onClickDeactiveButton(t))||void 0===a||a.pipe((0,h.g)(n.loadingTime)).subscribe(r=>{200===r.responseStatus?n.presentToast("success",n._translateService.instant(r.content.message)):417===r.responseStatus?n.presentToast("warning",n._translateService.instant(r.content.message)):n.presentToast("error",n._translateService.instant("common.errors-message.common-server-error")),n._common.detachSpinner()},r=>{console.log(r),n.presentToast("error",n._translateService.instant("common.errors-message.common-server-error"))})})()}onClickActiveButton(t){var n=this;return(0,f.Z)(function*(){var a;n._common.attachSpinner(),null===(a=n.qrcodeService.onClickActiveButton(t))||void 0===a||a.pipe((0,h.g)(n.loadingTime)).subscribe(r=>{200===r.responseStatus?n.presentToast("success",n._translateService.instant(r.content.message)):417===r.responseStatus?n.presentToast("warning",n._translateService.instant(r.content.message)):n.presentToast("error",n._translateService.instant("common.errors-message.common-server-error")),n._common.detachSpinner()},r=>{console.log(r),n.presentToast("error",n._translateService.instant("common.errors-message.common-server-error"))})})()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z.S),e.Y36(Q.D),e.Y36(l.gz),e.Y36(T.Dx),e.Y36(l.F0),e.Y36(b.uw),e.Y36(S.v),e.Y36(D.w),e.Y36(A._W),e.Y36(P.sK),e.Y36(Z.xA))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-qrcode-dialog-detail"]],features:[e.qOj],decls:7,vars:4,consts:[[1,"d-flex","flex-column"],[1,"text-title-element"],["class","d-flex flex-wrap container-element-need-delete",4,"ngIf"],[1,"d-flex","flex-wrap","container-element-need-delete"],["class","d-flex flex-row div-element-need-delete",4,"ngFor","ngForOf"],[1,"d-flex","flex-row","div-element-need-delete"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","div-qr-code-img"],[1,"img-resize",3,"src"],["pButton","","pRipple","","type","button","label","K\xedch Ho\u1ea1t","class","p-button-primary p-button-delete","icon","pi pi-check",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","label","H\u1ee7y","class","p-button-danger p-button-delete","icon","pi pi-trash",3,"click",4,"ngIf"],[1,"div-text"],["class","text-code-element",4,"ngIf"],["pButton","","pRipple","","type","button","label","K\xedch Ho\u1ea1t","icon","pi pi-check",1,"p-button-primary","p-button-delete",3,"click"],["pButton","","pRipple","","type","button","label","H\u1ee7y","icon","pi pi-trash",1,"p-button-danger","p-button-delete",3,"click"],[1,"text-code-element"],[1,"span-text-red"],[1,"span-text-green"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"label",1),e._uU(2),e.qZA(),e.YNc(3,H,2,1,"div",2),e.TgZ(4,"label",1),e._uU(5),e.qZA(),e.YNc(6,ee,2,1,"div",2),e.qZA()),2&t&&(e.xp6(2),e.hij(" ",n._translateService.instant("pages.qrcode.labels.reatiler-text")," "),e.xp6(1),e.Q6J("ngIf",null==n.qrcodeDetail?null:n.qrcodeDetail.qrCodeForReatiler),e.xp6(2),e.hij(" ",n._translateService.instant("pages.qrcode.labels.installer-text")," "),e.xp6(1),e.Q6J("ngIf",null==n.qrcodeDetail?null:n.qrcodeDetail.qrCodeForInstaller))},directives:[q.O5,q.sg,x.Hq],styles:[".p-dropdown{border-radius:8px;width:100%}  .p-button{border-radius:8px}  .p-image{width:25%}  .p-dialog .p-dialog-content{padding:1rem 1.5rem 2rem!important}.p-button-delete[_ngcontent-%COMP%]{width:70%;margin-top:3%;margin-left:10%;margin-bottom:3%;font-size:10px}.text-title-element[_ngcontent-%COMP%]{font-size:14px}.container-element-need-delete[_ngcontent-%COMP%]   .div-element-need-delete[_ngcontent-%COMP%]{width:45%;border:2px solid #a0d2fa;border-radius:8px;margin-bottom:1%;margin-right:5%}.container-element-need-delete[_ngcontent-%COMP%]   .div-element-need-delete[_ngcontent-%COMP%]   .div-text[_ngcontent-%COMP%]{width:50%;margin-top:1%}.container-element-need-delete[_ngcontent-%COMP%]   .div-element-need-delete[_ngcontent-%COMP%]   .div-text[_ngcontent-%COMP%]   .text-code-element[_ngcontent-%COMP%]{font-size:12px;font-weight:500}.container-element-need-delete[_ngcontent-%COMP%]   .div-element-need-delete[_ngcontent-%COMP%]   .div-text[_ngcontent-%COMP%]   .text-code-element[_ngcontent-%COMP%]   .span-text-red[_ngcontent-%COMP%]{color:red}.container-element-need-delete[_ngcontent-%COMP%]   .div-element-need-delete[_ngcontent-%COMP%]   .div-text[_ngcontent-%COMP%]   .text-code-element[_ngcontent-%COMP%]   .span-text-green[_ngcontent-%COMP%]{color:green}.container-element-need-delete[_ngcontent-%COMP%]   .div-element-need-delete[_ngcontent-%COMP%]   .div-qr-code-img[_ngcontent-%COMP%]{margin-top:1%;width:40%}.container-element-need-delete[_ngcontent-%COMP%]   .div-element-need-delete[_ngcontent-%COMP%]   .img-resize[_ngcontent-%COMP%]{width:40%;margin-left:25%}"]}),o})();var O=s(3013),ne=s(2111),Y=s(3928),y=s(8598);let oe=(()=>{class o extends C.H{constructor(t,n,a,r,d,p,g,u,m,_,v,be){super(n,a,r,d,p,g,u,m,_),this.fb=t,this.qrcodeService=v,this._confirmationService=be,this.isQrcodeList=!0,this.searchEvent=new e.vpe}ngOnInit(){this.qrcodeForm=this.fb.group({qrcodePackingNumber:["",[c.kI.required]],qrcodeProduct:["",[c.kI.required]],qrcodeDateCreate:["",[c.kI.required]],qrcodeDateProduction:["",[c.kI.required]]}),this.initializePage()}initializePage(){this.getPackingList()}getPackingList(){var t=this;return(0,f.Z)(function*(){(0,w.D)({productList:t.qrcodeService.getProductList()}).pipe((0,h.g)(t.loadingTime)).subscribe(n=>{200===n.productList.responseStatus?(t.productList=n.productList.content.datas.producstList,t.presentToast("success",t._translateService.instant(n.productList.content.message))):t.presentToast(417===n.productList.responseStatus?"warning":"error",t._translateService.instant(n.productList.content.message))},n=>{console.log(n),t.presentToast("error",t._translateService.instant("common.errors-message.common-server-error"))})})()}onChangeProductAtSelected(t){this.selectedProductId=t.value}findPacking(t){console.log(t)}getQrDate(t){let n=new Date(Date.parse(t));this.currentQrDate=`${n.getFullYear()}-${n.getMonth()+1}-${n.getDate()}`,console.log(this.currentQrDate)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.qu),e.Y36(l.gz),e.Y36(T.Dx),e.Y36(l.F0),e.Y36(b.uw),e.Y36(S.v),e.Y36(D.w),e.Y36(A._W),e.Y36(P.sK),e.Y36(Z.xA),e.Y36(Q.D),e.Y36(O.YP))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-advance-search"]],inputs:{isQrcodeList:"isQrcodeList"},outputs:{searchEvent:"searchEvent"},features:[e.qOj],decls:24,vars:9,consts:[["action","",1,"form",3,"formGroup"],[1,"row","input-field"],[1,"col-md-6"],[1,"form-group"],["for","qrcodePackingNumber",1,"form-control-label"],["type","text","pInputText","","id","qrcodePackingNumber","formControlName","qrcodePackingNumber",1,"form-control",3,"placeholder"],["for","qrcodeProduct",1,"form-control-label"],["optionLabel","productName","optionValue","productId",1,"common-dropdown","p-inputtext-sm",3,"options","placeholder","onChange"],["for","qrcodeDateCreate",1,"form-control-label"],["formControlName","qrcodeDateCreate","inputId","qrcodeDateCreate","placeholder","dd/mm/yyyy","dateFormat","dd/mm/yy",3,"showIcon","ngModel","onSelect","ngModelChange"],[1,"flex","btn-search"],["pButton","","type","button","label","T\xecm Ki\u1ebfm",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.TgZ(1,"h5"),e._uU(2,"T\xecm ki\u1ebfm n\xe2ng cao"),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"div",1),e.TgZ(5,"div",2),e.TgZ(6,"div",3),e.TgZ(7,"label",4),e._uU(8),e.qZA(),e._UZ(9,"input",5),e.qZA(),e.qZA(),e.TgZ(10,"div",2),e.TgZ(11,"div",3),e.TgZ(12,"label",6),e._uU(13),e.qZA(),e.TgZ(14,"p-dropdown",7),e.NdJ("onChange",function(r){return n.onChangeProductAtSelected(r)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",1),e.TgZ(16,"div",2),e.TgZ(17,"div",3),e.TgZ(18,"label",8),e._uU(19),e.qZA(),e.TgZ(20,"p-calendar",9),e.NdJ("onSelect",function(r){return n.getQrDate(r)})("ngModelChange",function(r){return n.qrDate=r}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"div",1),e.TgZ(22,"div",10),e.TgZ(23,"button",11),e.NdJ("click",function(){return n.findPacking(n.qrcodeForm.value)}),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("formGroup",n.qrcodeForm),e.xp6(8),e.hij("",n._translateService.instant("pages.qrcode.advance-search.packing-code")," "),e.xp6(1),e.Q6J("placeholder",n._translateService.instant("pages.qrcode.placeholders.example-packing-code")),e.xp6(4),e.Oqu(n._translateService.instant("pages.qrcode.advance-search.product")),e.xp6(1),e.Q6J("options",n.productList)("placeholder",n._translateService.instant("pages.qrcode.placeholders.choose-product")),e.xp6(5),e.Oqu(n._translateService.instant("pages.qrcode.labels.qr-date-of-create")),e.xp6(1),e.Q6J("showIcon",!0)("ngModel",n.qrDate))},directives:[c._Y,c.JL,c.sg,c.Fj,Y.o,c.JJ,c.u,L.Lt,y.f,x.Hq],styles:[".form[_ngcontent-%COMP%]{width:100%;height:auto;background-color:#fff;border:1px solid lightgrey;border-radius:20px;margin-top:2rem}.form[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{padding:1rem 0 0 1rem}.form[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{padding:0 2rem}[_nghost-%COMP%]     .p-dropdown{width:100%}[_nghost-%COMP%]     .p-button-text{width:120px;background-color:#008cff;color:#fff;border-color:#0000;text-align:center}[_nghost-%COMP%]     .p-calendar{width:100%}.btn-search[_ngcontent-%COMP%]{float:right;padding-bottom:2%;display:flex;justify-content:flex-end;align-items:center}label[_ngcontent-%COMP%]{display:block}"]}),o})();var re=s(3473),ae=s(464);function ie(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",7),e.TgZ(1,"h5"),e._uU(2),e.qZA(),e.TgZ(3,"span"),e.TgZ(4,"p-button",8),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).showModalDialogCreate()}),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(2),e.hij(" ",t._translateService.instant("pages.qrcode.table.result-list")," ")}}function se(o,i){if(1&o&&(e.TgZ(0,"tr"),e.TgZ(1,"th",9),e._uU(2),e.qZA(),e.TgZ(3,"th",10),e._uU(4),e.qZA(),e.TgZ(5,"th"),e._uU(6),e.qZA(),e.TgZ(7,"th",9),e._uU(8),e.qZA(),e.TgZ(9,"th",9),e._uU(10),e.qZA(),e.qZA()),2&o){const t=e.oxw(2);e.xp6(2),e.hij(" ",t._translateService.instant("pages.qrcode.table.activity")," "),e.xp6(2),e.hij(" ",t._translateService.instant("pages.qrcode.table.packing-number")," "),e.xp6(2),e.hij(" ",t._translateService.instant("pages.qrcode.table.product")," "),e.xp6(2),e.hij(" ",t._translateService.instant("pages.qrcode.table.product-date")," "),e.xp6(2),e.hij(" ",t._translateService.instant("pages.qrcode.table.create-date")," ")}}function ce(o,i){if(1&o&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,n=e.oxw(2);let a;e.xp6(1),e.hij(" ",null==(a=n.findProduct(t.productId,n.productList))?null:a.productName," ")}}function le(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td",9),e._UZ(2,"button",11),e._uU(3," | "),e.TgZ(4,"button",12),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).doDelete(r.packingId,"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a packing n\xe0y kh\xf4ng?")}),e.qZA(),e.qZA(),e.TgZ(5,"td",10),e.TgZ(6,"button",13),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).showModalDialogDetail(r.packingId)}),e.qZA(),e.qZA(),e.YNc(7,ce,2,1,"td",14),e.TgZ(8,"td",9),e._uU(9),e.ALo(10,"date"),e.qZA(),e.TgZ(11,"td",9),e._uU(12),e.ALo(13,"date"),e.qZA(),e.qZA()}if(2&o){const t=i.$implicit,n=e.oxw(2);e.xp6(6),e.Q6J("label",t.packingId),e.xp6(1),e.Q6J("ngIf",n.productList),e.xp6(2),e.hij(" ",e.xi3(10,4,t.packingDate,"dd/MM/yyyy")," "),e.xp6(3),e.hij(" ",e.xi3(13,7,t.createdDate,"dd/MM/yyyy")," ")}}const de=function(){return[5,10,15]};function pe(o,i){if(1&o&&(e.TgZ(0,"div",2),e.TgZ(1,"p-table",3),e.YNc(2,ie,5,1,"ng-template",4),e.YNc(3,se,11,5,"ng-template",5),e.YNc(4,le,14,10,"ng-template",6),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("value",t.packingList)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("totalRecords",t.totalRecords)("rowsPerPageOptions",e.DdM(6,de))}}const ge=[{path:"packing-qr-list",component:(()=>{class o extends C.H{constructor(t,n,a,r,d,p,g,u,m,_,v){super(t,n,a,r,d,p,g,u,m),this.qrcodeService=_,this._confirmationService=v,this.currentPage={first:0,rows:10,page:0,pageCount:10},this._pageTitle.setTitle(this._translateService.instant("pages.qrcode.labels.page-title"))}ngOnInit(){this.initializePage()}initializePage(){this.getPackingList()}getPackingList(){var t=this;return(0,f.Z)(function*(){t._common.attachSpinner(),(0,w.D)({response:t.qrcodeService.getPackingList({page:t.currentPage.page+1,itemPerPage:"1000",productId:0}),productList:t.qrcodeService.getProductList()}).pipe((0,h.g)(t.loadingTime)).subscribe(n=>{200===n.response.responseStatus?(t.packingList=n.response.content.datas.datasList,t.productList=n.productList.content.datas.producstList,t.totalRecords=n.response.content.datas.totalDatas,t.pageLinks=Math.round(t.totalRecords/t.currentPage.rows+1),console.log(n),t.lastPage=Math.floor(t.totalRecords/t.currentPage.rows)+1,t.presentToast("success",t._translateService.instant(n.response.content.message))):417===n.response.responseStatus?t.presentToast("warning",t._translateService.instant(n.response.content.message)):t.presentToast("error",t._translateService.instant("common.errors-message.common-server-error")),t._common.detachSpinner()},n=>{console.log(n),t.presentToast("error",t._translateService.instant("common.errors-message.common-server-error"))})})()}findProduct(t,n){return n.find(a=>a.productId===t)}doDelete(t,n){console.log(n),this._confirmationService.confirm({message:n,accept:()=>{var a;null===(a=this.qrcodeService.doDelete(t))||void 0===a||a.subscribe(r=>{200===r.responseStatus?(this.presentToast("success",this._translateService.instant(r.content.message)),this.getPackingList()):this.presentToast(417==r.responseStatus?"warning":"error",this._translateService.instant(r.statusText))},r=>{this.presentToast("error",this._translateService.instant(r))})}})}showModalDialogCreate(){this._dialog.open(J,{header:this._translateService.instant("pages.qrcode.labels.create-dialog-title"),width:"50vw"})}showModalDialogDetail(t){this._dialog.open(te,{data:{packing_id:t},header:this._translateService.instant("pages.qrcode.labels.detail-dialog-title"),width:"60vw"})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(l.gz),e.Y36(T.Dx),e.Y36(l.F0),e.Y36(b.uw),e.Y36(S.v),e.Y36(D.w),e.Y36(A._W),e.Y36(P.sK),e.Y36(Z.xA),e.Y36(Q.D),e.Y36(O.YP))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-qrcode-list"]],features:[e.qOj],decls:4,vars:1,consts:[["header","X\xe1c Nh\u1eadn","icon","pi pi-exclamation-triangle"],["class","app-table",4,"ngIf"],[1,"app-table"],["styleClass","p-datatable-sm p-datatable-gridlines","responsiveLayout","scroll","responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","scrollHeight","400px",3,"value","paginator","rows","showCurrentPageReport","totalRecords","rowsPerPageOptions"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","table-caption"],["label","Th\xeam m\xe3 QR","icon","pi pi-plus",3,"click"],[1,"max-width-260"],[1,"max-width-360"],["pButton","","pRipple","","type","button","label","Download",1,"p-button-success","p-button-text","mr-2"],["pButton","","pRipple","","type","button","label","Xo\xe1",1,"p-button-danger","p-button-text","mr-2",3,"click"],["pButton","","pRipple","","type","button",1,"p-button-text",3,"label","click"],[4,"ngIf"]],template:function(t,n){1&t&&(e.TgZ(0,"app-main-layout"),e._UZ(1,"app-advance-search"),e._UZ(2,"p-confirmDialog",0),e.YNc(3,pe,5,7,"div",1),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngIf",n.packingList))},directives:[ne.f,oe,re.Q,q.O5,ae.iA,O.jx,x.zx,x.Hq],pipes:[q.uU],styles:[".app-table[_ngcontent-%COMP%]{width:100%;height:auto;box-shadow:#959da533 0 8px 24px!important;background-color:#fff!important;margin-top:2rem;padding:5px}.app-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .app-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{justify-content:center}.max-width-260[_ngcontent-%COMP%]{max-width:260px}.max-width-360[_ngcontent-%COMP%]{max-width:360px}.table-caption[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]}),o})(),data:{listLabel:"Danh s\xe1ch m\xe3 QR"}}];let ue=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[l.Bz.forChild(ge)],l.Bz]}),o})();var me=s(8295),_e=s(9983),ve=s(5939),fe=s(6352),he=s(14),xe=s(7745),qe=s(4020),Ze=s(3422),Ce=s(9394);let Te=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[q.ez,ue,Ce.Y,me.lN,_e.c,ve.Nh,fe.zz,he.L,xe.d,qe.Q,Y.j,x.hJ,y._8,Ze.TX]]}),o})()}}]);